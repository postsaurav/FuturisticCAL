OBJECT Table 15 G/L Account
{
  OBJECT-PROPERTIES
  {
    Date=01/30/19;
    Time=12:55:21;
    Modified=Yes;
    Version List=NAVW113.02,NAVNA13.02,FuturisticCAL;
  }
  PROPERTIES
  {
    DataCaptionFields=No.,Name;
    OnInsert=BEGIN
               DimMgt.UpdateDefaultDim(DATABASE::"G/L Account","No.",
                 "Global Dimension 1 Code","Global Dimension 2 Code");

               SetLastModifiedDateTime;

               IF CostAccSetup.GET THEN
                 CostAccMgt.UpdateCostTypeFromGLAcc(Rec,xRec,0);

               IF Indentation < 0 THEN
                 Indentation := 0;
             END;

    OnModify=BEGIN
               SetLastModifiedDateTime;

               IF CostAccSetup.GET THEN BEGIN
                 IF CurrFieldNo <> 0 THEN
                   CostAccMgt.UpdateCostTypeFromGLAcc(Rec,xRec,1)
                 ELSE
                   CostAccMgt.UpdateCostTypeFromGLAcc(Rec,xRec,0);
               END;

               IF Indentation < 0 THEN
                 Indentation := 0;
             END;

    OnDelete=VAR
               GLBudgetEntry@1000 : Record 96;
               CommentLine@1001 : Record 97;
               ExtTextHeader@1002 : Record 279;
               AnalysisViewEntry@1003 : Record 365;
               AnalysisViewBudgetEntry@1004 : Record 366;
               MyAccount@1006 : Record 9153;
               MoveEntries@1005 : Codeunit 361;
             BEGIN
               MoveEntries.MoveGLEntries(Rec);

               GLBudgetEntry.SETCURRENTKEY("Budget Name","G/L Account No.");
               GLBudgetEntry.SETRANGE("G/L Account No.","No.");
               GLBudgetEntry.DELETEALL(TRUE);

               CommentLine.SETRANGE("Table Name",CommentLine."Table Name"::"G/L Account");
               CommentLine.SETRANGE("No.","No.");
               CommentLine.DELETEALL;

               ExtTextHeader.SETRANGE("Table Name",ExtTextHeader."Table Name"::"G/L Account");
               ExtTextHeader.SETRANGE("No.","No.");
               ExtTextHeader.DELETEALL(TRUE);

               AnalysisViewEntry.SETRANGE("Account No.","No.");
               AnalysisViewEntry.DELETEALL;

               AnalysisViewBudgetEntry.SETRANGE("G/L Account No.","No.");
               AnalysisViewBudgetEntry.DELETEALL;

               MyAccount.SETRANGE("Account No.","No.");
               MyAccount.DELETEALL;

               DimMgt.DeleteDefaultDim(DATABASE::"G/L Account","No.");
             END;

    OnRename=VAR
               SalesLine@1000 : Record 37;
               PurchaseLine@1001 : Record 39;
             BEGIN
               SalesLine.RenameNo(SalesLine.Type::"G/L Account",xRec."No.","No.");
               PurchaseLine.RenameNo(PurchaseLine.Type::"G/L Account",xRec."No.","No.");
               DimMgt.RenameDefaultDim(DATABASE::"G/L Account",xRec."No.","No.");

               SetLastModifiedDateTime;

               IF CostAccSetup.READPERMISSION THEN
                 CostAccMgt.UpdateCostTypeFromGLAcc(Rec,xRec,3);
             END;

    CaptionML=[ENU=G/L Account;
               ESM=Cuenta;
               FRC=Cpte du grand livre;
               ENC=G/L Account];
    LookupPageID=Page18;
    DrillDownPageID=Page16;
  }
  FIELDS
  {
    { 1   ;   ;No.                 ;Code20        ;AltSearchField=Search Name;
                                                   CaptionML=[ENU=No.;
                                                              ESM=Nß;
                                                              FRC=N¯;
                                                              ENC=No.];
                                                   NotBlank=Yes }
    { 2   ;   ;Name                ;Text50        ;OnValidate=BEGIN
                                                                IF ("Search Name" = UPPERCASE(xRec.Name)) OR ("Search Name" = '') THEN
                                                                  "Search Name" := Name;
                                                              END;

                                                   CaptionML=[ENU=Name;
                                                              ESM=Nombre;
                                                              FRC=Nom;
                                                              ENC=Name] }
    { 3   ;   ;Search Name         ;Code50        ;CaptionML=[ENU=Search Name;
                                                              ESM=Alias;
                                                              FRC=Rechercher un nom;
                                                              ENC=Search Name] }
    { 4   ;   ;Account Type        ;Option        ;OnValidate=VAR
                                                                GLEntry@1000 : Record 17;
                                                                GLBudgetEntry@1001 : Record 96;
                                                              BEGIN
                                                                IF ("Account Type" <> "Account Type"::Posting) AND
                                                                   (xRec."Account Type" = xRec."Account Type"::Posting)
                                                                THEN BEGIN
                                                                  GLEntry.SETRANGE("G/L Account No.","No.");
                                                                  IF NOT GLEntry.ISEMPTY THEN
                                                                    ERROR(
                                                                      Text000,
                                                                      FIELDCAPTION("Account Type"));
                                                                  GLBudgetEntry.SETRANGE("G/L Account No.","No.");
                                                                  IF NOT GLBudgetEntry.ISEMPTY THEN
                                                                    ERROR(
                                                                      Text001,
                                                                      FIELDCAPTION("Account Type"));
                                                                END;
                                                                Totaling := '';
                                                                IF "Account Type" = "Account Type"::Posting THEN BEGIN
                                                                  IF "Account Type" <> xRec."Account Type" THEN
                                                                    "Direct Posting" := TRUE;
                                                                END ELSE
                                                                  "Direct Posting" := FALSE;
                                                              END;

                                                   CaptionML=[ENU=Account Type;
                                                              ESM=Tipo mov.;
                                                              FRC=Type de compte;
                                                              ENC=Account Type];
                                                   OptionCaptionML=[ENU=Posting,Heading,Total,Begin-Total,End-Total;
                                                                    ESM=Auxiliar,Mayor,Total,Inicio Total,Fin Total;
                                                                    FRC=Report,En-tàte,Total,DÇbut-Total,Fin-Total;
                                                                    ENC=Posting,Heading,Total,Begin-Total,End-Total];
                                                   OptionString=Posting,Heading,Total,Begin-Total,End-Total }
    { 6   ;   ;Global Dimension 1 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(1,"Global Dimension 1 Code");
                                                              END;

                                                   CaptionML=[ENU=Global Dimension 1 Code;
                                                              ESM=C¢d. dimensi¢n global 1;
                                                              FRC=Code de dimension principal 1;
                                                              ENC=Global Dimension 1 Code];
                                                   CaptionClass='1,1,1' }
    { 7   ;   ;Global Dimension 2 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(2,"Global Dimension 2 Code");
                                                              END;

                                                   CaptionML=[ENU=Global Dimension 2 Code;
                                                              ESM=C¢d. dimensi¢n global 2;
                                                              FRC=Code de dimension principal 2;
                                                              ENC=Global Dimension 2 Code];
                                                   CaptionClass='1,1,2' }
    { 8   ;   ;Account Category    ;Option        ;OnValidate=BEGIN
                                                                IF "Account Category" = "Account Category"::" " THEN
                                                                  EXIT;

                                                                IF "Account Category" IN ["Account Category"::Income,"Account Category"::"Cost of Goods Sold","Account Category"::Expense] THEN
                                                                  "Income/Balance" := "Income/Balance"::"Income Statement"
                                                                ELSE
                                                                  "Income/Balance" := "Income/Balance"::"Balance Sheet";
                                                                IF "Account Category" <> xRec."Account Category" THEN
                                                                  "Account Subcategory Entry No." := 0;

                                                                UpdateAccountCategoryOfSubAccounts;
                                                              END;

                                                   CaptionML=[ENU=Account Category;
                                                              ESM=Categor°a de cuenta;
                                                              FRC=CatÇgorie du compte;
                                                              ENC=Account Category];
                                                   OptionCaptionML=[ENU=" ,Assets,Liabilities,Equity,Income,Cost of Goods Sold,Expense";
                                                                    ESM=" ,Activo,Pasivo,Recursos propios,Ingresos,Costo de las mercanc°as vendidas,Gasto";
                                                                    FRC=" ,Immobilisations,Emprunts et dettes,Capitaux propres,Revenus,Coñt des marchandises vendues,DÇpenses";
                                                                    ENC=" ,Assets,Liabilities,Equity,Income,Cost of Goods Sold,Expense"];
                                                   OptionString=[ ,Assets,Liabilities,Equity,Income,Cost of Goods Sold,Expense];
                                                   BlankZero=Yes }
    { 9   ;   ;Income/Balance      ;Option        ;OnValidate=VAR
                                                                CostType@1000 : Record 1103;
                                                              BEGIN
                                                                IF ("Income/Balance" = "Income/Balance"::"Balance Sheet") AND ("Cost Type No." <> '') THEN BEGIN
                                                                  IF CostType.GET("No.") THEN BEGIN
                                                                    CostType."G/L Account Range" := '';
                                                                    CostType.MODIFY;
                                                                  END;
                                                                  "Cost Type No." := '';
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Income/Balance;
                                                              ESM=Ingresos/Saldo;
                                                              FRC=Revenu/solde;
                                                              ENC=Income/Balance];
                                                   OptionCaptionML=[ENU=Income Statement,Balance Sheet;
                                                                    ESM=Resultado,Balance;
                                                                    FRC=êtat des rÇsultats,Bilan;
                                                                    ENC=Income Statement,Balance Sheet];
                                                   OptionString=Income Statement,Balance Sheet }
    { 10  ;   ;Debit/Credit        ;Option        ;CaptionML=[ENU=Debit/Credit;
                                                              ESM=Debe/Haber;
                                                              FRC=DÇbit/CrÇdit;
                                                              ENC=Debit/Credit];
                                                   OptionCaptionML=[ENU=Both,Debit,Credit;
                                                                    ESM=Ambos,Debe,Haber;
                                                                    FRC=Les deux,DÇbit,CrÇdit;
                                                                    ENC=Both,Debit,Credit];
                                                   OptionString=Both,Debit,Credit }
    { 11  ;   ;No. 2               ;Code20        ;CaptionML=[ENU=No. 2;
                                                              ESM=Nß 2;
                                                              FRC=N¯ 2;
                                                              ENC=No. 2] }
    { 12  ;   ;Comment             ;Boolean       ;FieldClass=FlowField;
                                                   CalcFormula=Exist("Comment Line" WHERE (Table Name=CONST(G/L Account),
                                                                                           No.=FIELD(No.)));
                                                   CaptionML=[ENU=Comment;
                                                              ESM=Comentario;
                                                              FRC=Commentaire;
                                                              ENC=Comment];
                                                   Editable=No }
    { 13  ;   ;Blocked             ;Boolean       ;CaptionML=[ENU=Blocked;
                                                              ESM=Bloqueado;
                                                              FRC=BloquÇ;
                                                              ENC=Blocked] }
    { 14  ;   ;Direct Posting      ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Direct Posting;
                                                              ESM=Entrada directa;
                                                              FRC=Report direct;
                                                              ENC=Direct Posting] }
    { 16  ;   ;Reconciliation Account;Boolean     ;AccessByPermission=TableData 270=R;
                                                   CaptionML=[ENU=Reconciliation Account;
                                                              ESM=Saldo controlable en diarios;
                                                              FRC=Compte de rapprochement;
                                                              ENC=Reconciliation Account] }
    { 17  ;   ;New Page            ;Boolean       ;CaptionML=[ENU=New Page;
                                                              ESM=Cambiar p†gina;
                                                              FRC=Nouvelle page;
                                                              ENC=New Page] }
    { 18  ;   ;No. of Blank Lines  ;Integer       ;CaptionML=[ENU=No. of Blank Lines;
                                                              ESM=Nß l°neas en blanco;
                                                              FRC=Nombre lignes blanches;
                                                              ENC=No. of Blank Lines];
                                                   MinValue=0 }
    { 19  ;   ;Indentation         ;Integer       ;OnValidate=BEGIN
                                                                IF Indentation < 0 THEN
                                                                  Indentation := 0;
                                                              END;

                                                   CaptionML=[ENU=Indentation;
                                                              ESM=Indentar;
                                                              FRC=Indentation;
                                                              ENC=Indentation];
                                                   MinValue=0 }
    { 25  ;   ;Last Modified Date Time;DateTime   ;CaptionML=[ENU=Last Modified Date Time;
                                                              ESM=Fecha y hora de £ltima modificaci¢n;
                                                              FRC=Date-heure derniäre modification;
                                                              ENC=Last Modified Date Time];
                                                   Editable=No }
    { 26  ;   ;Last Date Modified  ;Date          ;CaptionML=[ENU=Last Date Modified;
                                                              ESM=Fecha £lt. modificaci¢n;
                                                              FRC=Date derniäre modification;
                                                              ENC=Last Date Modified];
                                                   Editable=No }
    { 28  ;   ;Date Filter         ;Date          ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Date Filter;
                                                              ESM=Filtro fecha;
                                                              FRC=Filtre date;
                                                              ENC=Date Filter] }
    { 29  ;   ;Global Dimension 1 Filter;Code20   ;FieldClass=FlowFilter;
                                                   TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   CaptionML=[ENU=Global Dimension 1 Filter;
                                                              ESM=Filtro dimensi¢n global 1;
                                                              FRC=Filtre dimension principale 1;
                                                              ENC=Global Dimension 1 Filter];
                                                   CaptionClass='1,3,1' }
    { 30  ;   ;Global Dimension 2 Filter;Code20   ;FieldClass=FlowFilter;
                                                   TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   CaptionML=[ENU=Global Dimension 2 Filter;
                                                              ESM=Filtro dimensi¢n global  2;
                                                              FRC=Filtre dimension principale 2;
                                                              ENC=Global Dimension 2 Filter];
                                                   CaptionClass='1,3,2' }
    { 31  ;   ;Balance at Date     ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                             G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                             Business Unit Code=FIELD(Business Unit Filter),
                                                                                             Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                             Posting Date=FIELD(UPPERLIMIT(Date Filter)),
                                                                                             Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Balance at Date;
                                                              ESM=Saldo a la fecha;
                                                              FRC=Solde en date du;
                                                              ENC=Balance at Date];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 32  ;   ;Net Change          ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                             G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                             Business Unit Code=FIELD(Business Unit Filter),
                                                                                             Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                             Posting Date=FIELD(Date Filter),
                                                                                             Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Net Change;
                                                              ESM=Saldo periodo;
                                                              FRC=Variation nette;
                                                              ENC=Net Change];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 33  ;   ;Budgeted Amount     ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Budget Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                    Date=FIELD(Date Filter),
                                                                                                    Budget Name=FIELD(Budget Filter),
                                                                                                    Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Budgeted Amount;
                                                              ESM=Importe pptdo.;
                                                              FRC=Montant budgÇtÇ;
                                                              ENC=Budgeted Amount];
                                                   AutoFormatType=1 }
    { 34  ;   ;Totaling            ;Text250       ;OnValidate=BEGIN
                                                                IF NOT IsTotaling THEN
                                                                  FIELDERROR("Account Type");
                                                                CALCFIELDS(Balance);
                                                              END;

                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   CaptionML=[ENU=Totaling;
                                                              ESM=Sumatorio;
                                                              FRC=Totalisation;
                                                              ENC=Totalling] }
    { 35  ;   ;Budget Filter       ;Code10        ;FieldClass=FlowFilter;
                                                   TableRelation="G/L Budget Name";
                                                   CaptionML=[ENU=Budget Filter;
                                                              ESM=Filtro presupuesto;
                                                              FRC=Filtre budget;
                                                              ENC=Budget Filter] }
    { 36  ;   ;Balance             ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                             G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                             Business Unit Code=FIELD(Business Unit Filter),
                                                                                             Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                             Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                             Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Balance;
                                                              ESM=Saldo;
                                                              FRC=Solde;
                                                              ENC=Balance];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 37  ;   ;Budget at Date      ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Budget Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                    Date=FIELD(UPPERLIMIT(Date Filter)),
                                                                                                    Budget Name=FIELD(Budget Filter),
                                                                                                    Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Budget at Date;
                                                              ESM=Presupuesto a la fecha;
                                                              FRC=Budget pÇriode;
                                                              ENC=Budget at Date];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 39  ;   ;Consol. Translation Method;Option  ;OnValidate=VAR
                                                                ConflictGLAcc@1000 : Record 15;
                                                              BEGIN
                                                                IF TranslationMethodConflict(ConflictGLAcc) THEN
                                                                  IF ConflictGLAcc.GETFILTER("Consol. Debit Acc.") <> '' THEN
                                                                    MESSAGE(
                                                                      Text002,ConflictGLAcc.TABLECAPTION,ConflictGLAcc."No.",ConflictGLAcc.FIELDCAPTION("Consol. Debit Acc."),
                                                                      ConflictGLAcc.FIELDCAPTION("Consol. Translation Method"),ConflictGLAcc."Consol. Translation Method")
                                                                  ELSE
                                                                    MESSAGE(
                                                                      Text002,ConflictGLAcc.TABLECAPTION,ConflictGLAcc."No.",ConflictGLAcc.FIELDCAPTION("Consol. Credit Acc."),
                                                                      ConflictGLAcc.FIELDCAPTION("Consol. Translation Method"),ConflictGLAcc."Consol. Translation Method");
                                                              END;

                                                   AccessByPermission=TableData 220=R;
                                                   CaptionML=[ENU=Consol. Translation Method;
                                                              ESM=MÇtodo traducc. consolidaci¢n;
                                                              FRC=MÇthode traduction consol.;
                                                              ENC=Consol. Translation Method];
                                                   OptionCaptionML=[ENU=Average Rate (Manual),Closing Rate,Historical Rate,Composite Rate,Equity Rate;
                                                                    ESM=Tipo medio (manual),Tipo al cierre,Tipo hist¢rico,Tipo compuesto,Tipo neto;
                                                                    FRC=Taux moyen (manuel),Taux de fermeture,Taux historique,Taux composÇ,Taux sur capital;
                                                                    ENC=Average Rate (Manual),Closing Rate,Historical Rate,Composite Rate,Equity Rate];
                                                   OptionString=Average Rate (Manual),Closing Rate,Historical Rate,Composite Rate,Equity Rate }
    { 40  ;   ;Consol. Debit Acc.  ;Code20        ;OnValidate=VAR
                                                                ConflictGLAcc@1000 : Record 15;
                                                              BEGIN
                                                                IF TranslationMethodConflict(ConflictGLAcc) THEN
                                                                  MESSAGE(
                                                                    Text002,ConflictGLAcc.TABLECAPTION,ConflictGLAcc."No.",ConflictGLAcc.FIELDCAPTION("Consol. Debit Acc."),
                                                                    ConflictGLAcc.FIELDCAPTION("Consol. Translation Method"),ConflictGLAcc."Consol. Translation Method");
                                                              END;

                                                   AccessByPermission=TableData 220=R;
                                                   CaptionML=[ENU=Consol. Debit Acc.;
                                                              ESM=Cta. consol. debe;
                                                              FRC=Compte dÇbit-consolidation;
                                                              ENC=Consol. Debit Acc.] }
    { 41  ;   ;Consol. Credit Acc. ;Code20        ;OnValidate=VAR
                                                                ConflictGLAcc@1000 : Record 15;
                                                              BEGIN
                                                                IF TranslationMethodConflict(ConflictGLAcc) THEN
                                                                  MESSAGE(
                                                                    Text002,ConflictGLAcc.TABLECAPTION,ConflictGLAcc."No.",ConflictGLAcc.FIELDCAPTION("Consol. Credit Acc."),
                                                                    ConflictGLAcc.FIELDCAPTION("Consol. Translation Method"),ConflictGLAcc."Consol. Translation Method");
                                                              END;

                                                   AccessByPermission=TableData 220=R;
                                                   CaptionML=[ENU=Consol. Credit Acc.;
                                                              ESM=Cta. consol. haber;
                                                              FRC=Compte crÇdit-consolidation;
                                                              ENC=Consol. Credit Acc.] }
    { 42  ;   ;Business Unit Filter;Code20        ;FieldClass=FlowFilter;
                                                   TableRelation="Business Unit";
                                                   CaptionML=[ENU=Business Unit Filter;
                                                              ESM=Filtro empresa;
                                                              FRC=Filtre entitÇs commerciales;
                                                              ENC=Business Unit Filter] }
    { 43  ;   ;Gen. Posting Type   ;Option        ;CaptionML=[ENU=Gen. Posting Type;
                                                              ESM=Tipo de registro gen.;
                                                              FRC=Type de report gÇnÇral;
                                                              ENC=Gen. Posting Type];
                                                   OptionCaptionML=[ENU=" ,Purchase,Sale";
                                                                    ESM=" ,Compras,Ventas";
                                                                    FRC=" ,Achat,Vente";
                                                                    ENC=" ,Purchase,Sale"];
                                                   OptionString=[ ,Purchase,Sale] }
    { 44  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   OnValidate=VAR
                                                                GenBusPostingGrp@1000 : Record 250;
                                                              BEGIN
                                                                IF xRec."Gen. Bus. Posting Group" <> "Gen. Bus. Posting Group" THEN
                                                                  IF GenBusPostingGrp.ValidateVatBusPostingGroup(GenBusPostingGrp,"Gen. Bus. Posting Group") THEN
                                                                    VALIDATE("VAT Bus. Posting Group",GenBusPostingGrp."Def. VAT Bus. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo registro neg. gen.;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 45  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   OnValidate=VAR
                                                                GenProdPostingGrp@1000 : Record 251;
                                                              BEGIN
                                                                IF xRec."Gen. Prod. Posting Group" <> "Gen. Prod. Posting Group" THEN
                                                                  IF GenProdPostingGrp.ValidateVatProdPostingGroup(GenProdPostingGrp,"Gen. Prod. Posting Group") THEN
                                                                    VALIDATE("VAT Prod. Posting Group",GenProdPostingGrp."Def. VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo registro prod. gen.;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 46  ;   ;Picture             ;BLOB          ;CaptionML=[ENU=Picture;
                                                              ESM=Imagen;
                                                              FRC=Image;
                                                              ENC=Picture];
                                                   SubType=Bitmap }
    { 47  ;   ;Debit Amount        ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Debit Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                     G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                     Posting Date=FIELD(Date Filter),
                                                                                                     Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Debit Amount;
                                                              ESM=Importe debe;
                                                              FRC=Montant de dÇbit;
                                                              ENC=Debit Amount];
                                                   BlankZero=Yes;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 48  ;   ;Credit Amount       ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Credit Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                      G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                      Business Unit Code=FIELD(Business Unit Filter),
                                                                                                      Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                      Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                      Posting Date=FIELD(Date Filter),
                                                                                                      Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Credit Amount;
                                                              ESM=Importe haber;
                                                              FRC=Montant de crÇdit;
                                                              ENC=Credit Amount];
                                                   BlankZero=Yes;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 49  ;   ;Automatic Ext. Texts;Boolean       ;CaptionML=[ENU=Automatic Ext. Text;
                                                              ESM=Texto adicional autom†tico;
                                                              FRC=Textes Çtendus automatiques;
                                                              ENC=Automatic Ext. Text] }
    { 52  ;   ;Budgeted Debit Amount;Decimal      ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Budget Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                    Date=FIELD(Date Filter),
                                                                                                    Budget Name=FIELD(Budget Filter),
                                                                                                    Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Budgeted Debit Amount;
                                                              ESM=Debe presupuestado;
                                                              FRC=Montant dÇbit budgÇtÇ;
                                                              ENC=Budgeted Debit Amount];
                                                   BlankNumbers=BlankNegAndZero;
                                                   AutoFormatType=1 }
    { 53  ;   ;Budgeted Credit Amount;Decimal     ;FieldClass=FlowField;
                                                   CalcFormula=-Sum("G/L Budget Entry".Amount WHERE (G/L Account No.=FIELD(No.),
                                                                                                     G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                     Business Unit Code=FIELD(Business Unit Filter),
                                                                                                     Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                     Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                     Date=FIELD(Date Filter),
                                                                                                     Budget Name=FIELD(Budget Filter),
                                                                                                     Dimension Set ID=FIELD(Dimension Set ID Filter)));
                                                   CaptionML=[ENU=Budgeted Credit Amount;
                                                              ESM=Haber presupuestado;
                                                              FRC=Montant crÇdit budgÇtÇ;
                                                              ENC=Budgeted Credit Amount];
                                                   BlankNumbers=BlankNegAndZero;
                                                   AutoFormatType=1 }
    { 54  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code] }
    { 55  ;   ;Tax Liable          ;Boolean       ;CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable] }
    { 56  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 57  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 58  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 59  ;   ;VAT Amt.            ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."VAT Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                   G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                   Business Unit Code=FIELD(Business Unit Filter),
                                                                                                   Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                   Posting Date=FIELD(Date Filter)));
                                                   CaptionML=[ENU=Tax Amt.;
                                                              ESM=Importe de IVA;
                                                              FRC=Montant TVA;
                                                              ENC=Tax Amt.];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 60  ;   ;Additional-Currency Net Change;Decimal;
                                                   FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Additional-Currency Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                   G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                   Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                   Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                                   Posting Date=FIELD(Date Filter)));
                                                   CaptionML=[ENU=Additional-Currency Net Change;
                                                              ESM=Saldo periodo divisa-adicional;
                                                              FRC=Variation devise additionnelle;
                                                              ENC=Additional-Currency Net Change];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 61  ;   ;Add.-Currency Balance at Date;Decimal;
                                                   FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Additional-Currency Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                   G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                   Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                   Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                                   Posting Date=FIELD(UPPERLIMIT(Date Filter))));
                                                   CaptionML=[ENU=Add.-Currency Balance at Date;
                                                              ESM=Saldo a la fecha divisa-adic.;
                                                              FRC=Solde en date de devise add.;
                                                              ENC=Add.-Currency Balance at Date];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 62  ;   ;Additional-Currency Balance;Decimal;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Additional-Currency Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                   G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                   Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                   Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter)));
                                                   CaptionML=[ENU=Additional-Currency Balance;
                                                              ESM=Saldo divisa-adicional;
                                                              FRC=Solde devise additionnelle;
                                                              ENC=Additional-Currency Balance];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 63  ;   ;Exchange Rate Adjustment;Option    ;AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Exchange Rate Adjustment;
                                                              ESM=Ajuste tipo cambio;
                                                              FRC=Ajustement taux de change;
                                                              ENC=Exchange Rate Adjustment];
                                                   OptionCaptionML=[ENU=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount;
                                                                    ESM=No ajustar,Ajustar importe,Ajustar importe divisa-adicional;
                                                                    FRC=Aucun ajustement,Ajuster montant,Ajuster montant devise additionnelle;
                                                                    ENC=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount];
                                                   OptionString=No Adjustment,Adjust Amount,Adjust Additional-Currency Amount }
    { 64  ;   ;Add.-Currency Debit Amount;Decimal ;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Add.-Currency Debit Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                   G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                   Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                   Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                   Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                                   Posting Date=FIELD(Date Filter)));
                                                   CaptionML=[ENU=Add.-Currency Debit Amount;
                                                              ESM=Debe div.-adic.;
                                                              FRC=Montant dÇbit devise add.;
                                                              ENC=Add.-Currency Debit Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 65  ;   ;Add.-Currency Credit Amount;Decimal;FieldClass=FlowField;
                                                   CalcFormula=Sum("G/L Entry"."Add.-Currency Credit Amount" WHERE (G/L Account No.=FIELD(No.),
                                                                                                                    G/L Account No.=FIELD(FILTER(Totaling)),
                                                                                                                    Business Unit Code=FIELD(Business Unit Filter),
                                                                                                                    Global Dimension 1 Code=FIELD(Global Dimension 1 Filter),
                                                                                                                    Global Dimension 2 Code=FIELD(Global Dimension 2 Filter),
                                                                                                                    Posting Date=FIELD(Date Filter)));
                                                   CaptionML=[ENU=Add.-Currency Credit Amount;
                                                              ESM=Haber div.-adic.;
                                                              FRC=Montant crÇdit devise add.;
                                                              ENC=Add.-Currency Credit Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 66  ;   ;Default IC Partner G/L Acc. No;Code20;
                                                   TableRelation="IC G/L Account".No.;
                                                   CaptionML=[ENU=Default IC Partner G/L Acc. No;
                                                              ESM=Nß cuenta IC asociada predet.;
                                                              FRC=N¯ compte G/L du partenaire IC;
                                                              ENC=Default IC Partner G/L Acc. No] }
    { 70  ;   ;Omit Default Descr. in Jnl.;Boolean;CaptionML=[ENU=Omit Default Descr. in Jnl.;
                                                              ESM=Omitir descripci¢n predeterminada en el diario;
                                                              FRC=Omettre la descr. par dÇfaut dans le journal;
                                                              ENC=Omit Default Descr. in Jnl.] }
    { 80  ;   ;Account Subcategory Entry No.;Integer;
                                                   TableRelation="G/L Account Category";
                                                   OnValidate=VAR
                                                                GLAccountCategory@1000 : Record 570;
                                                              BEGIN
                                                                IF "Account Subcategory Entry No." = 0 THEN
                                                                  EXIT;
                                                                GLAccountCategory.GET("Account Subcategory Entry No.");
                                                                TESTFIELD("Income/Balance",GLAccountCategory."Income/Balance");
                                                                "Account Category" := GLAccountCategory."Account Category";
                                                              END;

                                                   CaptionML=[ENU=Account Subcategory Entry No.;
                                                              ESM=N.ß mov. subcategor°a de cuenta;
                                                              FRC=N¯ Çcriture de sous-catÇgorie du compte;
                                                              ENC=Account Subcategory Entry No.] }
    { 81  ;   ;Account Subcategory Descript.;Text80;
                                                   FieldClass=FlowField;
                                                   CalcFormula=Lookup("G/L Account Category".Description WHERE (Entry No.=FIELD(Account Subcategory Entry No.)));
                                                   CaptionML=[ENU=Account Subcategory Descript.;
                                                              ESM=Descrip. subcategor°a de cuenta;
                                                              FRC=Description de sous-catÇgorie du compte;
                                                              ENC=Account Subcategory Descript.];
                                                   Editable=No }
    { 400 ;   ;Dimension Set ID Filter;Integer    ;FieldClass=FlowFilter;
                                                   CaptionML=[ENU=Dimension Set ID Filter;
                                                              ESM=Filtro de id. de grupo de dimensiones;
                                                              FRC=Filtre Code ensemble de dimensions;
                                                              ENC=Dimension Set ID Filter] }
    { 1100;   ;Cost Type No.       ;Code20        ;TableRelation="Cost Type";
                                                   ValidateTableRelation=No;
                                                   CaptionML=[ENU=Cost Type No.;
                                                              ESM=Nß tipo costo;
                                                              FRC=N¯ type coñt;
                                                              ENC=Cost Type No.];
                                                   Editable=No }
    { 1700;   ;Default Deferral Template Code;Code10;
                                                   TableRelation="Deferral Template"."Deferral Code";
                                                   CaptionML=[ENU=Default Deferral Template Code;
                                                              ESM=C¢digo de plantilla de fraccionamiento predeterminada;
                                                              FRC=Code modäle Çchelonnement par dÇfaut;
                                                              ENC=Default Deferral Template Code] }
    { 8000;   ;Id                  ;GUID          ;CaptionML=[ENU=Id;
                                                              ESM=Id.;
                                                              FRC="Code ";
                                                              ENC=Id] }
    { 10001;  ;GIFI Code           ;Code10        ;TableRelation="GIFI Code";
                                                   CaptionML=[ENU=GIFI Code;
                                                              ESM=C¢d. GIFI;
                                                              FRC=Code IGRF;
                                                              ENC=GIFI Code] }
    { 27000;  ;SAT Account Code    ;Code20        ;TableRelation="SAT Account Code";
                                                   CaptionML=[ENU=SAT Account Code;
                                                              ESM=C¢digo de cuenta del SAT;
                                                              FRC=Code du compte SAT;
                                                              ENC=SAT Account Code] }
    { 50000;  ;Expense Code        ;Code20        ;TableRelation=Expense;
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Expense Code }
  }
  KEYS
  {
    {    ;No.                                     ;Clustered=Yes }
    {    ;Search Name                              }
    {    ;Reconciliation Account                   }
    {    ;Gen. Bus. Posting Group                  }
    {    ;Gen. Prod. Posting Group                 }
    { No ;Consol. Debit Acc.,Consol. Translation Method }
    { No ;Consol. Credit Acc.,Consol. Translation Method }
    {    ;Name                                     }
    {    ;Account Type                             }
    {    ;GIFI Code                                }
    {    ;Account Category                         }
  }
  FIELDGROUPS
  {
    { 1   ;DropDown            ;No.,Name,Income/Balance,Blocked,Direct Posting }
  }
  CODE
  {
    VAR
      Text000@1000 : TextConst 'ENU=You cannot change %1 because there are one or more ledger entries associated with this account.;ESM=No se puede cambiar la cuenta %1 porque tiene movimientos asociados.;FRC=Vous ne pouvez changer %1 parce qu''il y a une ou plusieurs Çcriture(s) associÇe(s) Ö ce compte.;ENC=You cannot change %1 because there are one or more ledger entries associated with this account.';
      Text001@1001 : TextConst 'ENU=You cannot change %1 because this account is part of one or more budgets.;ESM=No se puede cambiar la cuenta %1 porque est† incluida en presupuestos.;FRC=Vous ne pouvez changer %1 parce qu''il fait partie d''un ou de plusieurs budget(s).;ENC=You cannot change %1 because this account is part of one or more budgets.';
      GLSetup@1002 : Record 98;
      CostAccSetup@1006 : Record 1108;
      DimMgt@1003 : Codeunit 408;
      CostAccMgt@1007 : Codeunit 1100;
      GLSetupRead@1004 : Boolean;
      Text002@1005 : TextConst 'ENU="There is another %1: %2; which refers to the same %3, but with a different %4: %5.";ESM=Existe otro %1: %2 que hace referencia al mismo %3, pero con un valor diferente para %4: %5.;FRC=Il y a un autre %1 : %2, qui se rapporte au màme %3, mais avec un diffÇrent %4 : %5.;ENC="There is another %1: %2; which refers to the same %3, but with a different %4: %5."';
      NoAccountCategoryMatchErr@1008 : TextConst '@@@="%1=account category value, %2=the user input.";ENU=There is no subcategory description for %1 that matches ''%2''.;ESM=No hay ninguna descripci¢n de subcategor°a para %1 que coincide con ''%2''.;FRC=Il n''existe aucune description de sous-catÇgorie pour %1 qui corresponde Ö ''%2''.;ENC=There is no subcategory description for %1 that matches ''%2''.';

    [External]
    PROCEDURE SetupNewGLAcc@1(OldGLAcc@1000 : Record 15;BelowOldGLAcc@1001 : Boolean);
    VAR
      OldGLAcc2@1002 : Record 15;
    BEGIN
      IF NOT BelowOldGLAcc THEN BEGIN
        OldGLAcc2 := OldGLAcc;
        OldGLAcc.COPY(Rec);
        OldGLAcc := OldGLAcc2;
        IF NOT OldGLAcc.FIND('<') THEN
          OldGLAcc.INIT;
      END;
      "Income/Balance" := OldGLAcc."Income/Balance";
    END;

    [External]
    PROCEDURE CheckGLAcc@2();
    BEGIN
      TESTFIELD("Account Type","Account Type"::Posting);
      TESTFIELD(Blocked,FALSE);

      OnAfterCheckGLAcc(Rec);
    END;

    [External]
    PROCEDURE ValidateAccountSubCategory@6(NewValue@1000 : Text[80]);
    VAR
      GLAccountCategory@1001 : Record 570;
    BEGIN
      IF NewValue = "Account Subcategory Descript." THEN
        EXIT;
      IF NewValue = '' THEN
        VALIDATE("Account Subcategory Entry No.",0)
      ELSE BEGIN
        GLAccountCategory.SETRANGE("Account Category","Account Category");
        GLAccountCategory.SETRANGE(Description,NewValue);
        IF NOT GLAccountCategory.FINDFIRST THEN BEGIN
          GLAccountCategory.SETFILTER(Description,'''@*' + NewValue + '*''');
          IF NOT GLAccountCategory.FINDFIRST THEN
            ERROR(NoAccountCategoryMatchErr,"Account Category",NewValue);
        END;
        VALIDATE("Account Subcategory Entry No.",GLAccountCategory."Entry No.");
      END;
    END;

    [External]
    PROCEDURE LookupAccountSubCategory@5();
    VAR
      GLAccountCategory@1001 : Record 570;
      GLAccountCategories@1000 : Page 790;
    BEGIN
      IF "Account Subcategory Entry No." <> 0 THEN
        IF GLAccountCategory.GET("Account Subcategory Entry No.") THEN
          GLAccountCategories.SETRECORD(GLAccountCategory);
      GLAccountCategory.SETRANGE("Income/Balance","Income/Balance");
      IF "Account Category" <> 0 THEN
        GLAccountCategory.SETRANGE("Account Category","Account Category");
      GLAccountCategories.SETTABLEVIEW(GLAccountCategory);
      GLAccountCategories.LOOKUPMODE(TRUE);
      IF GLAccountCategories.RUNMODAL = ACTION::LookupOK THEN BEGIN
        GLAccountCategories.GETRECORD(GLAccountCategory);
        VALIDATE("Account Category",GLAccountCategory."Account Category");
        "Account Subcategory Entry No." := GLAccountCategory."Entry No.";
      END;
      CALCFIELDS("Account Subcategory Descript.");
    END;

    LOCAL PROCEDURE UpdateAccountCategoryOfSubAccounts@7();
    VAR
      GLAccountSubAccount@1001 : Record 15;
    BEGIN
      IF "Account Type" <> "Account Type"::"Begin-Total" THEN
        EXIT;

      GLAccountSubAccount.SETFILTER("No.",'>%1',"No.");
      GLAccountSubAccount.SETRANGE(Indentation,Indentation,Indentation + 1);
      GLAccountSubAccount.SETFILTER("Account Category",'%1|%2',"Account Category"::" ",xRec."Account Category");

      IF NOT GLAccountSubAccount.FINDSET THEN
        EXIT;

      REPEAT
        IF (GLAccountSubAccount.Indentation = Indentation) AND
           (GLAccountSubAccount."Account Type" <> "Account Type"::"End-Total")
        THEN
          EXIT;

        GLAccountSubAccount.VALIDATE("Account Category","Account Category");
        GLAccountSubAccount.MODIFY
      UNTIL GLAccountSubAccount.NEXT = 0;
    END;

    [External]
    PROCEDURE GetCurrencyCode@3() : Code[10];
    BEGIN
      IF NOT GLSetupRead THEN BEGIN
        GLSetup.GET;
        GLSetupRead := TRUE;
      END;
      EXIT(GLSetup."Additional Reporting Currency");
    END;

    [External]
    PROCEDURE ValidateShortcutDimCode@29(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20]);
    BEGIN
      DimMgt.ValidateDimValueCode(FieldNumber,ShortcutDimCode);
      DimMgt.SaveDefaultDim(DATABASE::"G/L Account","No.",FieldNumber,ShortcutDimCode);
      MODIFY;
    END;

    [External]
    PROCEDURE TranslationMethodConflict@4(VAR GLAcc@1000 : Record 15) : Boolean;
    BEGIN
      GLAcc.RESET;
      GLAcc.SETFILTER("No.",'<>%1',"No.");
      GLAcc.SETFILTER("Consol. Translation Method",'<>%1',"Consol. Translation Method");
      IF "Consol. Debit Acc." <> '' THEN BEGIN
        IF NOT GLAcc.SETCURRENTKEY("Consol. Debit Acc.","Consol. Translation Method") THEN
          GLAcc.SETCURRENTKEY("No.");
        GLAcc.SETRANGE("Consol. Debit Acc.","Consol. Debit Acc.");
        IF GLAcc.FIND('-') THEN
          EXIT(TRUE);
        GLAcc.SETRANGE("Consol. Debit Acc.");
      END;
      IF "Consol. Credit Acc." <> '' THEN BEGIN
        IF NOT GLAcc.SETCURRENTKEY("Consol. Credit Acc.","Consol. Translation Method") THEN
          GLAcc.SETCURRENTKEY("No.");
        GLAcc.SETRANGE("Consol. Credit Acc.","Consol. Credit Acc.");
        IF GLAcc.FIND('-') THEN
          EXIT(TRUE);
        GLAcc.SETRANGE("Consol. Credit Acc.");
      END;
      EXIT(FALSE);
    END;

    LOCAL PROCEDURE SetLastModifiedDateTime@39();
    BEGIN
      "Last Modified Date Time" := CURRENTDATETIME;
      "Last Date Modified" := TODAY;
    END;

    [External]
    PROCEDURE IsTotaling@8() : Boolean;
    BEGIN
      EXIT("Account Type" IN ["Account Type"::Total,"Account Type"::"End-Total"]);
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckGLAcc@9(VAR GLAccount@1000 : Record 15);
    BEGIN
    END;

    BEGIN
    END.
  }
}

OBJECT Table 17 G/L Entry
{
  OBJECT-PROPERTIES
  {
    Date=02/24/19;
    Time=22:11:51;
    Modified=Yes;
    Version List=NAVW113.02,NAVNA13.02,FuturisticCAL;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               "Last Modified DateTime" := CURRENTDATETIME;
             END;

    OnModify=BEGIN
               "Last Modified DateTime" := CURRENTDATETIME;
             END;

    OnRename=BEGIN
               "Last Modified DateTime" := CURRENTDATETIME;
             END;

    CaptionML=[ENU=G/L Entry;
               ESM=Mov. contabilidad;
               FRC=êcritures comptables;
               ENC=G/L Entry];
    LookupPageID=Page20;
    DrillDownPageID=Page20;
  }
  FIELDS
  {
    { 1   ;   ;Entry No.           ;Integer       ;CaptionML=[ENU=Entry No.;
                                                              ESM=Nß mov.;
                                                              FRC=N¯ Çcriture;
                                                              ENC=Entry No.] }
    { 3   ;   ;G/L Account No.     ;Code20        ;TableRelation="G/L Account";
                                                   OnValidate=BEGIN
                                                                UpdateAccountID;
                                                              END;

                                                   CaptionML=[ENU=G/L Account No.;
                                                              ESM=Nß cuenta;
                                                              FRC=N¯ de compte du grand livre;
                                                              ENC=G/L Account No.] }
    { 4   ;   ;Posting Date        ;Date          ;CaptionML=[ENU=Posting Date;
                                                              ESM=Fecha registro;
                                                              FRC=Date de report;
                                                              ENC=Posting Date];
                                                   ClosingDates=Yes }
    { 5   ;   ;Document Type       ;Option        ;CaptionML=[ENU=Document Type;
                                                              ESM=Tipo documento;
                                                              FRC=Type de document;
                                                              ENC=Document Type];
                                                   OptionCaptionML=[ENU=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund";
                                                                    ESM=" ,Pago,Factura,Nota crÇdito,Docs. interÇs,Recordatorio,Reembolso";
                                                                    FRC=" ,Paiement,Facture,Note de crÇdit,Note de frais financiers,Rappel,Remboursement";
                                                                    ENC=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund"];
                                                   OptionString=[ ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund] }
    { 6   ;   ;Document No.        ;Code20        ;OnLookup=VAR
                                                              IncomingDocument@1000 : Record 130;
                                                            BEGIN
                                                              IncomingDocument.HyperlinkToDocument("Document No.","Posting Date");
                                                            END;

                                                   CaptionML=[ENU=Document No.;
                                                              ESM=Nß documento;
                                                              FRC=N¯ de document;
                                                              ENC=Document No.] }
    { 7   ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 10  ;   ;Bal. Account No.    ;Code20        ;TableRelation=IF (Bal. Account Type=CONST(G/L Account)) "G/L Account"
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Bal. Account Type=CONST(Bank Account)) "Bank Account"
                                                                 ELSE IF (Bal. Account Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                 ELSE IF (Bal. Account Type=CONST(IC Partner)) "IC Partner"
                                                                 ELSE IF (Bal. Account Type=CONST(Employee)) Employee;
                                                   CaptionML=[ENU=Bal. Account No.;
                                                              ESM=Cta. contrapartida;
                                                              FRC=N¯ compte contrìle;
                                                              ENC=Bal. Account No.] }
    { 17  ;   ;Amount              ;Decimal       ;CaptionML=[ENU=Amount;
                                                              ESM=Importe;
                                                              FRC=Montant;
                                                              ENC=Amount];
                                                   AutoFormatType=1 }
    { 23  ;   ;Global Dimension 1 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   CaptionML=[ENU=Global Dimension 1 Code;
                                                              ESM=C¢d. dimensi¢n global 1;
                                                              FRC=Code de dimension principal 1;
                                                              ENC=Global Dimension 1 Code];
                                                   CaptionClass='1,1,1' }
    { 24  ;   ;Global Dimension 2 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   CaptionML=[ENU=Global Dimension 2 Code;
                                                              ESM=C¢d. dimensi¢n global 2;
                                                              FRC=Code de dimension principal 2;
                                                              ENC=Global Dimension 2 Code];
                                                   CaptionClass='1,1,2' }
    { 27  ;   ;User ID             ;Code50        ;TableRelation=User."User Name";
                                                   OnLookup=VAR
                                                              UserMgt@1000 : Codeunit 418;
                                                            BEGIN
                                                              UserMgt.LookupUserID("User ID");
                                                            END;

                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   DataClassification=EndUserIdentifiableInformation;
                                                   CaptionML=[ENU=User ID;
                                                              ESM=Id. usuario;
                                                              FRC=Code utilisateur;
                                                              ENC=User ID] }
    { 28  ;   ;Source Code         ;Code10        ;TableRelation="Source Code";
                                                   CaptionML=[ENU=Source Code;
                                                              ESM=C¢d. origen;
                                                              FRC=Code d'origine;
                                                              ENC=Source Code] }
    { 29  ;   ;System-Created Entry;Boolean       ;CaptionML=[ENU=System-Created Entry;
                                                              ESM=Asiento autom†tico;
                                                              FRC=êcriture systäme;
                                                              ENC=System-Created Entry] }
    { 30  ;   ;Prior-Year Entry    ;Boolean       ;CaptionML=[ENU=Prior-Year Entry;
                                                              ESM=Asiento post-cierre;
                                                              FRC=êcritures annÇe antÇrieure;
                                                              ENC=Prior-Year Entry] }
    { 41  ;   ;Job No.             ;Code20        ;TableRelation=Job;
                                                   CaptionML=[ENU=Job No.;
                                                              ESM=Nß proyecto;
                                                              FRC=N¯ projet;
                                                              ENC=Job No.] }
    { 42  ;   ;Quantity            ;Decimal       ;CaptionML=[ENU=Quantity;
                                                              ESM=Cantidad;
                                                              FRC=QuantitÇ;
                                                              ENC=Quantity];
                                                   DecimalPlaces=0:5 }
    { 43  ;   ;VAT Amount          ;Decimal       ;CaptionML=[ENU=Tax Amount;
                                                              ESM=Importe IVA;
                                                              FRC=Montant de TVA;
                                                              ENC=Tax Amount];
                                                   AutoFormatType=1 }
    { 45  ;   ;Business Unit Code  ;Code20        ;TableRelation="Business Unit";
                                                   CaptionML=[ENU=Business Unit Code;
                                                              ESM=C¢d. empresa;
                                                              FRC=Code d'unitÇ fonctionnelle;
                                                              ENC=Business Unit Code] }
    { 46  ;   ;Journal Batch Name  ;Code10        ;CaptionML=[ENU=Journal Batch Name;
                                                              ESM=Nombre secci¢n diario;
                                                              FRC=Nom lot de journal;
                                                              ENC=Journal Batch Name] }
    { 47  ;   ;Reason Code         ;Code10        ;TableRelation="Reason Code";
                                                   CaptionML=[ENU=Reason Code;
                                                              ESM=C¢d. auditor°a;
                                                              FRC=Code motif;
                                                              ENC=Reason Code] }
    { 48  ;   ;Gen. Posting Type   ;Option        ;CaptionML=[ENU=Gen. Posting Type;
                                                              ESM=Tipo de registro gen.;
                                                              FRC=Type de report gÇnÇral;
                                                              ENC=Gen. Posting Type];
                                                   OptionCaptionML=[ENU=" ,Purchase,Sale,Settlement";
                                                                    ESM=" ,Compra,Venta,Liquidaci¢n";
                                                                    FRC=" ,Achat,Vente,Räglement";
                                                                    ENC=" ,Purchase,Sale,Settlement"];
                                                   OptionString=[ ,Purchase,Sale,Settlement] }
    { 49  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo registro neg. gen.;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 50  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo registro prod. gen.;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 51  ;   ;Bal. Account Type   ;Option        ;CaptionML=[ENU=Bal. Account Type;
                                                              ESM=Tipo contrapartida;
                                                              FRC=Type compte contrìle;
                                                              ENC=Bal. Account Type];
                                                   OptionCaptionML=[ENU=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee;
                                                                    ESM=Cuenta,Cliente,Proveedor,Banco,Activo fijo,Empresa vinculada asociada,Empleado;
                                                                    FRC=Compte du grand livre,Client,Fournisseur,Compte bancaire,Immobilisation,Partenaire IC,EmployÇ;
                                                                    ENC=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee];
                                                   OptionString=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee }
    { 52  ;   ;Transaction No.     ;Integer       ;CaptionML=[ENU=Transaction No.;
                                                              ESM=Nß asiento;
                                                              FRC=N¯ transaction;
                                                              ENC=Transaction No.] }
    { 53  ;   ;Debit Amount        ;Decimal       ;CaptionML=[ENU=Debit Amount;
                                                              ESM=Importe debe;
                                                              FRC=Montant de dÇbit;
                                                              ENC=Debit Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1 }
    { 54  ;   ;Credit Amount       ;Decimal       ;CaptionML=[ENU=Credit Amount;
                                                              ESM=Importe haber;
                                                              FRC=Montant de crÇdit;
                                                              ENC=Credit Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1 }
    { 55  ;   ;Document Date       ;Date          ;CaptionML=[ENU=Document Date;
                                                              ESM=Fecha emisi¢n documento;
                                                              FRC=Date document;
                                                              ENC=Document Date];
                                                   ClosingDates=Yes }
    { 56  ;   ;External Document No.;Code35       ;CaptionML=[ENU=External Document No.;
                                                              ESM=Nß documento externo;
                                                              FRC=N¯ document externe;
                                                              ENC=External Document No.] }
    { 57  ;   ;Source Type         ;Option        ;CaptionML=[ENU=Source Type;
                                                              ESM=Tipo procedencia mov.;
                                                              FRC=Type origine;
                                                              ENC=Source Type];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Bank Account,Fixed Asset,Employee";
                                                                    ESM=" ,Cliente,Proveedor,Banco,Activo fijo,Empleado";
                                                                    FRC=" ,Client,Fournisseur,Compte bancaire,Immobilisation,EmployÇ";
                                                                    ENC=" ,Customer,Vendor,Bank Account,Fixed Asset,Employee"];
                                                   OptionString=[ ,Customer,Vendor,Bank Account,Fixed Asset,Employee] }
    { 58  ;   ;Source No.          ;Code20        ;TableRelation=IF (Source Type=CONST(Customer)) Customer
                                                                 ELSE IF (Source Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Source Type=CONST(Bank Account)) "Bank Account"
                                                                 ELSE IF (Source Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                 ELSE IF (Source Type=CONST(Employee)) Employee;
                                                   CaptionML=[ENU=Source No.;
                                                              ESM=C¢d. procedencia mov.;
                                                              FRC=N¯ origine;
                                                              ENC=Source No.] }
    { 59  ;   ;No. Series          ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=No. Series;
                                                              ESM=Nos. serie;
                                                              FRC=SÇries de n¯;
                                                              ENC=No. Series] }
    { 60  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code] }
    { 61  ;   ;Tax Liable          ;Boolean       ;CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable] }
    { 62  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 63  ;   ;Use Tax             ;Boolean       ;CaptionML=[ENU=Use Tax;
                                                              ESM=Impuesto de importaci¢n;
                                                              FRC=Taxe de service;
                                                              ENC=Use Tax] }
    { 64  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 65  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 68  ;   ;Additional-Currency Amount;Decimal ;AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Additional-Currency Amount;
                                                              ESM=Importe divisa-adicional;
                                                              FRC=Montant devise add.;
                                                              ENC=Additional-Currency Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 69  ;   ;Add.-Currency Debit Amount;Decimal ;CaptionML=[ENU=Add.-Currency Debit Amount;
                                                              ESM=Debe div.-adic.;
                                                              FRC=Montant dÇbit devise add.;
                                                              ENC=Add.-Currency Debit Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 70  ;   ;Add.-Currency Credit Amount;Decimal;CaptionML=[ENU=Add.-Currency Credit Amount;
                                                              ESM=Haber div.-adic.;
                                                              FRC=Montant crÇdit devise add.;
                                                              ENC=Add.-Currency Credit Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr=GetCurrencyCode }
    { 71  ;   ;Close Income Statement Dim. ID;Integer;
                                                   CaptionML=[ENU=Close Income Statement Dim. ID;
                                                              ESM=ID dim. asiento regularizaci¢n;
                                                              FRC=Code axe clìt. exerc. cmptble;
                                                              ENC=Close Income Statement Dim. ID] }
    { 72  ;   ;IC Partner Code     ;Code20        ;TableRelation="IC Partner";
                                                   CaptionML=[ENU=IC Partner Code;
                                                              ESM=C¢digo socio IC;
                                                              FRC=Code de partenaire IC;
                                                              ENC=IC Partner Code] }
    { 73  ;   ;Reversed            ;Boolean       ;CaptionML=[ENU=Reversed;
                                                              ESM=Revertido;
                                                              FRC=RenversÇe;
                                                              ENC=Reversed] }
    { 74  ;   ;Reversed by Entry No.;Integer      ;TableRelation="G/L Entry";
                                                   CaptionML=[ENU=Reversed by Entry No.;
                                                              ESM=Revertido por el movimiento nß;
                                                              FRC=RenversÇe par l'Çcriture n¯;
                                                              ENC=Reversed by Entry No.];
                                                   BlankZero=Yes }
    { 75  ;   ;Reversed Entry No.  ;Integer       ;TableRelation="G/L Entry";
                                                   CaptionML=[ENU=Reversed Entry No.;
                                                              ESM=Nß movimiento revertido;
                                                              FRC=êcriture renversÇe n¯;
                                                              ENC=Reversed Entry No.];
                                                   BlankZero=Yes }
    { 76  ;   ;G/L Account Name    ;Text50        ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("G/L Account".Name WHERE (No.=FIELD(G/L Account No.)));
                                                   CaptionML=[ENU=G/L Account Name;
                                                              ESM=Nombre cuenta;
                                                              FRC=Nom de compte du grand livre;
                                                              ENC=G/L Account Name];
                                                   Editable=No }
    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
                                                   OnLookup=BEGIN
                                                              ShowDimensions;
                                                            END;

                                                   CaptionML=[ENU=Dimension Set ID;
                                                              ESM=Id. grupo dimensiones;
                                                              FRC=Code ensemble de dimensions;
                                                              ENC=Dimension Set ID];
                                                   Editable=No }
    { 5400;   ;Prod. Order No.     ;Code20        ;CaptionML=[ENU=Prod. Order No.;
                                                              ESM=Nß orden producci¢n;
                                                              FRC=N¯ bon de prod.;
                                                              ENC=Prod. Order No.] }
    { 5600;   ;FA Entry Type       ;Option        ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Entry Type;
                                                              ESM=A/F Tipo mov.;
                                                              FRC=Type Çcritures immo.;
                                                              ENC=FA Entry Type];
                                                   OptionCaptionML=[ENU=" ,Fixed Asset,Maintenance";
                                                                    ESM=" ,Activo,Mantenimiento";
                                                                    FRC=" ,Immobilisation,Entretien";
                                                                    ENC=" ,Fixed Asset,Maintenance"];
                                                   OptionString=[ ,Fixed Asset,Maintenance] }
    { 5601;   ;FA Entry No.        ;Integer       ;TableRelation=IF (FA Entry Type=CONST(Fixed Asset)) "FA Ledger Entry"
                                                                 ELSE IF (FA Entry Type=CONST(Maintenance)) "Maintenance Ledger Entry";
                                                   CaptionML=[ENU=FA Entry No.;
                                                              ESM=A/F Nß mov.;
                                                              FRC=N¯ Çcriture immo.;
                                                              ENC=FA Entry No.];
                                                   BlankZero=Yes }
    { 8001;   ;Account Id          ;GUID          ;FieldClass=FlowField;
                                                   CalcFormula=Lookup("G/L Account".Id WHERE (No.=FIELD(G/L Account No.)));
                                                   TableRelation="G/L Account".Id;
                                                   OnValidate=BEGIN
                                                                UpdateAccountNo;
                                                              END;

                                                   CaptionML=[ENU=Account Id;
                                                              ESM=Id. de cuenta;
                                                              FRC=Code Compte;
                                                              ENC=Account Id] }
    { 8005;   ;Last Modified DateTime;DateTime    ;CaptionML=[ENU=Last Modified DateTime;
                                                              ESM=Fecha/hora de £ltima modificaci¢n;
                                                              FRC=Date-heure derniäre modification;
                                                              ENC=Last Modified DateTime];
                                                   Editable=No }
    { 10018;  ;STE Transaction ID  ;Text20        ;CaptionML=[ENU=STE Transaction ID;
                                                              ESM=Id. transacci¢n STE;
                                                              FRC=ID de transaction STE;
                                                              ENC=STE Transaction ID];
                                                   Editable=No }
    { 10019;  ;GST/HST             ;Option        ;CaptionML=[ENU=GST/HST;
                                                              ESM=GST/HST;
                                                              FRC=TPS/TVH;
                                                              ENC=GST/HST];
                                                   OptionCaptionML=[ENU=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate";
                                                                    ESM=" ,Adquisici¢n,Autoevaluaci¢n,Devoluci¢n,Devoluciones de vivienda nueva,Devoluci¢n de pensiones";
                                                                    FRC=" ,Acquisition,Auto-Çvaluation,Remise,Remises pour habitation neuve,Remise pour retraite";
                                                                    ENC=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate"];
                                                   OptionString=[ ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate] }
    { 50000;  ;Expense Code        ;Code20        ;TableRelation=Expense;
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Expense Code;
                                                   Editable=No }
  }
  KEYS
  {
    {    ;Entry No.                               ;Clustered=Yes }
    {    ;G/L Account No.,Posting Date            ;SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,VAT Amount }
    {    ;G/L Account No.,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount,VAT Amount }
    { No ;G/L Account No.,Business Unit Code,Posting Date;
                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
    { No ;G/L Account No.,Business Unit Code,Global Dimension 1 Code,Global Dimension 2 Code,Posting Date;
                                                   SumIndexFields=Amount,Debit Amount,Credit Amount,Additional-Currency Amount,Add.-Currency Debit Amount,Add.-Currency Credit Amount }
    {    ;Document No.,Posting Date                }
    {    ;Transaction No.                          }
    {    ;IC Partner Code                          }
    {    ;G/L Account No.,Job No.,Posting Date    ;SumIndexFields=Amount }
    {    ;Posting Date,G/L Account No.,Dimension Set ID;
                                                   SumIndexFields=Amount }
    {    ;Gen. Bus. Posting Group,Gen. Prod. Posting Group }
    {    ;VAT Bus. Posting Group,VAT Prod. Posting Group }
    { No ;External Document No.,Posting Date      ;KeyGroups=NavDep }
  }
  FIELDGROUPS
  {
    { 1   ;DropDown            ;Entry No.,Description,G/L Account No.,Posting Date,Document Type,Document No. }
  }
  CODE
  {
    VAR
      GLSetup@1000 : Record 98;
      GLSetupRead@1002 : Boolean;

    [External]
    PROCEDURE GetCurrencyCode@1() : Code[10];
    BEGIN
      IF NOT GLSetupRead THEN BEGIN
        GLSetup.GET;
        GLSetupRead := TRUE;
      END;
      EXIT(GLSetup."Additional Reporting Currency");
    END;

    [External]
    PROCEDURE ShowValueEntries@8();
    VAR
      GLItemLedgRelation@1000 : Record 5823;
      ValueEntry@1002 : Record 5802;
      TempValueEntry@1001 : TEMPORARY Record 5802;
    BEGIN
      GLItemLedgRelation.SETRANGE("G/L Entry No.","Entry No.");
      IF GLItemLedgRelation.FINDSET THEN
        REPEAT
          ValueEntry.GET(GLItemLedgRelation."Value Entry No.");
          TempValueEntry.INIT;
          TempValueEntry := ValueEntry;
          TempValueEntry.INSERT;
        UNTIL GLItemLedgRelation.NEXT = 0;

      PAGE.RUNMODAL(0,TempValueEntry);
    END;

    [External]
    PROCEDURE ShowDimensions@2();
    VAR
      DimMgt@1000 : Codeunit 408;
    BEGIN
      DimMgt.ShowDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2',TABLECAPTION,"Entry No."));
    END;

    [External]
    PROCEDURE UpdateDebitCredit@3(Correction@1000 : Boolean);
    BEGIN
      IF ((Amount > 0) AND (NOT Correction)) OR
         ((Amount < 0) AND Correction)
      THEN BEGIN
        "Debit Amount" := Amount;
        "Credit Amount" := 0
      END ELSE BEGIN
        "Debit Amount" := 0;
        "Credit Amount" := -Amount;
      END;

      IF (("Additional-Currency Amount" > 0) AND (NOT Correction)) OR
         (("Additional-Currency Amount" < 0) AND Correction)
      THEN BEGIN
        "Add.-Currency Debit Amount" := "Additional-Currency Amount";
        "Add.-Currency Credit Amount" := 0
      END ELSE BEGIN
        "Add.-Currency Debit Amount" := 0;
        "Add.-Currency Credit Amount" := -"Additional-Currency Amount";
      END;
    END;

    [External]
    PROCEDURE CopyFromGenJnlLine@4(GenJnlLine@1000 : Record 81);
    BEGIN
      "Posting Date" := GenJnlLine."Posting Date";
      "Document Date" := GenJnlLine."Document Date";
      "Document Type" := GenJnlLine."Document Type";
      "Document No." := GenJnlLine."Document No.";
      "External Document No." := GenJnlLine."External Document No.";
      Description := GenJnlLine.Description;
      "Business Unit Code" := GenJnlLine."Business Unit Code";
      "Global Dimension 1 Code" := GenJnlLine."Shortcut Dimension 1 Code";
      "Global Dimension 2 Code" := GenJnlLine."Shortcut Dimension 2 Code";
      "Dimension Set ID" := GenJnlLine."Dimension Set ID";
      "Source Code" := GenJnlLine."Source Code";
      IF GenJnlLine."Account Type" = GenJnlLine."Account Type"::"G/L Account" THEN BEGIN
        IF GenJnlLine."Source Type" = GenJnlLine."Source Type"::Employee THEN
          "Source Type" := "Source Type"::Employee
        ELSE
          "Source Type" := GenJnlLine."Source Type";
        "Source No." := GenJnlLine."Source No.";
      END ELSE BEGIN
        IF GenJnlLine."Account Type" = GenJnlLine."Account Type"::Employee THEN
          "Source Type" := "Source Type"::Employee
        ELSE
          "Source Type" := GenJnlLine."Account Type";
        "Source No." := GenJnlLine."Account No.";
      END;
      IF (GenJnlLine."Account Type" = GenJnlLine."Account Type"::"IC Partner") OR
         (GenJnlLine."Bal. Account Type" = GenJnlLine."Bal. Account Type"::"IC Partner")
      THEN
        "Source Type" := "Source Type"::" ";
      "Job No." := GenJnlLine."Job No.";
      Quantity := GenJnlLine.Quantity;
      "Journal Batch Name" := GenJnlLine."Journal Batch Name";
      "Reason Code" := GenJnlLine."Reason Code";
      "User ID" := USERID;
      "No. Series" := GenJnlLine."Posting No. Series";
      "IC Partner Code" := GenJnlLine."IC Partner Code";

      OnAfterCopyGLEntryFromGenJnlLine(Rec,GenJnlLine);
    END;

    [External]
    PROCEDURE CopyPostingGroupsFromGLEntry@5(GLEntry@1000 : Record 17);
    BEGIN
      "Gen. Posting Type" := GLEntry."Gen. Posting Type";
      "Gen. Bus. Posting Group" := GLEntry."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := GLEntry."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := GLEntry."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := GLEntry."VAT Prod. Posting Group";
      "Tax Area Code" := GLEntry."Tax Area Code";
      "Tax Liable" := GLEntry."Tax Liable";
      "Tax Group Code" := GLEntry."Tax Group Code";
      "Use Tax" := GLEntry."Use Tax";
    END;

    [External]
    PROCEDURE CopyPostingGroupsFromVATEntry@96(VATEntry@1001 : Record 254);
    BEGIN
      "Gen. Posting Type" := VATEntry.Type;
      "Gen. Bus. Posting Group" := VATEntry."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := VATEntry."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := VATEntry."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := VATEntry."VAT Prod. Posting Group";
      "Tax Area Code" := VATEntry."Tax Area Code";
      "Tax Liable" := VATEntry."Tax Liable";
      "Tax Group Code" := VATEntry."Tax Group Code";
      "Use Tax" := VATEntry."Use Tax";
    END;

    [External]
    PROCEDURE CopyPostingGroupsFromGenJnlLine@19(GenJnlLine@1000 : Record 81);
    BEGIN
      "Gen. Posting Type" := GenJnlLine."Gen. Posting Type";
      "Gen. Bus. Posting Group" := GenJnlLine."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := GenJnlLine."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := GenJnlLine."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := GenJnlLine."VAT Prod. Posting Group";
      "Tax Area Code" := GenJnlLine."Tax Area Code";
      "Tax Liable" := GenJnlLine."Tax Liable";
      "Tax Group Code" := GenJnlLine."Tax Group Code";
      "Use Tax" := GenJnlLine."Use Tax";
    END;

    [External]
    PROCEDURE CopyPostingGroupsFromDtldCVBuf@94(DtldCVLedgEntryBuf@1001 : Record 383;GenPostingType@1002 : ' ,Purchase,Sale,Settlement');
    BEGIN
      "Gen. Posting Type" := GenPostingType;
      "Gen. Bus. Posting Group" := DtldCVLedgEntryBuf."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := DtldCVLedgEntryBuf."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := DtldCVLedgEntryBuf."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := DtldCVLedgEntryBuf."VAT Prod. Posting Group";
      "Tax Area Code" := DtldCVLedgEntryBuf."Tax Area Code";
      "Tax Liable" := DtldCVLedgEntryBuf."Tax Liable";
      "Tax Group Code" := DtldCVLedgEntryBuf."Tax Group Code";
      "Use Tax" := DtldCVLedgEntryBuf."Use Tax";
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGLEntryFromGenJnlLine@6(VAR GLEntry@1000 : Record 17;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [External]
    PROCEDURE CopyFromDeferralPostBuffer@46(DeferralPostBuffer@1001 : Record 1706);
    BEGIN
      "System-Created Entry" := DeferralPostBuffer."System-Created Entry";
      "Gen. Posting Type" := DeferralPostBuffer."Gen. Posting Type";
      "Gen. Bus. Posting Group" := DeferralPostBuffer."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := DeferralPostBuffer."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := DeferralPostBuffer."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := DeferralPostBuffer."VAT Prod. Posting Group";
      "Tax Area Code" := DeferralPostBuffer."Tax Area Code";
      "Tax Liable" := DeferralPostBuffer."Tax Liable";
      "Tax Group Code" := DeferralPostBuffer."Tax Group Code";
      "Use Tax" := DeferralPostBuffer."Use Tax";
    END;

    [External]
    PROCEDURE UpdateAccountID@1166();
    VAR
      GLAccount@1000 : Record 15;
    BEGIN
      IF "G/L Account No." = '' THEN BEGIN
        CLEAR("Account Id");
        EXIT;
      END;

      IF NOT GLAccount.GET("G/L Account No.") THEN
        EXIT;

      "Account Id" := GLAccount.Id;
    END;

    LOCAL PROCEDURE UpdateAccountNo@1164();
    VAR
      GLAccount@1001 : Record 15;
    BEGIN
      IF ISNULLGUID("Account Id") THEN
        EXIT;

      GLAccount.SETRANGE(Id,"Account Id");
      IF NOT GLAccount.FINDFIRST THEN
        EXIT;

      "G/L Account No." := GLAccount."No.";
    END;

    BEGIN
    END.
  }
}

OBJECT Table 39 Purchase Line
{
  OBJECT-PROPERTIES
  {
    Date=01/30/19;
    Time=12:55:31;
    Modified=Yes;
    Version List=NAVW113.03,NAVNA13.03,FuturisticCAL;
  }
  PROPERTIES
  {
    OnInsert=BEGIN
               TestStatusOpen;
               IF Quantity <> 0 THEN BEGIN
                 OnBeforeVerifyReservedQty(Rec,xRec,0);
                 ReservePurchLine.VerifyQuantity(Rec,xRec);
               END;
               LOCKTABLE;
               PurchHeader."No." := '';
               IF ("Deferral Code" <> '') AND (GetDeferralAmount <> 0) THEN
                 UpdateDeferralAmounts;
               "IRS 1099 Liable" := (PurchHeader."IRS 1099 Code" <> '');
             END;

    OnModify=BEGIN
               IF ("Document Type" = "Document Type"::"Blanket Order") AND
                  ((Type <> xRec.Type) OR ("No." <> xRec."No."))
               THEN BEGIN
                 PurchLine2.RESET;
                 PurchLine2.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
                 PurchLine2.SETRANGE("Blanket Order No.","Document No.");
                 PurchLine2.SETRANGE("Blanket Order Line No.","Line No.");
                 IF PurchLine2.FINDSET THEN
                   REPEAT
                     PurchLine2.TESTFIELD(Type,Type);
                     PurchLine2.TESTFIELD("No.","No.");
                   UNTIL PurchLine2.NEXT = 0;
               END;

               IF ((Quantity <> 0) OR (xRec.Quantity <> 0)) AND ItemExists(xRec."No.") THEN
                 ReservePurchLine.VerifyChange(Rec,xRec);
             END;

    OnDelete=VAR
               PurchCommentLine@1001 : Record 43;
               SalesOrderLine@1000 : Record 37;
             BEGIN
               TestStatusOpen;
               CheckForTaxDifferences;

               IF (Quantity <> 0) AND ItemExists("No.") THEN BEGIN
                 ReservePurchLine.DeleteLine(Rec);
                 IF "Receipt No." = '' THEN
                   TESTFIELD("Qty. Rcd. Not Invoiced",0);
                 IF "Return Shipment No." = '' THEN
                   TESTFIELD("Return Qty. Shipped Not Invd.",0);

                 CALCFIELDS("Reserved Qty. (Base)");
                 TESTFIELD("Reserved Qty. (Base)",0);
                 WhseValidateSourceLine.PurchaseLineDelete(Rec);
               END;

               IF ("Document Type" = "Document Type"::Order) AND (Quantity <> "Quantity Invoiced") THEN
                 TESTFIELD("Prepmt. Amt. Inv.","Prepmt Amt Deducted");

               IF "Sales Order Line No." <> 0 THEN BEGIN
                 LOCKTABLE;
                 SalesOrderLine.LOCKTABLE;
                 SalesOrderLine.GET(SalesOrderLine."Document Type"::Order,"Sales Order No.","Sales Order Line No.");
                 SalesOrderLine."Purchase Order No." := '';
                 SalesOrderLine."Purch. Order Line No." := 0;
                 SalesOrderLine.MODIFY;
               END;

               IF ("Special Order Sales Line No." <> 0) AND ("Quantity Invoiced" = 0) THEN BEGIN
                 LOCKTABLE;
                 SalesOrderLine.LOCKTABLE;
                 IF SalesOrderLine.GET(
                      SalesOrderLine."Document Type"::Order,"Special Order Sales No.","Special Order Sales Line No.")
                 THEN BEGIN
                   SalesOrderLine."Special Order Purchase No." := '';
                   SalesOrderLine."Special Order Purch. Line No." := 0;
                   SalesOrderLine.MODIFY;
                 END;
               END;

               CatalogItemMgt.DelNonStockPurch(Rec);

               IF "Document Type" = "Document Type"::"Blanket Order" THEN BEGIN
                 PurchLine2.RESET;
                 PurchLine2.SETCURRENTKEY("Document Type","Blanket Order No.","Blanket Order Line No.");
                 PurchLine2.SETRANGE("Blanket Order No.","Document No.");
                 PurchLine2.SETRANGE("Blanket Order Line No.","Line No.");
                 IF PurchLine2.FINDFIRST THEN
                   PurchLine2.TESTFIELD("Blanket Order Line No.",0);
               END;

               IF Type = Type::Item THEN
                 DeleteItemChargeAssgnt("Document Type","Document No.","Line No.");

               IF Type = Type::"Charge (Item)" THEN
                 DeleteChargeChargeAssgnt("Document Type","Document No.","Line No.");

               IF "Line No." <> 0 THEN BEGIN
                 PurchLine2.RESET;
                 PurchLine2.SETRANGE("Document Type","Document Type");
                 PurchLine2.SETRANGE("Document No.","Document No.");
                 PurchLine2.SETRANGE("Attached to Line No.","Line No.");
                 PurchLine2.SETFILTER("Line No.",'<>%1',"Line No.");
                 PurchLine2.DELETEALL(TRUE);
               END;

               PurchCommentLine.SETRANGE("Document Type","Document Type");
               PurchCommentLine.SETRANGE("No.","Document No.");
               PurchCommentLine.SETRANGE("Document Line No.","Line No.");
               IF NOT PurchCommentLine.ISEMPTY THEN
                 PurchCommentLine.DELETEALL;

               // In case we have roundings on VAT or Sales Tax, we should update some other line
               IF (Type <> Type::" ") AND ("Line No." <> 0) AND ("Attached to Line No." = 0) AND
                  (Quantity <> 0) AND (Amount <> 0) AND (Amount <> "Amount Including VAT") AND NOT StatusCheckSuspended
               THEN
                 VALIDATE(Quantity,0);

               IF "Deferral Code" <> '' THEN
                 DeferralUtilities.DeferralCodeOnDelete(
                   DeferralUtilities.GetPurchDeferralDocType,'','',
                   "Document Type","Document No.","Line No.");
             END;

    OnRename=BEGIN
               ERROR(Text000,TABLECAPTION);
             END;

    CaptionML=[ENU=Purchase Line;
               ESM=L°n. compra;
               FRC=Ligne achat;
               ENC=Purchase Line];
    LookupPageID=Page518;
    DrillDownPageID=Page518;
  }
  FIELDS
  {
    { 1   ;   ;Document Type       ;Option        ;CaptionML=[ENU=Document Type;
                                                              ESM=Tipo documento;
                                                              FRC=Type de document;
                                                              ENC=Document Type];
                                                   OptionCaptionML=[ENU=Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order;
                                                                    ESM=Cotizaci¢n,Pedido,Factura,Nota crÇdito,Pedido abierto,Devoluci¢n;
                                                                    FRC=Devis,Commande,Facture,Note de crÇdit,Commande permanente,Retour;
                                                                    ENC=Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order];
                                                   OptionString=Quote,Order,Invoice,Credit Memo,Blanket Order,Return Order }
    { 2   ;   ;Buy-from Vendor No. ;Code20        ;TableRelation=Vendor;
                                                   CaptionML=[ENU=Buy-from Vendor No.;
                                                              ESM=Compra a-Nß proveedor;
                                                              FRC=N¯ fournisseur exÇcutant;
                                                              ENC=Buy-from Vendor No.];
                                                   Editable=No }
    { 3   ;   ;Document No.        ;Code20        ;TableRelation="Purchase Header".No. WHERE (Document Type=FIELD(Document Type));
                                                   CaptionML=[ENU=Document No.;
                                                              ESM=Nß documento;
                                                              FRC=N¯ de document;
                                                              ENC=Document No.] }
    { 4   ;   ;Line No.            ;Integer       ;CaptionML=[ENU=Line No.;
                                                              ESM=Nß l°nea;
                                                              FRC=N¯ ligne;
                                                              ENC=Line No.] }
    { 5   ;   ;Type                ;Option        ;OnValidate=VAR
                                                                TempPurchLine@1000 : TEMPORARY Record 39;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                TestStatusOpen;

                                                                TESTFIELD("Qty. Rcd. Not Invoiced",0);
                                                                TESTFIELD("Quantity Received",0);
                                                                TESTFIELD("Receipt No.",'');

                                                                TESTFIELD("Return Qty. Shipped Not Invd.",0);
                                                                TESTFIELD("Return Qty. Shipped",0);
                                                                TESTFIELD("Return Shipment No.",'');

                                                                TESTFIELD("Prepmt. Amt. Inv.",0);

                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION(Type),"Sales Order No.");
                                                                IF "Special Order" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION(Type),"Special Order Sales No.");
                                                                IF "Prod. Order No." <> '' THEN
                                                                  ERROR(
                                                                    Text044,
                                                                    FIELDCAPTION(Type),FIELDCAPTION("Prod. Order No."),"Prod. Order No.");

                                                                IF Type <> xRec.Type THEN BEGIN
                                                                  IF Quantity <> 0 THEN BEGIN
                                                                    ReservePurchLine.VerifyChange(Rec,xRec);
                                                                    CALCFIELDS("Reserved Qty. (Base)");
                                                                    TESTFIELD("Reserved Qty. (Base)",0);
                                                                    WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                  END;
                                                                  IF xRec.Type IN [Type::Item,Type::"Fixed Asset"] THEN BEGIN
                                                                    IF Quantity <> 0 THEN
                                                                      PurchHeader.TESTFIELD(Status,PurchHeader.Status::Open);
                                                                    DeleteItemChargeAssgnt("Document Type","Document No.","Line No.");
                                                                  END;
                                                                  IF xRec.Type = Type::"Charge (Item)" THEN
                                                                    DeleteChargeChargeAssgnt("Document Type","Document No.","Line No.");
                                                                  IF xRec."Deferral Code" <> '' THEN
                                                                    DeferralUtilities.RemoveOrSetDeferralSchedule('',
                                                                      DeferralUtilities.GetPurchDeferralDocType,'','',
                                                                      xRec."Document Type",xRec."Document No.",xRec."Line No.",
                                                                      xRec.GetDeferralAmount,PurchHeader."Posting Date",'',xRec."Currency Code",TRUE);
                                                                END;
                                                                TempPurchLine := Rec;
                                                                INIT;

                                                                IF xRec."Line Amount" <> 0 THEN
                                                                  "Recalculate Invoice Disc." := TRUE;

                                                                Type := TempPurchLine.Type;
                                                                "System-Created Entry" := TempPurchLine."System-Created Entry";
                                                                OnValidateTypeOnCopyFromTempPurchLine(Rec,TempPurchLine);
                                                                VALIDATE("FA Posting Type");

                                                                IF Type = Type::Item THEN
                                                                  "Allow Item Charge Assignment" := TRUE
                                                                ELSE
                                                                  "Allow Item Charge Assignment" := FALSE;
                                                              END;

                                                   CaptionML=[ENU=Type;
                                                              ESM=Tipo;
                                                              FRC=Type;
                                                              ENC=Type];
                                                   OptionCaptionML=[ENU=" ,G/L Account,Item,,Fixed Asset,Charge (Item)";
                                                                    ESM=" ,Cuenta,Producto,,Activo fijo,Cargo (Prod.)";
                                                                    FRC=" ,Compte (GL),Article,,Immobilisation,Frais annexes";
                                                                    ENC=" ,G/L Account,Item,,Fixed Asset,Charge (Item)"];
                                                   OptionString=[ ,G/L Account,Item,,Fixed Asset,Charge (Item)] }
    { 6   ;   ;No.                 ;Code20        ;TableRelation=IF (Type=CONST(" ")) "Standard Text"
                                                                 ELSE IF (Type=CONST(G/L Account),
                                                                          System-Created Entry=CONST(No)) "G/L Account" WHERE (Direct Posting=CONST(Yes),
                                                                                                                               Account Type=CONST(Posting),
                                                                                                                               Blocked=CONST(No))
                                                                                                                               ELSE IF (Type=CONST(G/L Account),
                                                                                                                                        System-Created Entry=CONST(Yes)) "G/L Account"
                                                                                                                                        ELSE IF (Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                                                                                        ELSE IF (Type=CONST("Charge (Item)")) "Item Charge"
                                                                                                                                        ELSE IF (Type=CONST(Item)) Item WHERE (Blocked=CONST(No),
                                                                                                                                                                               Purchasing Blocked=CONST(No));
                                                   OnValidate=VAR
                                                                TempPurchLine@1003 : TEMPORARY Record 39;
                                                                FindRecordMgt@1000 : Codeunit 703;
                                                              BEGIN
                                                                "No." := FindRecordMgt.FindNoFromTypedValue(Type,"No.",NOT "System-Created Entry");

                                                                TestStatusOpen;
                                                                TESTFIELD("Qty. Rcd. Not Invoiced",0);
                                                                TESTFIELD("Quantity Received",0);
                                                                TESTFIELD("Receipt No.",'');

                                                                TESTFIELD("Prepmt. Amt. Inv.",0);

                                                                TestReturnFieldsZero;

                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("No."),"Sales Order No.");

                                                                IF "Special Order" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("No."),"Special Order Sales No.");

                                                                IF "Prod. Order No." <> '' THEN
                                                                  ERROR(
                                                                    Text044,
                                                                    FIELDCAPTION(Type),FIELDCAPTION("Prod. Order No."),"Prod. Order No.");

                                                                OnValidateNoOnAfterChecks(Rec,xRec,CurrFieldNo);

                                                                IF "No." <> xRec."No." THEN BEGIN
                                                                  IF (Quantity <> 0) AND ItemExists(xRec."No.") THEN BEGIN
                                                                    ReservePurchLine.VerifyChange(Rec,xRec);
                                                                    CALCFIELDS("Reserved Qty. (Base)");
                                                                    TESTFIELD("Reserved Qty. (Base)",0);
                                                                    IF Type = Type::Item THEN
                                                                      WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                    OnValidateNoOnAfterVerifyChange(Rec,xRec);
                                                                  END;
                                                                  IF Type = Type::Item THEN
                                                                    DeleteItemChargeAssgnt("Document Type","Document No.","Line No.");
                                                                  IF Type = Type::"Charge (Item)" THEN
                                                                    DeleteChargeChargeAssgnt("Document Type","Document No.","Line No.");
                                                                END;

                                                                OnValidateNoOnBeforeInitRec(Rec,xRec,CurrFieldNo);
                                                                TempPurchLine := Rec;
                                                                INIT;
                                                                IF xRec."Line Amount" <> 0 THEN
                                                                  "Recalculate Invoice Disc." := TRUE;
                                                                Type := TempPurchLine.Type;
                                                                "No." := TempPurchLine."No.";
                                                                OnValidateNoOnCopyFromTempPurchLine(Rec,TempPurchLine);
                                                                IF "No." = '' THEN
                                                                  EXIT;

                                                                IF HasTypeToFillMandatoryFields THEN BEGIN
                                                                  Quantity := TempPurchLine.Quantity;
                                                                  "Outstanding Qty. (Base)" := TempPurchLine."Outstanding Qty. (Base)";
                                                                END;

                                                                "System-Created Entry" := TempPurchLine."System-Created Entry";
                                                                GetPurchHeader;
                                                                InitHeaderDefaults(PurchHeader);
                                                                UpdateLeadTimeFields;
                                                                UpdateDates;

                                                                OnAfterAssignHeaderValues(Rec,PurchHeader);

                                                                CASE Type OF
                                                                  Type::" ":
                                                                    CopyFromStandardText;
                                                                  Type::"G/L Account":
                                                                    CopyFromGLAccount;
                                                                  Type::Item:
                                                                    CopyFromItem;
                                                                  3:
                                                                    ERROR(Text003);
                                                                  Type::"Fixed Asset":
                                                                    CopyFromFixedAsset;
                                                                  Type::"Charge (Item)":
                                                                    CopyFromItemCharge;
                                                                END;

                                                                OnAfterAssignFieldsForNo(Rec,xRec,PurchHeader);

                                                                IF HasTypeToFillMandatoryFields AND NOT (Type = Type::"Fixed Asset") THEN
                                                                  VALIDATE("VAT Prod. Posting Group");

                                                                UpdatePrepmtSetupFields;

                                                                IF HasTypeToFillMandatoryFields THEN BEGIN
                                                                  Quantity := xRec.Quantity;
                                                                  OnValidateNoOnAfterAssignQtyFromXRec(Rec,TempPurchLine);
                                                                  VALIDATE("Unit of Measure Code");
                                                                  IF Quantity <> 0 THEN BEGIN
                                                                    InitOutstanding;
                                                                    IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
                                                                      InitQtyToShip
                                                                    ELSE
                                                                      InitQtyToReceive;
                                                                  END;
                                                                  UpdateWithWarehouseReceive;
                                                                  UpdateDirectUnitCost(FIELDNO("No."));
                                                                  IF xRec."Job No." <> '' THEN
                                                                    VALIDATE("Job No.",xRec."Job No.");
                                                                  "Job Line Type" := xRec."Job Line Type";
                                                                  IF xRec."Job Task No." <> '' THEN BEGIN
                                                                    VALIDATE("Job Task No.",xRec."Job Task No.");
                                                                    IF "No." = xRec."No." THEN
                                                                      VALIDATE("Job Planning Line No.",xRec."Job Planning Line No.");
                                                                  END;
                                                                END;

                                                                CreateDim(
                                                                  DimMgt.TypeToTableID3(Type),"No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Responsibility Center","Responsibility Center",
                                                                  DATABASE::"Work Center","Work Center No.");

                                                                PurchHeader.GET("Document Type","Document No.");
                                                                UpdateItemReference;

                                                                GetDefaultBin;

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(TRUE);
                                                                  UpdateJobPrices;
                                                                  UpdateDimensionsFromJobTask;
                                                                END;

                                                                PostingSetupMgt.CheckGenPostingSetupPurchAccount("Gen. Bus. Posting Group","Gen. Prod. Posting Group");
                                                                PostingSetupMgt.CheckVATPostingSetupPurchAccount("VAT Bus. Posting Group","VAT Prod. Posting Group");
                                                              END;

                                                   ValidateTableRelation=No;
                                                   CaptionML=[ENU=No.;
                                                              ESM=Nß;
                                                              FRC=N¯;
                                                              ENC=No.];
                                                   CaptionClass=GetCaptionClass(FIELDNO("No.")) }
    { 7   ;   ;Location Code       ;Code10        ;TableRelation=Location WHERE (Use As In-Transit=CONST(No));
                                                   OnValidate=VAR
                                                                Item@1000 : Record 27;
                                                                PurchSetup@1400000 : Record 312;
                                                                Vend@1400001 : Record 23;
                                                                ConfirmManagement@1001 : Codeunit 27;
                                                              BEGIN
                                                                TestStatusOpen;

                                                                IF "Location Code" <> '' THEN
                                                                  IF IsNonInventoriableItem THEN BEGIN
                                                                    GetItem(Item);
                                                                    Item.TESTFIELD(Type,Item.Type::Inventory);
                                                                  END;
                                                                IF xRec."Location Code" <> "Location Code" THEN BEGIN
                                                                  IF "Prepmt. Amt. Inv." <> 0 THEN
                                                                    IF NOT ConfirmManagement.ConfirmProcess(
                                                                         STRSUBSTNO(
                                                                           Text046,FIELDCAPTION("Direct Unit Cost"),FIELDCAPTION("Location Code"),PRODUCTNAME.FULL),TRUE)
                                                                    THEN BEGIN
                                                                      "Location Code" := xRec."Location Code";
                                                                      EXIT;
                                                                    END;
                                                                  TESTFIELD("Qty. Rcd. Not Invoiced",0);
                                                                  TESTFIELD("Receipt No.",'');

                                                                  TESTFIELD("Return Qty. Shipped Not Invd.",0);
                                                                  TESTFIELD("Return Shipment No.",'');
                                                                END;

                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Location Code"),"Sales Order No.");
                                                                IF "Special Order" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Location Code"),"Special Order Sales No.");

                                                                IF "Location Code" <> xRec."Location Code" THEN
                                                                  InitItemAppl;

                                                                IF (xRec."Location Code" <> "Location Code") AND (Quantity <> 0) THEN BEGIN
                                                                  ReservePurchLine.VerifyChange(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                  UpdateWithWarehouseReceive;
                                                                  PostingSetupMgt.CheckInvtPostingSetupInventoryAccount("Location Code","Posting Group");
                                                                END;
                                                                "Bin Code" := '';

                                                                IF Type = Type::Item THEN
                                                                  UpdateDirectUnitCost(FIELDNO("Location Code"));

                                                                PurchSetup.GET;
                                                                IF PurchSetup."Use Vendor's Tax Area Code" THEN BEGIN
                                                                  Vend.GET("Buy-from Vendor No.");
                                                                  "Tax Area Code" := Vend."Tax Area Code";
                                                                END;
                                                                IF NOT VendorLocation.READPERMISSION THEN
                                                                  VendorLocation."Business Presence" := TRUE
                                                                ELSE
                                                                  IF NOT VendorLocation.GET("Buy-from Vendor No.","Location Code") THEN
                                                                    VendorLocation."Business Presence" := TRUE;
                                                                IF "Location Code" = '' THEN BEGIN
                                                                  IF InvtSetup.GET THEN
                                                                    "Inbound Whse. Handling Time" := InvtSetup."Inbound Whse. Handling Time";
                                                                  GetPurchHeader;
                                                                  IF PurchSetup."Use Vendor's Tax Area Code" AND ("Tax Area Code" <> '') THEN BEGIN
                                                                    VALIDATE("Tax Area Code");
                                                                    VendorLocation."Business Presence" := TRUE;
                                                                  END ELSE
                                                                    IF VendorLocation."Business Presence" THEN
                                                                      VALIDATE("Tax Area Code",PurchHeader."Tax Area Code")
                                                                    ELSE
                                                                      VALIDATE("Tax Area Code",VendorLocation."Alt. Tax Area Code");
                                                                  IF (TaxArea."Country/Region" = TaxArea."Country/Region"::CA) AND NOT VendorLocation."Business Presence" THEN
                                                                    "Provincial Tax Area Code" := PurchHeader."Provincial Tax Area Code"
                                                                  ELSE
                                                                    "Provincial Tax Area Code" := '';
                                                                END ELSE BEGIN
                                                                  IF Location.GET("Location Code") THEN BEGIN
                                                                    "Inbound Whse. Handling Time" := Location."Inbound Whse. Handling Time";
                                                                    IF Location."Do Not Use For Tax Calculation" THEN BEGIN
                                                                      GetPurchHeader;
                                                                      Location."Tax Area Code" := PurchHeader."Tax Area Code";
                                                                      Location."Provincial Tax Area Code" := PurchHeader."Provincial Tax Area Code";
                                                                    END;
                                                                    IF PurchSetup."Use Vendor's Tax Area Code" AND ("Tax Area Code" <> '') THEN BEGIN
                                                                      VALIDATE("Tax Area Code");
                                                                      VendorLocation."Business Presence" := TRUE;
                                                                    END ELSE
                                                                      IF VendorLocation."Business Presence" THEN
                                                                        VALIDATE("Tax Area Code",Location."Tax Area Code")
                                                                      ELSE
                                                                        VALIDATE("Tax Area Code",VendorLocation."Alt. Tax Area Code");
                                                                    IF (TaxArea."Country/Region" = TaxArea."Country/Region"::CA) AND NOT VendorLocation."Business Presence" THEN
                                                                      "Provincial Tax Area Code" := Location."Provincial Tax Area Code"
                                                                    ELSE
                                                                      "Provincial Tax Area Code" := '';
                                                                  END;
                                                                END;

                                                                UpdateLeadTimeFields;
                                                                UpdateDates;

                                                                GetDefaultBin;
                                                                CheckWMS;

                                                                IF "Document Type" = "Document Type"::"Return Order" THEN
                                                                  ValidateReturnReasonCode(FIELDNO("Location Code"));
                                                              END;

                                                   CaptionML=[ENU=Location Code;
                                                              ESM=C¢d. almacÇn;
                                                              FRC=Code d'emplacement;
                                                              ENC=Location Code] }
    { 8   ;   ;Posting Group       ;Code20        ;TableRelation=IF (Type=CONST(Item)) "Inventory Posting Group"
                                                                 ELSE IF (Type=CONST(Fixed Asset)) "FA Posting Group";
                                                   CaptionML=[ENU=Posting Group;
                                                              ESM=Grupo de registro;
                                                              FRC=Paramätre report;
                                                              ENC=Posting Group];
                                                   Editable=No }
    { 10  ;   ;Expected Receipt Date;Date         ;OnValidate=BEGIN
                                                                IF NOT TrackingBlocked THEN
                                                                  CheckDateConflict.PurchLineCheck(Rec,CurrFieldNo <> 0);

                                                                IF "Expected Receipt Date" <> 0D THEN
                                                                  VALIDATE(
                                                                    "Planned Receipt Date",
                                                                    CalendarMgmt.CalcDateBOC2(ReversedInternalLeadTimeDays("Expected Receipt Date"),"Expected Receipt Date",
                                                                      CalChange."Source Type"::Location,"Location Code",'',
                                                                      CalChange."Source Type"::Location,"Location Code",'',FALSE))
                                                                ELSE
                                                                  VALIDATE("Planned Receipt Date","Expected Receipt Date");
                                                              END;

                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Expected Receipt Date;
                                                              ESM=Fecha recepci¢n esperada;
                                                              FRC=Date rÇception prÇvue;
                                                              ENC=Expected Receipt Date] }
    { 11  ;   ;Description         ;Text50        ;TableRelation=IF (Type=CONST(G/L Account),
                                                                     System-Created Entry=CONST(No)) "G/L Account".Name WHERE (Direct Posting=CONST(Yes),
                                                                                                                               Account Type=CONST(Posting),
                                                                                                                               Blocked=CONST(No))
                                                                                                                               ELSE IF (Type=CONST(G/L Account),
                                                                                                                                        System-Created Entry=CONST(Yes)) "G/L Account".Name
                                                                                                                                        ELSE IF (Type=CONST(Item)) Item.Description WHERE (Blocked=CONST(No),
                                                                                                                                                                                           Purchasing Blocked=CONST(No))
                                                                                                                                                                                           ELSE IF (Type=CONST(Fixed Asset)) "Fixed Asset".Description
                                                                                                                                                                                           ELSE IF (Type=CONST("Charge (Item)")) "Item Charge".Description;
                                                   OnValidate=VAR
                                                                Item@1000 : Record 27;
                                                                ApplicationAreaMgmtFacade@1003 : Codeunit 9179;
                                                                FindRecordMgt@1002 : Codeunit 703;
                                                                ConfirmManagement@1005 : Codeunit 27;
                                                                ReturnValue@1001 : Text[50];
                                                                DescriptionIsNo@1004 : Boolean;
                                                              BEGIN
                                                                IF Type = Type::" " THEN
                                                                  EXIT;

                                                                IF (Type = Type::"G/L Account") AND (NOT ApplicationAreaMgmtFacade.IsFoundationEnabled) THEN
                                                                  EXIT;

                                                                IF ("No." <> '') AND (Type IN [Type::Item,Type::"Charge (Item)"]) THEN BEGIN
                                                                  CASE Type OF
                                                                    Type::Item:
                                                                      BEGIN
                                                                        IF (STRLEN(Description) <= MAXSTRLEN(Item."No.")) AND ("No." <> '') THEN
                                                                          DescriptionIsNo := Item.GET(Description)
                                                                        ELSE
                                                                          DescriptionIsNo := FALSE;

                                                                        IF NOT DescriptionIsNo THEN BEGIN
                                                                          Item.SETFILTER(Description,'@%1',CONVERTSTR(Description,'''','?'));
                                                                          IF NOT Item.FINDFIRST THEN
                                                                            EXIT;
                                                                          IF Item."No." = "No." THEN
                                                                            EXIT;
                                                                          IF IsReceivedFromOcr THEN
                                                                            EXIT;
                                                                          IF ConfirmManagement.ConfirmProcess(
                                                                               STRSUBSTNO(AnotherItemWithSameDescrQst,Item."No.",Item.Description),TRUE)
                                                                          THEN
                                                                            VALIDATE("No.",Item."No.");
                                                                          EXIT;
                                                                        END;

                                                                        IF Item.TryGetItemNoOpenCard(ReturnValue,Description,FALSE,FALSE,FALSE) THEN
                                                                          CASE ReturnValue OF
                                                                            '',"No.":
                                                                              Description := xRec.Description;
                                                                            ELSE
                                                                              VALIDATE("No.",COPYSTR(ReturnValue,1,MAXSTRLEN(Item."No.")));
                                                                          END;
                                                                      END;
                                                                    Type::"Charge (Item)":
                                                                      BEGIN
                                                                        ItemCharge.SETFILTER(Description,'@%1',CONVERTSTR(Description,'''','?'));
                                                                        IF NOT ItemCharge.FINDFIRST THEN
                                                                          EXIT;
                                                                        IF ItemCharge."No." = "No." THEN
                                                                          EXIT;
                                                                        IF ConfirmManagement.ConfirmProcess(
                                                                             STRSUBSTNO(AnotherChargeItemWithSameDescQst,ItemCharge."No.",ItemCharge.Description),TRUE)
                                                                        THEN
                                                                          VALIDATE("No.",ItemCharge."No.");
                                                                      END;
                                                                  END;
                                                                END ELSE
                                                                  IF "No." = '' THEN
                                                                    IF FindRecordMgt.FindRecordByDescription(ReturnValue,Type,Description) = 1 THEN BEGIN
                                                                      CurrFieldNo := FIELDNO("No.");
                                                                      VALIDATE("No.",COPYSTR(ReturnValue,1,MAXSTRLEN("No.")));
                                                                    END;

                                                                IF ("No." = '') AND GUIALLOWED AND ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
                                                                  IF "Document Type" IN ["Document Type"::Order] THEN
                                                                    ERROR(CannotFindDescErr,Type,Description);
                                                              END;

                                                   ValidateTableRelation=No;
                                                   CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 12  ;   ;Description 2       ;Text50        ;CaptionML=[ENU=Description 2;
                                                              ESM=Descripci¢n 2;
                                                              FRC=Description 2;
                                                              ENC=Description 2] }
    { 13  ;   ;Unit of Measure     ;Text10        ;CaptionML=[ENU=Unit of Measure;
                                                              ESM=Unidad medida;
                                                              FRC=UnitÇ de mesure;
                                                              ENC=Unit of Measure] }
    { 15  ;   ;Quantity            ;Decimal       ;OnValidate=VAR
                                                                IsHandled@1000 : Boolean;
                                                              BEGIN
                                                                TestStatusOpen;
                                                                IsHandled := FALSE;
                                                                OnValidateQuantityOnBeforeDropShptCheck(Rec,xRec,CurrFieldNo,IsHandled);
                                                                IF NOT IsHandled THEN
                                                                  IF "Drop Shipment" AND ("Document Type" <> "Document Type"::Invoice) THEN
                                                                    ERROR(
                                                                      Text001,FIELDCAPTION(Quantity),"Sales Order No.");
                                                                "Quantity (Base)" := CalcBaseQty(Quantity);
                                                                IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN BEGIN
                                                                  IF (Quantity * "Return Qty. Shipped" < 0) OR
                                                                     ((ABS(Quantity) < ABS("Return Qty. Shipped")) AND ("Return Shipment No." = ''))
                                                                  THEN
                                                                    FIELDERROR(Quantity,STRSUBSTNO(Text004,FIELDCAPTION("Return Qty. Shipped")));
                                                                  IF ("Quantity (Base)" * "Return Qty. Shipped (Base)" < 0) OR
                                                                     ((ABS("Quantity (Base)") < ABS("Return Qty. Shipped (Base)")) AND ("Return Shipment No." = ''))
                                                                  THEN
                                                                    FIELDERROR("Quantity (Base)",STRSUBSTNO(Text004,FIELDCAPTION("Return Qty. Shipped (Base)")));
                                                                END ELSE BEGIN
                                                                  IF (Quantity * "Quantity Received" < 0) OR
                                                                     ((ABS(Quantity) < ABS("Quantity Received")) AND ("Receipt No." = ''))
                                                                  THEN
                                                                    FIELDERROR(Quantity,STRSUBSTNO(Text004,FIELDCAPTION("Quantity Received")));
                                                                  IF ("Quantity (Base)" * "Qty. Received (Base)" < 0) OR
                                                                     ((ABS("Quantity (Base)") < ABS("Qty. Received (Base)")) AND ("Receipt No." = ''))
                                                                  THEN
                                                                    FIELDERROR("Quantity (Base)",STRSUBSTNO(Text004,FIELDCAPTION("Qty. Received (Base)")));
                                                                END;

                                                                IF (Type = Type::"Charge (Item)") AND (CurrFieldNo <> 0) THEN BEGIN
                                                                  IF (Quantity = 0) AND ("Qty. to Assign" <> 0) THEN
                                                                    FIELDERROR("Qty. to Assign",STRSUBSTNO(Text011,FIELDCAPTION(Quantity),Quantity));
                                                                  IF (Quantity * "Qty. Assigned" < 0) OR (ABS(Quantity) < ABS("Qty. Assigned")) THEN
                                                                    FIELDERROR(Quantity,STRSUBSTNO(Text004,FIELDCAPTION("Qty. Assigned")));
                                                                END;

                                                                IF "Receipt No." <> '' THEN
                                                                  CheckReceiptRelation
                                                                ELSE
                                                                  IF "Return Shipment No." <> '' THEN
                                                                    CheckRetShptRelation;

                                                                IF (xRec.Quantity <> Quantity) OR (xRec."Quantity (Base)" <> "Quantity (Base)") OR
                                                                   ("No." = xRec."No.")
                                                                THEN BEGIN
                                                                  InitOutstanding;
                                                                  IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
                                                                    InitQtyToShip
                                                                  ELSE
                                                                    InitQtyToReceive;
                                                                END;
                                                                IF (Quantity * xRec.Quantity < 0) OR (Quantity = 0) THEN
                                                                  InitItemAppl;

                                                                IF Type = Type::Item THEN
                                                                  UpdateDirectUnitCost(FIELDNO(Quantity))
                                                                ELSE
                                                                  VALIDATE("Line Discount %");

                                                                IF Type = Type::"Charge (Item)" THEN
                                                                  "Line Discount %" := 0;

                                                                UpdateWithWarehouseReceive;
                                                                IF (xRec.Quantity <> Quantity) OR (xRec."Quantity (Base)" <> "Quantity (Base)") THEN BEGIN
                                                                  OnBeforeVerifyReservedQty(Rec,xRec,FIELDNO(Quantity));
                                                                  ReservePurchLine.VerifyQuantity(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                  CheckApplToItemLedgEntry;
                                                                END;

                                                                IF (xRec.Quantity <> Quantity) AND (Quantity = 0) AND
                                                                   ((Amount <> 0) OR ("Amount Including VAT" <> 0) OR ("VAT Base Amount" <> 0))
                                                                THEN BEGIN
                                                                  Amount := 0;
                                                                  "Amount Including VAT" := 0;
                                                                  "VAT Base Amount" := 0;
                                                                END;

                                                                UpdatePrePaymentAmounts;

                                                                IF "Job Planning Line No." <> 0 THEN
                                                                  VALIDATE("Job Planning Line No.");

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(TRUE);
                                                                  UpdateJobPrices;
                                                                END;

                                                                CheckWMS;
                                                              END;

                                                   CaptionML=[ENU=Quantity;
                                                              ESM=Cantidad;
                                                              FRC=QuantitÇ;
                                                              ENC=Quantity];
                                                   DecimalPlaces=0:5 }
    { 16  ;   ;Outstanding Quantity;Decimal       ;CaptionML=[ENU=Outstanding Quantity;
                                                              ESM=Cantidad pendiente;
                                                              FRC=QuantitÇ en suspens;
                                                              ENC=Outstanding Quantity];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 17  ;   ;Qty. to Invoice     ;Decimal       ;OnValidate=BEGIN
                                                                IF "Qty. to Invoice" = MaxQtyToInvoice THEN
                                                                  InitQtyToInvoice
                                                                ELSE
                                                                  "Qty. to Invoice (Base)" := CalcBaseQty("Qty. to Invoice");
                                                                IF ("Qty. to Invoice" * Quantity < 0) OR (ABS("Qty. to Invoice") > ABS(MaxQtyToInvoice)) THEN
                                                                  ERROR(
                                                                    Text006,
                                                                    MaxQtyToInvoice);
                                                                IF ("Qty. to Invoice (Base)" * "Quantity (Base)" < 0) OR (ABS("Qty. to Invoice (Base)") > ABS(MaxQtyToInvoiceBase)) THEN
                                                                  ERROR(
                                                                    Text007,
                                                                    MaxQtyToInvoiceBase);
                                                                "VAT Difference" := 0;
                                                                CalcInvDiscToInvoice;
                                                                CalcPrepaymentToDeduct;

                                                                IF "Job Planning Line No." <> 0 THEN
                                                                  VALIDATE("Job Planning Line No.");
                                                              END;

                                                   CaptionML=[ENU=Qty. to Invoice;
                                                              ESM=Cdad. a facturar;
                                                              FRC=QuantitÇ Ö facturer;
                                                              ENC=Qty. to Invoice];
                                                   DecimalPlaces=0:5 }
    { 18  ;   ;Qty. to Receive     ;Decimal       ;OnValidate=BEGIN
                                                                GetLocation("Location Code");
                                                                IF (CurrFieldNo <> 0) AND (Type = Type::Item) AND (NOT "Drop Shipment") THEN BEGIN
                                                                  IF Location."Require Receive" AND ("Qty. to Receive" <> 0) THEN
                                                                    CheckWarehouse;
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                END;
                                                                OnValidateQtyToReceiveOnAfterCheck(Rec,CurrFieldNo);

                                                                IF "Qty. to Receive" = Quantity - "Quantity Received" THEN
                                                                  InitQtyToReceive
                                                                ELSE BEGIN
                                                                  "Qty. to Receive (Base)" := CalcBaseQty("Qty. to Receive");
                                                                  InitQtyToInvoice;
                                                                END;
                                                                IF ((("Qty. to Receive" < 0) XOR (Quantity < 0)) AND (Quantity <> 0) AND ("Qty. to Receive" <> 0)) OR
                                                                   (ABS("Qty. to Receive") > ABS("Outstanding Quantity")) OR
                                                                   (((Quantity < 0 ) XOR ("Outstanding Quantity" < 0)) AND (Quantity <> 0) AND ("Outstanding Quantity" <> 0))
                                                                THEN
                                                                  ERROR(
                                                                    Text008,
                                                                    "Outstanding Quantity");
                                                                IF ((("Qty. to Receive (Base)" < 0) XOR ("Quantity (Base)" < 0)) AND ("Quantity (Base)" <> 0) AND ("Qty. to Receive (Base)" <> 0)) OR
                                                                   (ABS("Qty. to Receive (Base)") > ABS("Outstanding Qty. (Base)")) OR
                                                                   ((("Quantity (Base)" < 0) XOR ("Outstanding Qty. (Base)" < 0)) AND ("Quantity (Base)" <> 0) AND ("Outstanding Qty. (Base)" <> 0))
                                                                THEN
                                                                  ERROR(
                                                                    Text009,
                                                                    "Outstanding Qty. (Base)");

                                                                IF (CurrFieldNo <> 0) AND (Type = Type::Item) AND ("Qty. to Receive" < 0) THEN
                                                                  CheckApplToItemLedgEntry;

                                                                IF "Job Planning Line No." <> 0 THEN
                                                                  VALIDATE("Job Planning Line No.");
                                                              END;

                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Qty. to Receive;
                                                              ESM=Cantidad a recibir;
                                                              FRC=QuantitÇ Ö recevoir;
                                                              ENC=Qty. to Receive];
                                                   DecimalPlaces=0:5 }
    { 22  ;   ;Direct Unit Cost    ;Decimal       ;OnValidate=BEGIN
                                                                IF ("Prepmt. Amt. Inv." <> 0) AND
                                                                   ("Direct Unit Cost" <> xRec."Direct Unit Cost") AND NOT IsServiceCharge
                                                                THEN
                                                                  FIELDERROR("Direct Unit Cost",STRSUBSTNO(Text1020005,xRec."Direct Unit Cost"));
                                                                VALIDATE("Line Discount %");
                                                              END;

                                                   CaptionML=[ENU=Direct Unit Cost;
                                                              ESM=Costo unit. directo;
                                                              FRC=Coñt unitaire direct;
                                                              ENC=Direct Unit Cost];
                                                   AutoFormatType=2;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Direct Unit Cost")) }
    { 23  ;   ;Unit Cost (LCY)     ;Decimal       ;OnValidate=VAR
                                                                Item@1001 : Record 27;
                                                                IndirectCostPercent@1000 : Decimal;
                                                              BEGIN
                                                                TestStatusOpen;
                                                                TESTFIELD("No.");
                                                                TESTFIELD(Quantity);

                                                                IF "Prod. Order No." <> '' THEN
                                                                  ERROR(
                                                                    Text99000000,
                                                                    FIELDCAPTION("Unit Cost (LCY)"));

                                                                IF CurrFieldNo = FIELDNO("Unit Cost (LCY)") THEN
                                                                  IF Type = Type::Item THEN BEGIN
                                                                    GetItem(Item);
                                                                    IF Item."Costing Method" = Item."Costing Method"::Standard THEN
                                                                      ERROR(
                                                                        Text010,
                                                                        FIELDCAPTION("Unit Cost (LCY)"),Item.FIELDCAPTION("Costing Method"),Item."Costing Method");
                                                                  END;

                                                                UnitCostCurrency := "Unit Cost (LCY)";
                                                                GetPurchHeader;
                                                                IF PurchHeader."Currency Code" <> '' THEN BEGIN
                                                                  PurchHeader.TESTFIELD("Currency Factor");
                                                                  GetGLSetup;
                                                                  UnitCostCurrency :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtLCYToFCY(
                                                                        GetDate,"Currency Code",
                                                                        "Unit Cost (LCY)",PurchHeader."Currency Factor"),
                                                                      GLSetup."Unit-Amount Rounding Precision");
                                                                END;

                                                                "Indirect Cost %" := 0;
                                                                IF ("Direct Unit Cost" <> 0) AND
                                                                   ("Direct Unit Cost" <> ("Line Discount Amount" / Quantity))
                                                                THEN BEGIN
                                                                  IndirectCostPercent :=
                                                                    ROUND(
                                                                      (UnitCostCurrency - "Direct Unit Cost" + "Line Discount Amount" / Quantity) /
                                                                      ("Direct Unit Cost" - "Line Discount Amount" / Quantity) * 100,0.00001);
                                                                  IF IndirectCostPercent >= 0 THEN
                                                                    "Indirect Cost %" := IndirectCostPercent;
                                                                END;

                                                                UpdateSalesCost;

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Unit Cost (LCY)","Unit Cost (LCY)");
                                                                  UpdateJobPrices;
                                                                END
                                                              END;

                                                   CaptionML=[ENU=Unit Cost ($);
                                                              ESM=Costo unitario ($);
                                                              FRC=Coñt unitaire ($);
                                                              ENC=Unit Cost ($)];
                                                   AutoFormatType=2 }
    { 25  ;   ;VAT %               ;Decimal       ;CaptionML=[ENU=Tax %;
                                                              ESM=% IVA;
                                                              FRC=% TVA;
                                                              ENC=Tax %];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 27  ;   ;Line Discount %     ;Decimal       ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                GetPurchHeader;
                                                                "Line Discount Amount" :=
                                                                  ROUND(
                                                                    ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") *
                                                                    "Line Discount %" / 100,
                                                                    Currency."Amount Rounding Precision");
                                                                "Inv. Discount Amount" := 0;
                                                                "Inv. Disc. Amount to Invoice" := 0;
                                                                UpdateAmounts;
                                                                UpdateUnitCost;
                                                              END;

                                                   CaptionML=[ENU=Line Discount %;
                                                              ESM=% Descuento l°nea;
                                                              FRC=Ligne % escompte;
                                                              ENC=Line Discount %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100 }
    { 28  ;   ;Line Discount Amount;Decimal       ;OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                "Line Discount Amount" := ROUND("Line Discount Amount",Currency."Amount Rounding Precision");
                                                                TestStatusOpen;
                                                                TESTFIELD(Quantity);
                                                                IF xRec."Line Discount Amount" <> "Line Discount Amount" THEN
                                                                  UpdateLineDiscPct;
                                                                "Inv. Discount Amount" := 0;
                                                                "Inv. Disc. Amount to Invoice" := 0;
                                                                UpdateAmounts;
                                                                UpdateUnitCost;
                                                              END;

                                                   CaptionML=[ENU=Line Discount Amount;
                                                              ESM=Importe dto. l°nea;
                                                              FRC=Ligne Montant d'escompte;
                                                              ENC=Line Discount Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 29  ;   ;Amount              ;Decimal       ;OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                Amount := ROUND(Amount,Currency."Amount Rounding Precision");
                                                                CASE "VAT Calculation Type" OF
                                                                  "VAT Calculation Type"::"Normal VAT",
                                                                  "VAT Calculation Type"::"Reverse Charge VAT":
                                                                    BEGIN
                                                                      "VAT Base Amount" :=
                                                                        ROUND(Amount * (1 - PurchHeader."VAT Base Discount %" / 100),Currency."Amount Rounding Precision");
                                                                      "Amount Including VAT" :=
                                                                        ROUND(Amount + "VAT Base Amount" * "VAT %" / 100,Currency."Amount Rounding Precision");
                                                                    END;
                                                                  "VAT Calculation Type"::"Full VAT":
                                                                    IF Amount <> 0 THEN
                                                                      FIELDERROR(Amount,
                                                                        STRSUBSTNO(
                                                                          Text011,FIELDCAPTION("VAT Calculation Type"),
                                                                          "VAT Calculation Type"));
                                                                  "VAT Calculation Type"::"Sales Tax":
                                                                    BEGIN
                                                                      PurchHeader.TESTFIELD("VAT Base Discount %",0);
                                                                      "VAT Base Amount" := Amount;
                                                                      IF "Use Tax" THEN
                                                                        "Amount Including VAT" := "VAT Base Amount"
                                                                      ELSE BEGIN
                                                                        "Amount Including VAT" :=
                                                                          Amount +
                                                                          ROUND(
                                                                            SalesTaxCalculate.CalculateTax(
                                                                              "Tax Area Code","Tax Group Code","Tax Liable",PurchHeader."Posting Date",
                                                                              "VAT Base Amount","Quantity (Base)",PurchHeader."Currency Factor"),
                                                                            Currency."Amount Rounding Precision");
                                                                        IF "VAT Base Amount" <> 0 THEN
                                                                          "VAT %" :=
                                                                            ROUND(100 * ("Amount Including VAT" - "VAT Base Amount") / "VAT Base Amount",0.00001)
                                                                        ELSE
                                                                          "VAT %" := 0;
                                                                      END;
                                                                    END;
                                                                END;

                                                                InitOutstandingAmount;
                                                                UpdateUnitCost;
                                                              END;

                                                   CaptionML=[ENU=Amount;
                                                              ESM=Importe;
                                                              FRC=Montant;
                                                              ENC=Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 30  ;   ;Amount Including VAT;Decimal       ;OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                "Amount Including VAT" := ROUND("Amount Including VAT",Currency."Amount Rounding Precision");
                                                                CASE "VAT Calculation Type" OF
                                                                  "VAT Calculation Type"::"Normal VAT",
                                                                  "VAT Calculation Type"::"Reverse Charge VAT":
                                                                    BEGIN
                                                                      Amount :=
                                                                        ROUND(
                                                                          "Amount Including VAT" /
                                                                          (1 + (1 - PurchHeader."VAT Base Discount %" / 100) * "VAT %" / 100),
                                                                          Currency."Amount Rounding Precision");
                                                                      "VAT Base Amount" :=
                                                                        ROUND(Amount * (1 - PurchHeader."VAT Base Discount %" / 100),Currency."Amount Rounding Precision");
                                                                    END;
                                                                  "VAT Calculation Type"::"Full VAT":
                                                                    BEGIN
                                                                      Amount := 0;
                                                                      "VAT Base Amount" := 0;
                                                                    END;
                                                                  "VAT Calculation Type"::"Sales Tax":
                                                                    BEGIN
                                                                      PurchHeader.TESTFIELD("VAT Base Discount %",0);
                                                                      IF "Use Tax" THEN BEGIN
                                                                        Amount := "Amount Including VAT";
                                                                        "VAT Base Amount" := Amount;
                                                                      END ELSE BEGIN
                                                                        Amount :=
                                                                          ROUND(
                                                                            SalesTaxCalculate.ReverseCalculateTax(
                                                                              "Tax Area Code","Tax Group Code","Tax Liable",PurchHeader."Posting Date",
                                                                              "Amount Including VAT","Quantity (Base)",PurchHeader."Currency Factor"),
                                                                            Currency."Amount Rounding Precision");
                                                                        "VAT Base Amount" := Amount;
                                                                        IF "VAT Base Amount" <> 0 THEN
                                                                          "VAT %" :=
                                                                            ROUND(100 * ("Amount Including VAT" - "VAT Base Amount") / "VAT Base Amount",0.00001)
                                                                        ELSE
                                                                          "VAT %" := 0;
                                                                      END;
                                                                    END;
                                                                END;

                                                                InitOutstandingAmount;
                                                                UpdateUnitCost;
                                                              END;

                                                   CaptionML=[ENU=Amount Including Tax;
                                                              ESM=Importe IVA incl.;
                                                              FRC=Montant avec TVA;
                                                              ENC=Amount Including Tax];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 31  ;   ;Unit Price (LCY)    ;Decimal       ;CaptionML=[ENU=Unit Price ($);
                                                              ESM=Precio unitario ($);
                                                              FRC=Prix unitaire ($);
                                                              ENC=Unit Price ($)];
                                                   AutoFormatType=2 }
    { 32  ;   ;Allow Invoice Disc. ;Boolean       ;InitValue=Yes;
                                                   OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF ("Allow Invoice Disc." <> xRec."Allow Invoice Disc.") AND
                                                                   (NOT "Allow Invoice Disc.")
                                                                THEN BEGIN
                                                                  "Inv. Discount Amount" := 0;
                                                                  "Inv. Disc. Amount to Invoice" := 0;
                                                                  UpdateAmounts;
                                                                  UpdateUnitCost;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Allow Invoice Disc.;
                                                              ESM=Permitir dto. factura;
                                                              FRC=Escompte de facture permis;
                                                              ENC=Allow Invoice Disc.] }
    { 34  ;   ;Gross Weight        ;Decimal       ;CaptionML=[ENU=Gross Weight;
                                                              ESM=Peso bruto;
                                                              FRC=Poids brut;
                                                              ENC=Gross Weight];
                                                   DecimalPlaces=0:5 }
    { 35  ;   ;Net Weight          ;Decimal       ;CaptionML=[ENU=Net Weight;
                                                              ESM=Peso neto;
                                                              FRC=Poids net;
                                                              ENC=Net Weight];
                                                   DecimalPlaces=0:5 }
    { 36  ;   ;Units per Parcel    ;Decimal       ;CaptionML=[ENU=Units per Parcel;
                                                              ESM=Unidades por lote;
                                                              FRC=UnitÇs par colis;
                                                              ENC=Units per Parcel];
                                                   DecimalPlaces=0:5 }
    { 37  ;   ;Unit Volume         ;Decimal       ;CaptionML=[ENU=Unit Volume;
                                                              ESM=Volumen;
                                                              FRC=Volume unitaire;
                                                              ENC=Unit Volume];
                                                   DecimalPlaces=0:5 }
    { 38  ;   ;Appl.-to Item Entry ;Integer       ;OnValidate=BEGIN
                                                                IF "Appl.-to Item Entry" <> 0 THEN
                                                                  "Location Code" := CheckApplToItemLedgEntry;
                                                              END;

                                                   OnLookup=BEGIN
                                                              SelectItemEntry;
                                                            END;

                                                   AccessByPermission=TableData 27=R;
                                                   CaptionML=[ENU=Appl.-to Item Entry;
                                                              ESM=Liq. por nß orden producto;
                                                              FRC=êcr. article Ö affecter;
                                                              ENC=Appl.-to Item Entry] }
    { 40  ;   ;Shortcut Dimension 1 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1),
                                                                                               Blocked=CONST(No));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(1,"Shortcut Dimension 1 Code");
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 1 Code;
                                                              ESM=C¢d. dim. acceso dir. 1;
                                                              FRC=Code raccourci de dimension 1;
                                                              ENC=Shortcut Dimension 1 Code];
                                                   CaptionClass='1,2,1' }
    { 41  ;   ;Shortcut Dimension 2 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2),
                                                                                               Blocked=CONST(No));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(2,"Shortcut Dimension 2 Code");
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 2 Code;
                                                              ESM=C¢d. dim. acceso dir. 2;
                                                              FRC=Code raccourci de dimension 2;
                                                              ENC=Shortcut Dimension 2 Code];
                                                   CaptionClass='1,2,2' }
    { 45  ;   ;Job No.             ;Code20        ;TableRelation=Job;
                                                   OnValidate=VAR
                                                                Job@1000 : Record 167;
                                                              BEGIN
                                                                TESTFIELD("Drop Shipment",FALSE);
                                                                TESTFIELD("Special Order",FALSE);
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF ReservEntryExist THEN
                                                                  TESTFIELD("Job No.",'');

                                                                IF "Job No." <> xRec."Job No." THEN BEGIN
                                                                  VALIDATE("Job Task No.",'');
                                                                  VALIDATE("Job Planning Line No.",0);
                                                                END;

                                                                IF "Job No." = '' THEN BEGIN
                                                                  CreateDim(
                                                                    DATABASE::Job,"Job No.",
                                                                    DimMgt.TypeToTableID3(Type),"No.",
                                                                    DATABASE::"Responsibility Center","Responsibility Center",
                                                                    DATABASE::"Work Center","Work Center No.");
                                                                  EXIT;
                                                                END;

                                                                IF NOT (Type IN [Type::Item,Type::"G/L Account"]) THEN
                                                                  FIELDERROR("Job No.",STRSUBSTNO(Text012,FIELDCAPTION(Type),Type));
                                                                Job.GET("Job No.");
                                                                Job.TestBlocked;
                                                                "Job Currency Code" := Job."Currency Code";

                                                                CreateDim(
                                                                  DATABASE::Job,"Job No.",
                                                                  DimMgt.TypeToTableID3(Type),"No.",
                                                                  DATABASE::"Responsibility Center","Responsibility Center",
                                                                  DATABASE::"Work Center","Work Center No.");
                                                              END;

                                                   CaptionML=[ENU=Job No.;
                                                              ESM=Nß proyecto;
                                                              FRC=N¯ projet;
                                                              ENC=Job No.] }
    { 54  ;   ;Indirect Cost %     ;Decimal       ;OnValidate=VAR
                                                                Item@1000 : Record 27;
                                                              BEGIN
                                                                TESTFIELD("No.");
                                                                TestStatusOpen;

                                                                IF Type = Type::"Charge (Item)" THEN
                                                                  TESTFIELD("Indirect Cost %",0);

                                                                IF (Type = Type::Item) AND ("Prod. Order No." = '') THEN BEGIN
                                                                  GetItem(Item);
                                                                  Item.TESTFIELD(Type,Item.Type::Inventory);
                                                                  IF Item."Costing Method" = Item."Costing Method"::Standard THEN
                                                                    ERROR(
                                                                      Text010,
                                                                      FIELDCAPTION("Indirect Cost %"),Item.FIELDCAPTION("Costing Method"),Item."Costing Method");
                                                                END;

                                                                UpdateUnitCost;
                                                              END;

                                                   CaptionML=[ENU=Indirect Cost %;
                                                              ESM=% Costo indirecto;
                                                              FRC=% coñt indirect;
                                                              ENC=Indirect Cost %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0 }
    { 56  ;   ;Recalculate Invoice Disc.;Boolean  ;CaptionML=[ENU=Recalculate Invoice Disc.;
                                                              ESM=Recalcular dto. en la factura;
                                                              FRC=Recalculer remise facture;
                                                              ENC=Recalculate Invoice Disc.];
                                                   Editable=No }
    { 57  ;   ;Outstanding Amount  ;Decimal       ;OnValidate=VAR
                                                                Currency2@1000 : Record 4;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                Currency2.InitRoundingPrecision;
                                                                IF PurchHeader."Currency Code" <> '' THEN
                                                                  "Outstanding Amount (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        GetDate,"Currency Code",
                                                                        "Outstanding Amount",PurchHeader."Currency Factor"),
                                                                      Currency2."Amount Rounding Precision")
                                                                ELSE
                                                                  "Outstanding Amount (LCY)" :=
                                                                    ROUND("Outstanding Amount",Currency2."Amount Rounding Precision");

                                                                "Outstanding Amt. Ex. VAT (LCY)" :=
                                                                  ROUND("Outstanding Amount (LCY)" / (1 + "VAT %" / 100),Currency2."Amount Rounding Precision");
                                                              END;

                                                   CaptionML=[ENU=Outstanding Amount;
                                                              ESM=Importe pendiente;
                                                              FRC=Montant non payÇ;
                                                              ENC=Outstanding Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 58  ;   ;Qty. Rcd. Not Invoiced;Decimal     ;CaptionML=[ENU=Qty. Rcd. Not Invoiced;
                                                              ESM=Cantidad recibida no facturada;
                                                              FRC=QuantitÇ reáue non facturÇe;
                                                              ENC=Qty. Rcd. Not Invoiced];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 59  ;   ;Amt. Rcd. Not Invoiced;Decimal     ;OnValidate=VAR
                                                                Currency2@1000 : Record 4;
                                                                TaxToBeExpensedRate@1020000 : Decimal;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                Currency2.InitRoundingPrecision;
                                                                IF PurchHeader."Currency Code" <> '' THEN
                                                                  "Amt. Rcd. Not Invoiced (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        GetDate,"Currency Code",
                                                                        "Amt. Rcd. Not Invoiced",PurchHeader."Currency Factor"),
                                                                      Currency2."Amount Rounding Precision")
                                                                ELSE
                                                                  "Amt. Rcd. Not Invoiced (LCY)" :=
                                                                    ROUND("Amt. Rcd. Not Invoiced",Currency2."Amount Rounding Precision");

                                                                IF Amount <> 0 THEN
                                                                  TaxToBeExpensedRate := "Tax To Be Expensed" / Amount * 100;
                                                                "A. Rcd. Not Inv. Ex. VAT (LCY)" :=
                                                                  ROUND("Amt. Rcd. Not Invoiced (LCY)" / (1 + ("VAT %" - TaxToBeExpensedRate) / 100),Currency2."Amount Rounding Precision");
                                                              END;

                                                   CaptionML=[ENU=Amt. Rcd. Not Invoiced;
                                                              ESM=Importe recibido no facturado;
                                                              FRC=Montant reáu non facturÇ;
                                                              ENC=Amt. Rcd. Not Invoiced];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 60  ;   ;Quantity Received   ;Decimal       ;AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Quantity Received;
                                                              ESM=Cantidad recibida;
                                                              FRC=QuantitÇ reáue;
                                                              ENC=Quantity Received];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 61  ;   ;Quantity Invoiced   ;Decimal       ;CaptionML=[ENU=Quantity Invoiced;
                                                              ESM=Cantidad facturada;
                                                              FRC=QuantitÇ facturÇe;
                                                              ENC=Quantity Invoiced];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 63  ;   ;Receipt No.         ;Code20        ;CaptionML=[ENU=Receipt No.;
                                                              ESM=Nß recepci¢n;
                                                              FRC=N¯ bon de rÇception;
                                                              ENC=Receipt No.];
                                                   Editable=No }
    { 64  ;   ;Receipt Line No.    ;Integer       ;CaptionML=[ENU=Receipt Line No.;
                                                              ESM=Nß l°nea recepci¢n;
                                                              FRC=N¯ ligne bon de rÇception;
                                                              ENC=Receipt Line No.];
                                                   Editable=No }
    { 65  ;   ;Order No.           ;Code20        ;CaptionML=[ENU=Order No.;
                                                              ESM=N.ß pedido;
                                                              FRC=N¯ commande;
                                                              ENC=Order No.] }
    { 66  ;   ;Order Line No.      ;Integer       ;CaptionML=[ENU=Order Line No.;
                                                              ESM=N.ß l°nea pedido;
                                                              FRC=N¯ ligne commande;
                                                              ENC=Order Line No.] }
    { 67  ;   ;Profit %            ;Decimal       ;CaptionML=[ENU=Profit %;
                                                              ESM=% Bfß bruto;
                                                              FRC=% profit;
                                                              ENC=Profit %];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 68  ;   ;Pay-to Vendor No.   ;Code20        ;TableRelation=Vendor;
                                                   CaptionML=[ENU=Vendor No.;
                                                              ESM=Pago-a Nß proveedor;
                                                              FRC=N¯ fournisseur crÇancier;
                                                              ENC=Vendor No.];
                                                   Editable=No }
    { 69  ;   ;Inv. Discount Amount;Decimal       ;OnValidate=BEGIN
                                                                UpdateAmounts;
                                                                UpdateUnitCost;
                                                                CalcInvDiscToInvoice;
                                                              END;

                                                   CaptionML=[ENU=Inv. Discount Amount;
                                                              ESM=Importe dto. factura;
                                                              FRC=Montant d'escompte sur facture;
                                                              ENC=Inv. Discount Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 70  ;   ;Vendor Item No.     ;Text20        ;OnValidate=BEGIN
                                                                IF PurchHeader."Send IC Document" AND
                                                                   ("IC Partner Ref. Type" = "IC Partner Ref. Type"::"Vendor Item No.")
                                                                THEN
                                                                  "IC Partner Reference" := "Vendor Item No.";
                                                              END;

                                                   CaptionML=[ENU=Vendor Item No.;
                                                              ESM=C¢d. producto proveedor;
                                                              FRC=N¯ article fournisseur;
                                                              ENC=Vendor Item No.] }
    { 71  ;   ;Sales Order No.     ;Code20        ;TableRelation=IF (Drop Shipment=CONST(Yes)) "Sales Header".No. WHERE (Document Type=CONST(Order));
                                                   OnValidate=BEGIN
                                                                IF (xRec."Sales Order No." <> "Sales Order No.") AND (Quantity <> 0) THEN BEGIN
                                                                  ReservePurchLine.VerifyChange(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Sales Order No.;
                                                              ESM=Nß pedido venta;
                                                              FRC=N¯ document de vente;
                                                              ENC=Sales Order No.];
                                                   Editable=No }
    { 72  ;   ;Sales Order Line No.;Integer       ;TableRelation=IF (Drop Shipment=CONST(Yes)) "Sales Line"."Line No." WHERE (Document Type=CONST(Order),
                                                                                                                              Document No.=FIELD(Sales Order No.));
                                                   OnValidate=BEGIN
                                                                IF (xRec."Sales Order Line No." <> "Sales Order Line No.") AND (Quantity <> 0) THEN BEGIN
                                                                  ReservePurchLine.VerifyChange(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Sales Order Line No.;
                                                              ESM=Nß l°nea pedido venta;
                                                              FRC=N¯ ligne document de vente;
                                                              ENC=Sales Order Line No.];
                                                   Editable=No }
    { 73  ;   ;Drop Shipment       ;Boolean       ;OnValidate=BEGIN
                                                                IF (xRec."Drop Shipment" <> "Drop Shipment") AND (Quantity <> 0) THEN BEGIN
                                                                  ReservePurchLine.VerifyChange(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                END;
                                                                IF "Drop Shipment" THEN BEGIN
                                                                  "Bin Code" := '';
                                                                  EVALUATE("Inbound Whse. Handling Time",'<0D>');
                                                                  VALIDATE("Inbound Whse. Handling Time");
                                                                  InitOutstanding;
                                                                  InitQtyToReceive;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 223=R;
                                                   CaptionML=[ENU=Drop Shipment;
                                                              ESM=Env°o directo;
                                                              FRC=Livraison directe;
                                                              ENC=Drop Shipment];
                                                   Editable=No }
    { 74  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   OnValidate=BEGIN
                                                                IF xRec."Gen. Bus. Posting Group" <> "Gen. Bus. Posting Group" THEN
                                                                  IF GenBusPostingGrp.ValidateVatBusPostingGroup(GenBusPostingGrp,"Gen. Bus. Posting Group") THEN
                                                                    VALIDATE("VAT Bus. Posting Group",GenBusPostingGrp."Def. VAT Bus. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo registro neg. gen.;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 75  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF xRec."Gen. Prod. Posting Group" <> "Gen. Prod. Posting Group" THEN
                                                                  IF GenProdPostingGrp.ValidateVatProdPostingGroup(GenProdPostingGrp,"Gen. Prod. Posting Group") THEN
                                                                    VALIDATE("VAT Prod. Posting Group",GenProdPostingGrp."Def. VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo registro prod. gen.;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 77  ;   ;VAT Calculation Type;Option        ;CaptionML=[ENU=VAT Calculation Type;
                                                              ESM=Tipo c†lculo IVA;
                                                              FRC=Type de calcul taxe;
                                                              ENC=Tax Calculation Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax;
                                                   Editable=No }
    { 78  ;   ;Transaction Type    ;Code10        ;TableRelation="Transaction Type";
                                                   CaptionML=[ENU=Transaction Type;
                                                              ESM=Naturaleza transacci¢n;
                                                              FRC=Type de transaction;
                                                              ENC=Transaction Type] }
    { 79  ;   ;Transport Method    ;Code10        ;TableRelation="Transport Method";
                                                   CaptionML=[ENU=Transport Method;
                                                              ESM=Modo transporte;
                                                              FRC=Mode de transport;
                                                              ENC=Transport Method] }
    { 80  ;   ;Attached to Line No.;Integer       ;TableRelation="Purchase Line"."Line No." WHERE (Document Type=FIELD(Document Type),
                                                                                                   Document No.=FIELD(Document No.));
                                                   CaptionML=[ENU=Attached to Line No.;
                                                              ESM=Nß l°nea texto adicional;
                                                              FRC=ReliÇ Ö la ligne nß;
                                                              ENC=Attached to Line No.];
                                                   Editable=No }
    { 81  ;   ;Entry Point         ;Code10        ;TableRelation="Entry/Exit Point";
                                                   CaptionML=[ENU=Entry Point;
                                                              ESM=Punto de entrada;
                                                              FRC=Point d'entrÇe;
                                                              ENC=Entry Point] }
    { 82  ;   ;Area                ;Code10        ;TableRelation=Area;
                                                   CaptionML=[ENU=Area;
                                                              ESM=C¢d. provincia;
                                                              FRC=Zone;
                                                              ENC=Area] }
    { 83  ;   ;Transaction Specification;Code10   ;TableRelation="Transaction Specification";
                                                   CaptionML=[ENU=Transaction Specification;
                                                              ESM=Especificaci¢n transacci¢n;
                                                              FRC=SpÇcification transaction;
                                                              ENC=Transaction Specification] }
    { 85  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   OnValidate=VAR
                                                                HeaderTaxArea@1020000 : Record 318;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                TestStatusOpen;
                                                                TestExpenseCapitalize;
                                                                IF "Tax Area Code" = '' THEN
                                                                  CLEAR(TaxArea)
                                                                ELSE BEGIN
                                                                  TaxArea.GET("Tax Area Code");
                                                                  PurchHeader.TESTFIELD("Tax Area Code");
                                                                  HeaderTaxArea.GET(PurchHeader."Tax Area Code");
                                                                  IF TaxArea."Country/Region" <> HeaderTaxArea."Country/Region" THEN
                                                                    ERROR(
                                                                      Text1020003,
                                                                      TaxArea.FIELDCAPTION("Country/Region"),
                                                                      TaxArea.TABLECAPTION,
                                                                      TABLECAPTION,
                                                                      PurchHeader.TABLECAPTION);
                                                                  IF TaxArea."Use External Tax Engine" <> HeaderTaxArea."Use External Tax Engine" THEN
                                                                    ERROR(
                                                                      Text1020003,
                                                                      TaxArea.FIELDCAPTION("Use External Tax Engine"),
                                                                      TaxArea.TABLECAPTION,
                                                                      TABLECAPTION,
                                                                      PurchHeader.TABLECAPTION);
                                                                END;
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code];
                                                   Editable=No }
    { 86  ;   ;Tax Liable          ;Boolean       ;OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                TestStatusOpen;
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable];
                                                   Editable=No }
    { 87  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                TestStatusOpen;
                                                                TestExpenseCapitalize;
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 88  ;   ;Use Tax             ;Boolean       ;OnValidate=BEGIN
                                                                GetPurchHeader;
                                                                TestStatusOpen;
                                                                TestExpenseCapitalize;
                                                                IF "Use Tax" THEN
                                                                  "Tax Liable" := TRUE
                                                                ELSE
                                                                  "Tax Liable" := PurchHeader."Tax Liable";
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Use Tax;
                                                              ESM=Impuesto de importaci¢n;
                                                              FRC=Taxe de service;
                                                              ENC=Use Tax] }
    { 89  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   OnValidate=BEGIN
                                                                VALIDATE("VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 90  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group");
                                                                "VAT Difference" := 0;
                                                                GetPurchHeader;
                                                                "VAT %" := VATPostingSetup."VAT %";
                                                                "VAT Calculation Type" := VATPostingSetup."VAT Calculation Type";
                                                                "VAT Identifier" := VATPostingSetup."VAT Identifier";
                                                                CASE "VAT Calculation Type" OF
                                                                  "VAT Calculation Type"::"Reverse Charge VAT",
                                                                  "VAT Calculation Type"::"Sales Tax":
                                                                    "VAT %" := 0;
                                                                  "VAT Calculation Type"::"Full VAT":
                                                                    BEGIN
                                                                      TESTFIELD(Type,Type::"G/L Account");
                                                                      TESTFIELD("No.",VATPostingSetup.GetPurchAccount(FALSE));
                                                                    END;
                                                                END;
                                                                IF PurchHeader."Prices Including VAT" AND (Type = Type::Item) THEN
                                                                  "Direct Unit Cost" :=
                                                                    ROUND(
                                                                      "Direct Unit Cost" * (100 + "VAT %") / (100 + xRec."VAT %"),
                                                                      Currency."Unit-Amount Rounding Precision");
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 91  ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   CaptionML=[ENU=Currency Code;
                                                              ESM=C¢d. divisa;
                                                              FRC=Code devise;
                                                              ENC=Currency Code];
                                                   Editable=No }
    { 92  ;   ;Outstanding Amount (LCY);Decimal   ;CaptionML=[ENU=Outstanding Amount ($);
                                                              ESM=Importe pendiente ($);
                                                              FRC=Montant non payÇ ($);
                                                              ENC=Outstanding Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 93  ;   ;Amt. Rcd. Not Invoiced (LCY);Decimal;
                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Amt. Rcd. Not Invoiced ($);
                                                              ESM=Imp. recibido no factur. ($);
                                                              FRC=Montant reáu non facturÇ ($);
                                                              ENC=Amt. Rcd. Not Invoiced ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 95  ;   ;Reserved Quantity   ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Reservation Entry".Quantity WHERE (Source ID=FIELD(Document No.),
                                                                                                       Source Ref. No.=FIELD(Line No.),
                                                                                                       Source Type=CONST(39),
                                                                                                       Source Subtype=FIELD(Document Type),
                                                                                                       Reservation Status=CONST(Reservation)));
                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Reserved Quantity;
                                                              ESM=Cantidad reservada;
                                                              FRC=QuantitÇ rÇservÇe;
                                                              ENC=Reserved Quantity];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 97  ;   ;Blanket Order No.   ;Code20        ;TableRelation="Purchase Header".No. WHERE (Document Type=CONST(Blanket Order));
                                                   OnValidate=BEGIN
                                                                TESTFIELD("Quantity Received",0);
                                                                IF "Blanket Order No." = '' THEN
                                                                  "Blanket Order Line No." := 0
                                                                ELSE
                                                                  VALIDATE("Blanket Order Line No.");
                                                              END;

                                                   OnLookup=BEGIN
                                                              TESTFIELD("Quantity Received",0);
                                                              BlanketOrderLookup;
                                                            END;

                                                   TestTableRelation=No;
                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Blanket Order No.;
                                                              ESM=Nß pedido abierto;
                                                              FRC=N¯ de commande permanente;
                                                              ENC=Blanket Order No.] }
    { 98  ;   ;Blanket Order Line No.;Integer     ;TableRelation="Purchase Line"."Line No." WHERE (Document Type=CONST(Blanket Order),
                                                                                                   Document No.=FIELD(Blanket Order No.));
                                                   OnValidate=BEGIN
                                                                TESTFIELD("Quantity Received",0);
                                                                IF "Blanket Order Line No." <> 0 THEN BEGIN
                                                                  PurchLine2.GET("Document Type"::"Blanket Order","Blanket Order No.","Blanket Order Line No.");
                                                                  PurchLine2.TESTFIELD(Type,Type);
                                                                  PurchLine2.TESTFIELD("No.","No.");
                                                                  PurchLine2.TESTFIELD("Pay-to Vendor No.","Pay-to Vendor No.");
                                                                  PurchLine2.TESTFIELD("Buy-from Vendor No.","Buy-from Vendor No.");
                                                                  IF "Drop Shipment" THEN BEGIN
                                                                    PurchLine2.TESTFIELD("Variant Code","Variant Code");
                                                                    PurchLine2.TESTFIELD("Location Code","Location Code");
                                                                    PurchLine2.TESTFIELD("Unit of Measure Code","Unit of Measure Code");
                                                                  END ELSE BEGIN
                                                                    VALIDATE("Variant Code",PurchLine2."Variant Code");
                                                                    VALIDATE("Location Code",PurchLine2."Location Code");
                                                                    VALIDATE("Unit of Measure Code",PurchLine2."Unit of Measure Code");
                                                                  END;
                                                                  VALIDATE("Direct Unit Cost",PurchLine2."Direct Unit Cost");
                                                                  VALIDATE("Line Discount %",PurchLine2."Line Discount %");
                                                                END;
                                                              END;

                                                   OnLookup=BEGIN
                                                              BlanketOrderLookup;
                                                            END;

                                                   TestTableRelation=No;
                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Blanket Order Line No.;
                                                              ESM=Nß l°n. pedido abierto;
                                                              FRC=N¯ ligne commande permanente;
                                                              ENC=Blanket Order Line No.] }
    { 99  ;   ;VAT Base Amount     ;Decimal       ;CaptionML=[ENU=Tax Base Amount;
                                                              ESM=Importe base IVA;
                                                              FRC=Montant de base de la taxe;
                                                              ENC=Tax Base Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 100 ;   ;Unit Cost           ;Decimal       ;CaptionML=[ENU=Unit Cost;
                                                              ESM=Costo unitario;
                                                              FRC=Coñt unitaire;
                                                              ENC=Unit Cost];
                                                   Editable=No;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr="Currency Code" }
    { 101 ;   ;System-Created Entry;Boolean       ;CaptionML=[ENU=System-Created Entry;
                                                              ESM=Asiento autom†tico;
                                                              FRC=êcriture systäme;
                                                              ENC=System-Created Entry];
                                                   Editable=No }
    { 103 ;   ;Line Amount         ;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD(Type);
                                                                TESTFIELD(Quantity);
                                                                TESTFIELD("Direct Unit Cost");

                                                                GetPurchHeader;
                                                                "Line Amount" := ROUND("Line Amount",Currency."Amount Rounding Precision");
                                                                VALIDATE(
                                                                  "Line Discount Amount",ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") - "Line Amount");
                                                              END;

                                                   CaptionML=[ENU=Line Amount;
                                                              ESM=Importe l°nea;
                                                              FRC=Montant ligne;
                                                              ENC=Line Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Line Amount")) }
    { 104 ;   ;VAT Difference      ;Decimal       ;CaptionML=[ENU=Tax Difference;
                                                              ESM=Diferencia  IVA;
                                                              FRC=DiffÇrence TVA;
                                                              ENC=Tax Difference];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 105 ;   ;Inv. Disc. Amount to Invoice;Decimal;
                                                   CaptionML=[ENU=Inv. Disc. Amount to Invoice;
                                                              ESM=Importe dto. fact. para facturar;
                                                              FRC=Mont. escompte fact. Ö Çmettre;
                                                              ENC=Inv. Disc. Amount to Invoice];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 106 ;   ;VAT Identifier      ;Code20        ;CaptionML=[ENU=Tax Identifier;
                                                              ESM=Identific. IVA;
                                                              FRC=Identificateur de TVA;
                                                              ENC=Tax Identifier];
                                                   Editable=No }
    { 107 ;   ;IC Partner Ref. Type;Option        ;OnValidate=VAR
                                                                Item@1000 : Record 27;
                                                              BEGIN
                                                                IF "IC Partner Code" <> '' THEN
                                                                  "IC Partner Ref. Type" := "IC Partner Ref. Type"::"G/L Account";
                                                                IF "IC Partner Ref. Type" <> xRec."IC Partner Ref. Type" THEN
                                                                  "IC Partner Reference" := '';
                                                                IF "IC Partner Ref. Type" = "IC Partner Ref. Type"::"Common Item No." THEN BEGIN
                                                                  GetItem(Item);
                                                                  Item.TESTFIELD("Common Item No.");
                                                                  "IC Partner Reference" := Item."Common Item No.";
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 410=R;
                                                   CaptionML=[ENU=IC Partner Ref. Type;
                                                              ESM=Tipo referencia socio IC;
                                                              FRC=Type rÇf. partenaire IC;
                                                              ENC=IC Partner Ref. Type];
                                                   OptionCaptionML=[ENU=" ,G/L Account,Item,,,Charge (Item),Cross Reference,Common Item No.,Vendor Item No.";
                                                                    ESM=" ,Cuenta,Producto,,,Cargo (prod.),Referencia cruzada,Nß producto com£n,C¢d. producto proveedor";
                                                                    FRC=" ,Compte du grand livre,Article,,,Frais (Article),Renvoi,N¯ article commun,N¯ d'article fournisseur.";
                                                                    ENC=" ,G/L Account,Item,,,Charge (Item),Cross Reference,Common Item No.,Vendor Item No."];
                                                   OptionString=[ ,G/L Account,Item,,,Charge (Item),Cross Reference,Common Item No.,Vendor Item No.] }
    { 108 ;   ;IC Partner Reference;Code20        ;OnLookup=VAR
                                                              ICGLAccount@1000 : Record 410;
                                                              Item@1002 : Record 27;
                                                              ItemCrossReference@1001 : Record 5717;
                                                              ItemVendorCatalog@1003 : Record 99;
                                                            BEGIN
                                                              IF "No." <> '' THEN
                                                                CASE "IC Partner Ref. Type" OF
                                                                  "IC Partner Ref. Type"::"G/L Account":
                                                                    BEGIN
                                                                      IF ICGLAccount.GET("IC Partner Reference") THEN;
                                                                      IF PAGE.RUNMODAL(PAGE::"IC G/L Account List",ICGLAccount) = ACTION::LookupOK THEN
                                                                        VALIDATE("IC Partner Reference",ICGLAccount."No.");
                                                                    END;
                                                                  "IC Partner Ref. Type"::Item:
                                                                    BEGIN
                                                                      IF Item.GET("IC Partner Reference") THEN;
                                                                      IF PAGE.RUNMODAL(PAGE::"Item List",Item) = ACTION::LookupOK THEN
                                                                        VALIDATE("IC Partner Reference",Item."No.");
                                                                    END;
                                                                  "IC Partner Ref. Type"::"Cross Reference":
                                                                    BEGIN
                                                                      GetPurchHeader;
                                                                      ItemCrossReference.RESET;
                                                                      ItemCrossReference.SETCURRENTKEY("Cross-Reference Type","Cross-Reference Type No.");
                                                                      ItemCrossReference.SETFILTER(
                                                                        "Cross-Reference Type",'%1|%2',
                                                                        ItemCrossReference."Cross-Reference Type"::Vendor,
                                                                        ItemCrossReference."Cross-Reference Type"::" ");
                                                                      ItemCrossReference.SETFILTER("Cross-Reference Type No.",'%1|%2',PurchHeader."Buy-from Vendor No.",'');
                                                                      IF PAGE.RUNMODAL(PAGE::"Cross Reference List",ItemCrossReference) = ACTION::LookupOK THEN
                                                                        VALIDATE("IC Partner Reference",ItemCrossReference."Cross-Reference No.");
                                                                    END;
                                                                  "IC Partner Ref. Type"::"Vendor Item No.":
                                                                    BEGIN
                                                                      GetPurchHeader;
                                                                      ItemVendorCatalog.SETCURRENTKEY("Vendor No.");
                                                                      ItemVendorCatalog.SETRANGE("Vendor No.",PurchHeader."Buy-from Vendor No.");
                                                                      IF PAGE.RUNMODAL(PAGE::"Vendor Item Catalog",ItemVendorCatalog) = ACTION::LookupOK THEN
                                                                        VALIDATE("IC Partner Reference",ItemVendorCatalog."Vendor Item No.");
                                                                    END;
                                                                END;
                                                            END;

                                                   AccessByPermission=TableData 410=R;
                                                   CaptionML=[ENU=IC Partner Reference;
                                                              ESM=Referencia socio IC;
                                                              FRC=RÇfÇrence de partenaire IC;
                                                              ENC=IC Partner Reference] }
    { 109 ;   ;Prepayment %        ;Decimal       ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                UpdatePrepmtSetupFields;

                                                                IF HasTypeToFillMandatoryFields THEN
                                                                  UpdateAmounts;
                                                                UpdateBaseAmounts(Amount,"Amount Including VAT","VAT Base Amount");
                                                              END;

                                                   CaptionML=[ENU=Prepayment %;
                                                              ESM=% anticipo;
                                                              FRC=% paiement anticipÇ;
                                                              ENC=Prepayment %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100 }
    { 110 ;   ;Prepmt. Line Amount ;Decimal       ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                PrePaymentLineAmountEntered := TRUE;
                                                                TESTFIELD("Line Amount");
                                                                IF "Prepmt. Line Amount" < "Prepmt. Amt. Inv." THEN
                                                                  FIELDERROR("Prepmt. Line Amount",STRSUBSTNO(Text038,"Prepmt. Amt. Inv."));
                                                                IF "Prepmt. Line Amount" > "Line Amount" THEN
                                                                  FIELDERROR("Prepmt. Line Amount",STRSUBSTNO(Text039,"Line Amount"));
                                                                VALIDATE("Prepayment %",ROUND("Prepmt. Line Amount" * 100 / "Line Amount",0.00001));
                                                              END;

                                                   CaptionML=[ENU=Prepmt. Line Amount;
                                                              ESM=Importe l°nea anticipo;
                                                              FRC=Montant de ligne de paiement anticipÇ;
                                                              ENC=Prepmt. Line Amount];
                                                   MinValue=0;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Prepmt. Line Amount")) }
    { 111 ;   ;Prepmt. Amt. Inv.   ;Decimal       ;CaptionML=[ENU=Prepmt. Amt. Inv.;
                                                              ESM=Importe anticipo facturado;
                                                              FRC=Montant facture pour paiement anticipÇ;
                                                              ENC=Prepmt. Amt. Inv.];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Prepmt. Amt. Inv.")) }
    { 112 ;   ;Prepmt. Amt. Incl. VAT;Decimal     ;CaptionML=[ENU=Prepmt. Amt. Incl. Tax;
                                                              ESM=Importe anticipo con IVA;
                                                              FRC=TVA incluse sur montant paiement anticipÇ;
                                                              ENC=Prepmt. Amt. Incl. Tax];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 113 ;   ;Prepayment Amount   ;Decimal       ;CaptionML=[ENU=Prepayment Amount;
                                                              ESM=Importe anticipo;
                                                              FRC=Montant de paiement anticipÇ;
                                                              ENC=Prepayment Amount];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 114 ;   ;Prepmt. VAT Base Amt.;Decimal      ;CaptionML=[ENU=Prepmt. Tax Base Amt.;
                                                              ESM=Importe base IVA anticipo;
                                                              FRC=Montant de TVA de base de paiement anticipÇ;
                                                              ENC=Prepmt. Tax Base Amt.];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 115 ;   ;Prepayment VAT %    ;Decimal       ;CaptionML=[ENU=Prepayment Tax %;
                                                              ESM=% IVA anticipo;
                                                              FRC=% TVA de paiement anticipÇ;
                                                              ENC=Prepayment Tax %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   Editable=No }
    { 116 ;   ;Prepmt. VAT Calc. Type;Option      ;CaptionML=[ENU=Prepmt. Tax Calc. Type;
                                                              ESM=Tipo calc. IVA anticipo;
                                                              FRC=Type calcul TVA de paiement anticipÇ;
                                                              ENC=Prepmt. Tax Calc. Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax;
                                                   Editable=No }
    { 117 ;   ;Prepayment VAT Identifier;Code20   ;CaptionML=[ENU=Prepayment Tax Identifier;
                                                              ESM=Identificador IVA anticipo;
                                                              FRC=Identificateur de TVA de paiement anticipÇ;
                                                              ENC=Prepayment VAT Identifier];
                                                   Editable=No }
    { 118 ;   ;Prepayment Tax Area Code;Code20    ;TableRelation="Tax Area";
                                                   OnValidate=BEGIN
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Prepayment Tax Area Code;
                                                              ESM=C¢d. †rea impuesto anticipo;
                                                              FRC=Code de rÇgion fiscale de paiement anticipÇ;
                                                              ENC=Prepayment Tax Area Code] }
    { 119 ;   ;Prepayment Tax Liable;Boolean      ;OnValidate=BEGIN
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Prepayment Tax Liable;
                                                              ESM=Sujeto a impuesto anticipo;
                                                              FRC=Solde imposable de paiement anticipÇ;
                                                              ENC=Prepayment Tax Liable] }
    { 120 ;   ;Prepayment Tax Group Code;Code20   ;TableRelation="Tax Group";
                                                   OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Prepayment Tax Group Code;
                                                              ESM=C¢d. grupo impuesto anticipo;
                                                              FRC=Code de groupe fiscal de paiement anticipÇ;
                                                              ENC=Prepayment Tax Group Code] }
    { 121 ;   ;Prepmt Amt to Deduct;Decimal       ;OnValidate=BEGIN
                                                                IF "Prepmt Amt to Deduct" > "Prepmt. Amt. Inv." - "Prepmt Amt Deducted" THEN
                                                                  FIELDERROR(
                                                                    "Prepmt Amt to Deduct",
                                                                    STRSUBSTNO(Text039,"Prepmt. Amt. Inv." - "Prepmt Amt Deducted"));

                                                                IF "Prepmt Amt to Deduct" > "Qty. to Invoice" * "Direct Unit Cost" THEN
                                                                  FIELDERROR(
                                                                    "Prepmt Amt to Deduct",
                                                                    STRSUBSTNO(Text039,"Qty. to Invoice" * "Direct Unit Cost"));
                                                                IF ("Prepmt. Amt. Inv." - "Prepmt Amt to Deduct" - "Prepmt Amt Deducted") >
                                                                   (Quantity - "Qty. to Invoice" - "Quantity Invoiced") * "Direct Unit Cost"
                                                                THEN
                                                                  FIELDERROR(
                                                                    "Prepmt Amt to Deduct",
                                                                    STRSUBSTNO(Text038,
                                                                      "Prepmt. Amt. Inv." - "Prepmt Amt Deducted" -
                                                                      (Quantity - "Qty. to Invoice" - "Quantity Invoiced") * "Direct Unit Cost"));
                                                              END;

                                                   CaptionML=[ENU=Prepmt Amt to Deduct;
                                                              ESM=Importe anticipo para descontar;
                                                              FRC=Montant de paiement anticipÇ Ö dÇduire;
                                                              ENC=Prepmt Amt to Deduct];
                                                   MinValue=0;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Prepmt Amt to Deduct")) }
    { 122 ;   ;Prepmt Amt Deducted ;Decimal       ;CaptionML=[ENU=Prepmt Amt Deducted;
                                                              ESM=Importe anticipo descontado;
                                                              FRC=Montant de paiement anticipÇ dÇduit;
                                                              ENC=Prepmt Amt Deducted];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code";
                                                   CaptionClass=GetCaptionClass(FIELDNO("Prepmt Amt Deducted")) }
    { 123 ;   ;Prepayment Line     ;Boolean       ;CaptionML=[ENU=Prepayment Line;
                                                              ESM=L°nea anticipo;
                                                              FRC=Ligne de paiement anticipÇ;
                                                              ENC=Prepayment Line];
                                                   Editable=No }
    { 124 ;   ;Prepmt. Amount Inv. Incl. VAT;Decimal;
                                                   CaptionML=[ENU=Prepmt. Amount Inv. Incl. Tax;
                                                              ESM=Importe anticipo fact. con IVA;
                                                              FRC=TVA incluse sur montant de paiement anticipÇ;
                                                              ENC=Prepmt. Amount Inv. Incl. Tax];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 129 ;   ;Prepmt. Amount Inv. (LCY);Decimal  ;CaptionML=[ENU=Prepmt. Amount Inv. ($);
                                                              ESM=Importe anticipo fact. ($);
                                                              FRC=Montant paiem. ant. facturÇ ($);
                                                              ENC=Prepmt. Amount Inv. ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 130 ;   ;IC Partner Code     ;Code20        ;TableRelation="IC Partner";
                                                   OnValidate=BEGIN
                                                                IF "IC Partner Code" <> '' THEN BEGIN
                                                                  TESTFIELD(Type,Type::"G/L Account");
                                                                  GetPurchHeader;
                                                                  PurchHeader.TESTFIELD("Buy-from IC Partner Code",'');
                                                                  PurchHeader.TESTFIELD("Pay-to IC Partner Code",'');
                                                                  VALIDATE("IC Partner Ref. Type","IC Partner Ref. Type"::"G/L Account");
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=IC Partner Code;
                                                              ESM=C¢digo socio IC;
                                                              FRC=Code de partenaire IC;
                                                              ENC=IC Partner Code] }
    { 132 ;   ;Prepmt. VAT Amount Inv. (LCY);Decimal;
                                                   CaptionML=[ENU=Prepmt. Tax Amount Inv. ($);
                                                              ESM=Importe IVA anticipo fact. ($);
                                                              FRC=Montant TVA paiement anticipÇ facturÇ $;
                                                              ENC=Prepmt. Tax Amount Inv. ($)];
                                                   Editable=No }
    { 135 ;   ;Prepayment VAT Difference;Decimal  ;CaptionML=[ENU=Prepayment Tax Difference;
                                                              ESM=Diferencia IVA anticipo;
                                                              FRC=DiffÇrence TVA pour paiement anticipÇ;
                                                              ENC=Prepayment Tax Difference];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 136 ;   ;Prepmt VAT Diff. to Deduct;Decimal ;CaptionML=[ENU=Prepmt Tax Diff. to Deduct;
                                                              ESM=Diferencia IVA anticipo a deducir;
                                                              FRC=Diff. TVA pr paiement anticipÇ Ö dÇduire;
                                                              ENC=Prepmt Tax Diff. to Deduct];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 137 ;   ;Prepmt VAT Diff. Deducted;Decimal  ;CaptionML=[ENU=Prepmt Tax Diff. Deducted;
                                                              ESM=Diferencia IVA anticipo deducida;
                                                              FRC=Diff. TVA pr paiement anticipÇ dÇduite;
                                                              ENC=Prepmt Tax Diff. Deducted];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 140 ;   ;Outstanding Amt. Ex. VAT (LCY);Decimal;
                                                   CaptionML=[ENU=Outstanding Amt. Ex. Tax ($);
                                                              ESM=Importe pendiente sin IVA ($);
                                                              FRC=Montant en commande TVA $;
                                                              ENC=Outstanding Amt. Ex. Tax ($)] }
    { 141 ;   ;A. Rcd. Not Inv. Ex. VAT (LCY);Decimal;
                                                   CaptionML=[ENU=A. Rcd. Not Inv. Ex. Tax ($);
                                                              ESM=Importe recibido no facturado sin IVA ($);
                                                              FRC=Montant reáu non facturÇ TVA $;
                                                              ENC=A. Rcd. Not Inv. Ex. Tax ($)] }
    { 145 ;   ;Pmt. Discount Amount;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD(Quantity);
                                                                UpdateAmounts;
                                                              END;

                                                   CaptionML=[ENU=Pmt. Discount Amount;
                                                              ESM=Imp. dto. P.P.;
                                                              FRC=Montant escompte de paiement;
                                                              ENC=Pmt. Discount Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
                                                   OnValidate=BEGIN
                                                                DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code");
                                                              END;

                                                   OnLookup=BEGIN
                                                              ShowDimensions;
                                                            END;

                                                   CaptionML=[ENU=Dimension Set ID;
                                                              ESM=Id. grupo dimensiones;
                                                              FRC=Code ensemble de dimensions;
                                                              ENC=Dimension Set ID];
                                                   Editable=No }
    { 1001;   ;Job Task No.        ;Code20        ;TableRelation="Job Task"."Job Task No." WHERE (Job No.=FIELD(Job No.));
                                                   OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');

                                                                IF "Job Task No." <> xRec."Job Task No." THEN BEGIN
                                                                  VALIDATE("Job Planning Line No.",0);
                                                                  IF "Document Type" = "Document Type"::Order THEN
                                                                    TESTFIELD("Quantity Received",0);
                                                                END;

                                                                IF "Job Task No." = '' THEN BEGIN
                                                                  CLEAR(TempJobJnlLine);
                                                                  "Job Line Type" := "Job Line Type"::" ";
                                                                  UpdateJobPrices;
                                                                  CreateDim(
                                                                    DimMgt.TypeToTableID3(Type),"No.",
                                                                    DATABASE::Job,"Job No.",
                                                                    DATABASE::"Responsibility Center","Responsibility Center",
                                                                    DATABASE::"Work Center","Work Center No.");
                                                                  EXIT;
                                                                END;

                                                                JobSetCurrencyFactor;
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(TRUE);
                                                                  UpdateJobPrices;
                                                                END;
                                                                UpdateDimensionsFromJobTask;
                                                              END;

                                                   CaptionML=[ENU=Job Task No.;
                                                              ESM=Nß tarea proyecto;
                                                              FRC=N¯ tÉche de projet;
                                                              ENC=Job Task No.] }
    { 1002;   ;Job Line Type       ;Option        ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF "Job Planning Line No." <> 0 THEN
                                                                  ERROR(Text048,FIELDCAPTION("Job Line Type"),FIELDCAPTION("Job Planning Line No."));
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Type;
                                                              ESM=Tipo l°nea proyecto;
                                                              FRC=Type ligne de projet;
                                                              ENC=Job Line Type];
                                                   OptionCaptionML=[ENU=" ,Budget,Billable,Both Budget and Billable";
                                                                    ESM=" ,Presupuesto,Facturable,Presupuesto y Facturable";
                                                                    FRC=" ,Budget,Facturable,Budget et Facturable";
                                                                    ENC=" ,Budget,Billable,Both Budget and Billable"];
                                                   OptionString=[ ,Budget,Billable,Both Budget and Billable] }
    { 1003;   ;Job Unit Price      ;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Unit Price","Job Unit Price");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Price;
                                                              ESM=Precio unitario proyecto;
                                                              FRC=Prix unitaire du projet;
                                                              ENC=Job Unit Price];
                                                   BlankZero=Yes }
    { 1004;   ;Job Total Price     ;Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Price;
                                                              ESM=Precio total proyecto;
                                                              FRC=Prix total du projet;
                                                              ENC=Job Total Price];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 1005;   ;Job Line Amount     ;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Line Amount","Job Line Amount");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Amount;
                                                              ESM=Importe l°nea proyecto;
                                                              FRC=Montant de ligne de projet;
                                                              ENC=Job Line Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1006;   ;Job Line Discount Amount;Decimal   ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Line Discount Amount","Job Line Discount Amount");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Discount Amount;
                                                              ESM=Importe dto. l°nea proyecto;
                                                              FRC=Montant d'escompte de ligne de projet;
                                                              ENC=Job Line Discount Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1007;   ;Job Line Discount % ;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Line Discount %","Job Line Discount %");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Discount %;
                                                              ESM=% dto. l°nea proyecto;
                                                              FRC=% escompte de ligne de projet;
                                                              ENC=Job Line Discount %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100;
                                                   BlankZero=Yes }
    { 1008;   ;Job Unit Price (LCY);Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Unit Price (LCY)","Job Unit Price (LCY)");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Price ($);
                                                              ESM=Precio unitario proyecto ($);
                                                              FRC=Prix unitaire du projet ($);
                                                              ENC=Job Unit Price ($)];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 1009;   ;Job Total Price (LCY);Decimal      ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Price ($);
                                                              ESM=Precio total proyecto ($);
                                                              FRC=Prix total du projet ($);
                                                              ENC=Job Total Price ($)];
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 1010;   ;Job Line Amount (LCY);Decimal      ;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Line Amount (LCY)","Job Line Amount (LCY)");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Amount ($);
                                                              ESM=Importe l°nea proyecto ($);
                                                              FRC=Montant de ligne de projet ($);
                                                              ENC=Job Line Amount ($)];
                                                   BlankZero=Yes;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1011;   ;Job Line Disc. Amount (LCY);Decimal;OnValidate=BEGIN
                                                                TESTFIELD("Receipt No.",'');
                                                                IF "Document Type" = "Document Type"::Order THEN
                                                                  TESTFIELD("Quantity Received",0);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(FALSE);
                                                                  TempJobJnlLine.VALIDATE("Line Discount Amount (LCY)","Job Line Disc. Amount (LCY)");
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Disc. Amount ($);
                                                              ESM=Importe dto. l°nea proyecto ($);
                                                              FRC=Montant d'escompte de ligne de projet ($);
                                                              ENC=Job Line Disc. Amount ($)];
                                                   BlankZero=Yes;
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1012;   ;Job Currency Factor ;Decimal       ;CaptionML=[ENU=Job Currency Factor;
                                                              ESM=Factor divisa proyecto;
                                                              FRC=Facteur devise du projet;
                                                              ENC=Job Currency Factor];
                                                   BlankZero=Yes }
    { 1013;   ;Job Currency Code   ;Code20        ;CaptionML=[ENU=Job Currency Code;
                                                              ESM=C¢digo divisa proyecto;
                                                              FRC=Code devise du projet;
                                                              ENC=Job Currency Code] }
    { 1019;   ;Job Planning Line No.;Integer      ;OnValidate=VAR
                                                                JobPlanningLine@1000 : Record 1003;
                                                              BEGIN
                                                                IF "Job Planning Line No." <> 0 THEN BEGIN
                                                                  JobPlanningLine.GET("Job No.","Job Task No.","Job Planning Line No.");
                                                                  JobPlanningLine.TESTFIELD("Job No.","Job No.");
                                                                  JobPlanningLine.TESTFIELD("Job Task No.","Job Task No.");
                                                                  CASE Type OF
                                                                    Type::"G/L Account":
                                                                      JobPlanningLine.TESTFIELD(Type,JobPlanningLine.Type::"G/L Account");
                                                                    Type::Item:
                                                                      JobPlanningLine.TESTFIELD(Type,JobPlanningLine.Type::Item);
                                                                  END;
                                                                  JobPlanningLine.TESTFIELD("No.","No.");
                                                                  JobPlanningLine.TESTFIELD("Usage Link",TRUE);
                                                                  JobPlanningLine.TESTFIELD("System-Created Entry",FALSE);
                                                                  "Job Line Type" := JobPlanningLine."Line Type" + 1;
                                                                  VALIDATE("Job Remaining Qty.",JobPlanningLine."Remaining Qty." - "Qty. to Invoice");
                                                                END ELSE
                                                                  VALIDATE("Job Remaining Qty.",0);
                                                              END;

                                                   OnLookup=VAR
                                                              JobPlanningLine@1000 : Record 1003;
                                                            BEGIN
                                                              JobPlanningLine.SETRANGE("Job No.","Job No.");
                                                              JobPlanningLine.SETRANGE("Job Task No.","Job Task No.");
                                                              CASE Type OF
                                                                Type::"G/L Account":
                                                                  JobPlanningLine.SETRANGE(Type,JobPlanningLine.Type::"G/L Account");
                                                                Type::Item:
                                                                  JobPlanningLine.SETRANGE(Type,JobPlanningLine.Type::Item);
                                                              END;
                                                              JobPlanningLine.SETRANGE("No.","No.");
                                                              JobPlanningLine.SETRANGE("Usage Link",TRUE);
                                                              JobPlanningLine.SETRANGE("System-Created Entry",FALSE);

                                                              IF PAGE.RUNMODAL(0,JobPlanningLine) = ACTION::LookupOK THEN
                                                                VALIDATE("Job Planning Line No.",JobPlanningLine."Line No.");
                                                            END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Planning Line No.;
                                                              ESM=Nß l°nea planificaci¢n proyecto;
                                                              FRC=N¯ ligne planification projet;
                                                              ENC=Job Planning Line No.];
                                                   BlankZero=Yes }
    { 1030;   ;Job Remaining Qty.  ;Decimal       ;OnValidate=VAR
                                                                JobPlanningLine@1000 : Record 1003;
                                                              BEGIN
                                                                IF ("Job Remaining Qty." <> 0) AND ("Job Planning Line No." = 0) THEN
                                                                  ERROR(Text047,FIELDCAPTION("Job Remaining Qty."),FIELDCAPTION("Job Planning Line No."));

                                                                IF "Job Planning Line No." <> 0 THEN BEGIN
                                                                  JobPlanningLine.GET("Job No.","Job Task No.","Job Planning Line No.");
                                                                  IF JobPlanningLine.Quantity >= 0 THEN BEGIN
                                                                    IF "Job Remaining Qty." < 0 THEN
                                                                      "Job Remaining Qty." := 0;
                                                                  END ELSE BEGIN
                                                                    IF "Job Remaining Qty." > 0 THEN
                                                                      "Job Remaining Qty." := 0;
                                                                  END;
                                                                END;
                                                                "Job Remaining Qty. (Base)" := CalcBaseQty("Job Remaining Qty.");
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Remaining Qty.;
                                                              ESM=Cdad. pendiente proyecto;
                                                              FRC=QuantitÇ travail Ö accomplir;
                                                              ENC=Job Remaining Qty.];
                                                   DecimalPlaces=0:5 }
    { 1031;   ;Job Remaining Qty. (Base);Decimal  ;CaptionML=[ENU=Job Remaining Qty. (Base);
                                                              ESM=Cdad. pendiente proyecto (base);
                                                              FRC=QuantitÇ travail Ö accomplir (base);
                                                              ENC=Job Remaining Qty. (Base)] }
    { 1700;   ;Deferral Code       ;Code10        ;TableRelation="Deferral Template"."Deferral Code";
                                                   OnValidate=VAR
                                                                DeferralPostDate@1000 : Date;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                DeferralPostDate := PurchHeader."Posting Date";

                                                                DeferralUtilities.DeferralCodeOnValidate(
                                                                  "Deferral Code",DeferralUtilities.GetPurchDeferralDocType,'','',
                                                                  "Document Type","Document No.","Line No.",
                                                                  GetDeferralAmount,DeferralPostDate,
                                                                  Description,PurchHeader."Currency Code");

                                                                IF "Document Type" = "Document Type"::"Return Order" THEN
                                                                  "Returns Deferral Start Date" :=
                                                                    DeferralUtilities.GetDeferralStartDate(DeferralUtilities.GetPurchDeferralDocType,
                                                                      "Document Type","Document No.","Line No.","Deferral Code",PurchHeader."Posting Date");
                                                              END;

                                                   CaptionML=[ENU=Deferral Code;
                                                              ESM=C¢digo de fraccionamiento;
                                                              FRC=Code Çchelonnement;
                                                              ENC=Deferral Code] }
    { 1702;   ;Returns Deferral Start Date;Date   ;OnValidate=VAR
                                                                DeferralHeader@1000 : Record 1701;
                                                                DeferralUtilities@1001 : Codeunit 1720;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                IF DeferralHeader.GET(DeferralUtilities.GetPurchDeferralDocType,'','',"Document Type","Document No.","Line No.") THEN
                                                                  DeferralUtilities.CreateDeferralSchedule("Deferral Code",DeferralUtilities.GetPurchDeferralDocType,'','',
                                                                    "Document Type","Document No.","Line No.",GetDeferralAmount,
                                                                    DeferralHeader."Calc. Method","Returns Deferral Start Date",
                                                                    DeferralHeader."No. of Periods",TRUE,
                                                                    DeferralHeader."Schedule Description",FALSE,
                                                                    PurchHeader."Currency Code");
                                                              END;

                                                   CaptionML=[ENU=Returns Deferral Start Date;
                                                              ESM=Fecha de inicio del fraccionamiento de devoluciones;
                                                              FRC=Renvoie la date de dÇbut de l'Çchelonnement;
                                                              ENC=Returns Deferral Start Date] }
    { 5401;   ;Prod. Order No.     ;Code20        ;TableRelation="Production Order".No. WHERE (Status=CONST(Released));
                                                   OnValidate=BEGIN
                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Prod. Order No."),"Sales Order No.");

                                                                AddOnIntegrMgt.ValidateProdOrderOnPurchLine(Rec);
                                                              END;

                                                   ValidateTableRelation=No;
                                                   TestTableRelation=No;
                                                   AccessByPermission=TableData 99000758=R;
                                                   CaptionML=[ENU=Prod. Order No.;
                                                              ESM=Nß orden producci¢n;
                                                              FRC=N¯ bon de prod.;
                                                              ENC=Prod. Order No.];
                                                   Editable=No }
    { 5402;   ;Variant Code        ;Code10        ;TableRelation=IF (Type=CONST(Item)) "Item Variant".Code WHERE (Item No.=FIELD(No.));
                                                   OnValidate=BEGIN
                                                                IF "Variant Code" <> '' THEN
                                                                  TESTFIELD(Type,Type::Item);
                                                                TestStatusOpen;

                                                                IF xRec."Variant Code" <> "Variant Code" THEN BEGIN
                                                                  TESTFIELD("Qty. Rcd. Not Invoiced",0);
                                                                  TESTFIELD("Receipt No.",'');

                                                                  TESTFIELD("Return Qty. Shipped Not Invd.",0);
                                                                  TESTFIELD("Return Shipment No.",'');
                                                                END;

                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Variant Code"),"Sales Order No.");

                                                                IF Type = Type::Item THEN
                                                                  UpdateDirectUnitCost(FIELDNO("Variant Code"));

                                                                IF (xRec."Variant Code" <> "Variant Code") AND (Quantity <> 0) THEN BEGIN
                                                                  ReservePurchLine.VerifyChange(Rec,xRec);
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                  InitItemAppl;
                                                                END;

                                                                UpdateLeadTimeFields;
                                                                UpdateDates;
                                                                GetDefaultBin;
                                                                IF Type = Type::Item THEN
                                                                  UpdateItemReference;

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine(TRUE);
                                                                  UpdateJobPrices;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Variant Code;
                                                              ESM=C¢d. variante;
                                                              FRC=Code variante;
                                                              ENC=Variant Code] }
    { 5403;   ;Bin Code            ;Code20        ;TableRelation=IF (Document Type=FILTER(Order|Invoice),
                                                                     Quantity=FILTER(<0)) "Bin Content"."Bin Code" WHERE (Location Code=FIELD(Location Code),
                                                                                                                          Item No.=FIELD(No.),
                                                                                                                          Variant Code=FIELD(Variant Code))
                                                                                                                          ELSE IF (Document Type=FILTER(Return Order|Credit Memo),
                                                                                                                                   Quantity=FILTER(>=0)) "Bin Content"."Bin Code" WHERE (Location Code=FIELD(Location Code),
                                                                                                                                                                                         Item No.=FIELD(No.),
                                                                                                                                                                                         Variant Code=FIELD(Variant Code))
                                                                                                                                                                                         ELSE Bin.Code WHERE (Location Code=FIELD(Location Code));
                                                   OnValidate=VAR
                                                                WMSManagement@1000 : Codeunit 7302;
                                                              BEGIN
                                                                IF "Bin Code" <> '' THEN BEGIN
                                                                  IF NOT IsInbound AND ("Quantity (Base)" <> 0) THEN
                                                                    WMSManagement.FindBinContent("Location Code","Bin Code","No.","Variant Code",'')
                                                                  ELSE
                                                                    WMSManagement.FindBin("Location Code","Bin Code",'');
                                                                END;

                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Bin Code"),"Sales Order No.");

                                                                TESTFIELD(Type,Type::Item);
                                                                TESTFIELD("Location Code");

                                                                IF "Bin Code" <> '' THEN BEGIN
                                                                  GetLocation("Location Code");
                                                                  Location.TESTFIELD("Bin Mandatory");
                                                                  CheckWarehouse;
                                                                END;
                                                              END;

                                                   OnLookup=VAR
                                                              WMSManagement@1000 : Codeunit 7302;
                                                              BinCode@1001 : Code[20];
                                                            BEGIN
                                                              IF NOT IsInbound AND ("Quantity (Base)" <> 0) THEN
                                                                BinCode := WMSManagement.BinContentLookUp("Location Code","No.","Variant Code",'',"Bin Code")
                                                              ELSE
                                                                BinCode := WMSManagement.BinLookUp("Location Code","No.","Variant Code",'');

                                                              IF BinCode <> '' THEN
                                                                VALIDATE("Bin Code",BinCode);
                                                            END;

                                                   CaptionML=[ENU=Bin Code;
                                                              ESM=C¢d. ubicaci¢n;
                                                              FRC=Code de zone;
                                                              ENC=Bin Code] }
    { 5404;   ;Qty. per Unit of Measure;Decimal   ;InitValue=1;
                                                   CaptionML=[ENU=Qty. per Unit of Measure;
                                                              ESM=Cdad. por unidad medida;
                                                              FRC=QuantitÇ par unitÇ de mesure;
                                                              ENC=Qty. per Unit of Measure];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5407;   ;Unit of Measure Code;Code10        ;TableRelation=IF (Type=CONST(Item),
                                                                     No.=FILTER(<>'')) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.))
                                                                     ELSE "Unit of Measure";
                                                   OnValidate=VAR
                                                                Item@1001 : Record 27;
                                                                UnitOfMeasureTranslation@1000 : Record 5402;
                                                              BEGIN
                                                                TestStatusOpen;
                                                                TESTFIELD("Quantity Received",0);
                                                                TESTFIELD("Qty. Received (Base)",0);
                                                                TESTFIELD("Qty. Rcd. Not Invoiced",0);
                                                                TESTFIELD("Return Qty. Shipped",0);
                                                                TESTFIELD("Return Qty. Shipped (Base)",0);
                                                                IF "Unit of Measure Code" <> xRec."Unit of Measure Code" THEN BEGIN
                                                                  TESTFIELD("Receipt No.",'');
                                                                  TESTFIELD("Return Shipment No.",'');
                                                                END;
                                                                IF "Drop Shipment" THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Unit of Measure Code"),"Sales Order No.");
                                                                IF (xRec."Unit of Measure Code" <> "Unit of Measure Code") AND (Quantity <> 0) THEN
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                                UpdateDirectUnitCost(FIELDNO("Unit of Measure Code"));
                                                                IF "Unit of Measure Code" = '' THEN
                                                                  "Unit of Measure" := ''
                                                                ELSE BEGIN
                                                                  UnitOfMeasure.GET("Unit of Measure Code");
                                                                  "Unit of Measure" := UnitOfMeasure.Description;
                                                                  GetPurchHeader;
                                                                  IF PurchHeader."Language Code" <> '' THEN BEGIN
                                                                    UnitOfMeasureTranslation.SETRANGE(Code,"Unit of Measure Code");
                                                                    UnitOfMeasureTranslation.SETRANGE("Language Code",PurchHeader."Language Code");
                                                                    IF UnitOfMeasureTranslation.FINDFIRST THEN
                                                                      "Unit of Measure" := UnitOfMeasureTranslation.Description;
                                                                  END;
                                                                END;
                                                                IF Type = Type::Item THEN
                                                                  UpdateItemReference;
                                                                IF "Prod. Order No." = '' THEN BEGIN
                                                                  IF (Type = Type::Item) AND ("No." <> '') THEN BEGIN
                                                                    GetItem(Item);
                                                                    "Qty. per Unit of Measure" := UOMMgt.GetQtyPerUnitOfMeasure(Item,"Unit of Measure Code");
                                                                    "Gross Weight" := Item."Gross Weight" * "Qty. per Unit of Measure";
                                                                    "Net Weight" := Item."Net Weight" * "Qty. per Unit of Measure";
                                                                    "Unit Volume" := Item."Unit Volume" * "Qty. per Unit of Measure";
                                                                    "Units per Parcel" := ROUND(Item."Units per Parcel" / "Qty. per Unit of Measure",0.00001);
                                                                    OnAfterAssignItemUOM(Rec,Item);
                                                                    IF "Qty. per Unit of Measure" > xRec."Qty. per Unit of Measure" THEN
                                                                      InitItemAppl;
                                                                    UpdateUOMQtyPerStockQty;
                                                                  END ELSE
                                                                    "Qty. per Unit of Measure" := 1;
                                                                END ELSE
                                                                  "Qty. per Unit of Measure" := 0;

                                                                VALIDATE(Quantity);
                                                              END;

                                                   CaptionML=[ENU=Unit of Measure Code;
                                                              ESM=C¢d. unidad medida;
                                                              FRC=Code unitÇ de mesure;
                                                              ENC=Unit of Measure Code] }
    { 5415;   ;Quantity (Base)     ;Decimal       ;OnValidate=BEGIN
                                                                TESTFIELD("Qty. per Unit of Measure",1);
                                                                VALIDATE(Quantity,"Quantity (Base)");
                                                                UpdateDirectUnitCost(FIELDNO("Quantity (Base)"));
                                                              END;

                                                   CaptionML=[ENU=Quantity (Base);
                                                              ESM=Cantidad (base);
                                                              FRC=QuantitÇ (base);
                                                              ENC=Quantity (Base)];
                                                   DecimalPlaces=0:5 }
    { 5416;   ;Outstanding Qty. (Base);Decimal    ;CaptionML=[ENU=Outstanding Qty. (Base);
                                                              ESM=Cdad. pendiente (base);
                                                              FRC=QuantitÇ en suspens (base);
                                                              ENC=Outstanding Qty. (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5417;   ;Qty. to Invoice (Base);Decimal     ;OnValidate=BEGIN
                                                                TESTFIELD("Qty. per Unit of Measure",1);
                                                                VALIDATE("Qty. to Invoice","Qty. to Invoice (Base)");
                                                              END;

                                                   CaptionML=[ENU=Qty. to Invoice (Base);
                                                              ESM=Cdad. a facturar (base);
                                                              FRC=QuantitÇ Ö facturer (base);
                                                              ENC=Qty. to Invoice (Base)];
                                                   DecimalPlaces=0:5 }
    { 5418;   ;Qty. to Receive (Base);Decimal     ;OnValidate=BEGIN
                                                                TESTFIELD("Qty. per Unit of Measure",1);
                                                                VALIDATE("Qty. to Receive","Qty. to Receive (Base)");
                                                              END;

                                                   CaptionML=[ENU=Qty. to Receive (Base);
                                                              ESM=Cdad. a recibir (base);
                                                              FRC=QuantitÇ Ö recevoir (base);
                                                              ENC=Qty. to Receive (Base)];
                                                   DecimalPlaces=0:5 }
    { 5458;   ;Qty. Rcd. Not Invoiced (Base);Decimal;
                                                   CaptionML=[ENU=Qty. Rcd. Not Invoiced (Base);
                                                              ESM=Cdad. recibida no fact. (base);
                                                              FRC=QtÇ reáue non facturÇe (base);
                                                              ENC=Qty. Rcd. Not Invoiced (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5460;   ;Qty. Received (Base);Decimal       ;CaptionML=[ENU=Qty. Received (Base);
                                                              ESM=Cdad. recibida (base);
                                                              FRC=QuantitÇ reáue (base);
                                                              ENC=Qty. Received (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5461;   ;Qty. Invoiced (Base);Decimal       ;CaptionML=[ENU=Qty. Invoiced (Base);
                                                              ESM=Cdad. facturada (base);
                                                              FRC=QuantitÇ facturÇe (base);
                                                              ENC=Qty. Invoiced (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5495;   ;Reserved Qty. (Base);Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Reservation Entry"."Quantity (Base)" WHERE (Source Type=CONST(39),
                                                                                                                Source Subtype=FIELD(Document Type),
                                                                                                                Source ID=FIELD(Document No.),
                                                                                                                Source Ref. No.=FIELD(Line No.),
                                                                                                                Reservation Status=CONST(Reservation)));
                                                   CaptionML=[ENU=Reserved Qty. (Base);
                                                              ESM=Cdad. reservada (base);
                                                              FRC=QuantitÇ rÇservÇe (base);
                                                              ENC=Reserved Qty. (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5600;   ;FA Posting Date     ;Date          ;CaptionML=[ENU=FA Posting Date;
                                                              ESM=A/F Fecha registro;
                                                              FRC=Date report immo.;
                                                              ENC=FA Posting Date] }
    { 5601;   ;FA Posting Type     ;Option        ;OnValidate=BEGIN
                                                                IF Type = Type::"Fixed Asset" THEN BEGIN
                                                                  TESTFIELD("Job No.",'');
                                                                  IF "FA Posting Type" = "FA Posting Type"::" " THEN
                                                                    "FA Posting Type" := "FA Posting Type"::"Acquisition Cost";
                                                                  GetFAPostingGroup;
                                                                END ELSE BEGIN
                                                                  "Depreciation Book Code" := '';
                                                                  "FA Posting Date" := 0D;
                                                                  "Salvage Value" := 0;
                                                                  "Depr. until FA Posting Date" := FALSE;
                                                                  "Depr. Acquisition Cost" := FALSE;
                                                                  "Maintenance Code" := '';
                                                                  "Insurance No." := '';
                                                                  "Budgeted FA No." := '';
                                                                  "Duplicate in Depreciation Book" := '';
                                                                  "Use Duplication List" := FALSE;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Posting Type;
                                                              ESM=A/F Tipo registro;
                                                              FRC=Type de report immo.;
                                                              ENC=FA Posting Type];
                                                   OptionCaptionML=[ENU=" ,Acquisition Cost,Maintenance,,Appreciation";
                                                                    ESM=" ,Costo,Mantenimiento,,Apreciaci¢n";
                                                                    FRC=" ,Coñt acquisition,Entretien,,ApprÇciation";
                                                                    ENC=" ,Acquisition Cost,Maintenance,,Appreciation"];
                                                   OptionString=[ ,Acquisition Cost,Maintenance,,Appreciation] }
    { 5602;   ;Depreciation Book Code;Code10      ;TableRelation="Depreciation Book";
                                                   OnValidate=BEGIN
                                                                GetFAPostingGroup;
                                                              END;

                                                   CaptionML=[ENU=Depreciation Book Code;
                                                              ESM=C¢d. libro amortizaci¢n;
                                                              FRC=Code registre amortissement;
                                                              ENC=Depreciation Book Code] }
    { 5603;   ;Salvage Value       ;Decimal       ;CaptionML=[ENU=Salvage Value;
                                                              ESM=Valor residual;
                                                              FRC=Valeur rÇsiduelle;
                                                              ENC=Salvage Value];
                                                   AutoFormatType=1 }
    { 5605;   ;Depr. until FA Posting Date;Boolean;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Depr. until FA Posting Date;
                                                              ESM=A/F Amort. hasta fecha reg.;
                                                              FRC=Amort. jusqu'Ö date report;
                                                              ENC=Depr. until FA Posting Date] }
    { 5606;   ;Depr. Acquisition Cost;Boolean     ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Depr. Acquisition Cost;
                                                              ESM=Depr. de costo de adquisici¢n;
                                                              FRC=Amortissement coñt acquisition;
                                                              ENC=Depr. Acquisition Cost] }
    { 5609;   ;Maintenance Code    ;Code10        ;TableRelation=Maintenance;
                                                   CaptionML=[ENU=Maintenance Code;
                                                              ESM=C¢d. mantenimiento;
                                                              FRC=Code entretien;
                                                              ENC=Maintenance Code] }
    { 5610;   ;Insurance No.       ;Code20        ;TableRelation=Insurance;
                                                   CaptionML=[ENU=Insurance No.;
                                                              ESM=Nß seguro;
                                                              FRC=N¯ assurance;
                                                              ENC=Insurance No.] }
    { 5611;   ;Budgeted FA No.     ;Code20        ;TableRelation="Fixed Asset";
                                                   OnValidate=VAR
                                                                FixedAsset@1000 : Record 5600;
                                                              BEGIN
                                                                IF "Budgeted FA No." <> '' THEN BEGIN
                                                                  FixedAsset.GET("Budgeted FA No.");
                                                                  FixedAsset.TESTFIELD("Budgeted Asset",TRUE);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Budgeted FA No.;
                                                              ESM=A/F Nß pptdo.;
                                                              FRC=N¯ immo. budgÇtÇe;
                                                              ENC=Budgeted FA No.] }
    { 5612;   ;Duplicate in Depreciation Book;Code10;
                                                   TableRelation="Depreciation Book";
                                                   OnValidate=BEGIN
                                                                "Use Duplication List" := FALSE;
                                                              END;

                                                   CaptionML=[ENU=Duplicate in Depreciation Book;
                                                              ESM=Duplicado en libro amort.;
                                                              FRC=Registre amortiss. en double;
                                                              ENC=Duplicate in Depreciation Book] }
    { 5613;   ;Use Duplication List;Boolean       ;OnValidate=BEGIN
                                                                "Duplicate in Depreciation Book" := '';
                                                              END;

                                                   AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Use Duplication List;
                                                              ESM=Utilizar lista duplicados;
                                                              FRC=Utiliser liste duplication;
                                                              ENC=Use Duplication List] }
    { 5700;   ;Responsibility Center;Code10       ;TableRelation="Responsibility Center";
                                                   OnValidate=BEGIN
                                                                CreateDim(
                                                                  DATABASE::"Responsibility Center","Responsibility Center",
                                                                  DimMgt.TypeToTableID3(Type),"No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Work Center","Work Center No.");
                                                              END;

                                                   CaptionML=[ENU=Responsibility Center;
                                                              ESM=Centro responsabilidad;
                                                              FRC=Centre de gestion;
                                                              ENC=Responsibility Centre];
                                                   Editable=No }
    { 5705;   ;Cross-Reference No. ;Code20        ;OnValidate=VAR
                                                                ItemCrossReference@1000 : Record 5717;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                "Buy-from Vendor No." := PurchHeader."Buy-from Vendor No.";
                                                                ValidateCrossReferenceNo(ItemCrossReference,TRUE);
                                                              END;

                                                   OnLookup=BEGIN
                                                              CrossReferenceNoLookUp;
                                                            END;

                                                   AccessByPermission=TableData 5717=R;
                                                   CaptionML=[ENU=Cross-Reference No.;
                                                              ESM=Nß referencia cruzada;
                                                              FRC=RÇfÇrence externe;
                                                              ENC=Cross-Reference No.] }
    { 5706;   ;Unit of Measure (Cross Ref.);Code10;TableRelation=IF (Type=CONST(Item)) "Item Unit of Measure".Code WHERE (Item No.=FIELD(No.));
                                                   CaptionML=[ENU=Unit of Measure (Cross Ref.);
                                                              ESM=Unidad de medida (ref.cruz.);
                                                              FRC=UnitÇ de mesure (rÇfÇrence croisÇe);
                                                              ENC=Unit of Measure (Cross Ref.)] }
    { 5707;   ;Cross-Reference Type;Option        ;CaptionML=[ENU=Cross-Reference Type;
                                                              ESM=Tipo referencia cruzada;
                                                              FRC=Type rÇfÇrence externe;
                                                              ENC=Cross-Reference Type];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Bar Code";
                                                                    ESM=" ,Cliente,Prov.,C¢d. barra";
                                                                    FRC=" ,Client,Fournisseur,Code Ö barres";
                                                                    ENC=" ,Customer,Vendor,Bar Code"];
                                                   OptionString=[ ,Customer,Vendor,Bar Code] }
    { 5708;   ;Cross-Reference Type No.;Code30    ;CaptionML=[ENU=Cross-Reference Type No.;
                                                              ESM=Nß tipo referencia cruzada;
                                                              FRC=N¯ type rÇfÇrence externe;
                                                              ENC=Cross-Reference Type No.] }
    { 5709;   ;Item Category Code  ;Code20        ;TableRelation="Item Category";
                                                   CaptionML=[ENU=Item Category Code;
                                                              ESM=C¢d. categor°a producto;
                                                              FRC=Code catÇgorie;
                                                              ENC=Item Category Code] }
    { 5710;   ;Nonstock            ;Boolean       ;AccessByPermission=TableData 5718=R;
                                                   CaptionML=[ENU=Catalog;
                                                              ESM=Cat†logo;
                                                              FRC=Catalogue;
                                                              ENC=Catalogue] }
    { 5711;   ;Purchasing Code     ;Code10        ;TableRelation=Purchasing;
                                                   OnValidate=VAR
                                                                PurchasingCode@1000 : Record 5721;
                                                              BEGIN
                                                                IF PurchasingCode.GET("Purchasing Code") THEN BEGIN
                                                                  "Drop Shipment" := PurchasingCode."Drop Shipment";
                                                                  "Special Order" := PurchasingCode."Special Order";
                                                                END ELSE
                                                                  "Drop Shipment" := FALSE;
                                                                VALIDATE("Drop Shipment","Drop Shipment");
                                                              END;

                                                   CaptionML=[ENU=Purchasing Code;
                                                              ESM=C¢d. compra;
                                                              FRC=Code achat;
                                                              ENC=Purchasing Code];
                                                   Editable=No }
    { 5712;   ;Product Group Code  ;Code10        ;TableRelation="Product Group".Code WHERE (Item Category Code=FIELD(Item Category Code));
                                                   ValidateTableRelation=No;
                                                   ObsoleteState=Pending;
                                                   ObsoleteReason=Product Groups became first level children of Item Categories.;
                                                   CaptionML=[ENU=Product Group Code;
                                                              ESM=C¢d. grupo producto;
                                                              FRC=Code groupe produits;
                                                              ENC=Product Group Code] }
    { 5713;   ;Special Order       ;Boolean       ;OnValidate=BEGIN
                                                                IF (xRec."Special Order" <> "Special Order") AND (Quantity <> 0) THEN
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                              END;

                                                   CaptionML=[ENU=Special Order;
                                                              ESM=Pedido especial;
                                                              FRC=Commande spÇciale;
                                                              ENC=Special Order] }
    { 5714;   ;Special Order Sales No.;Code20     ;TableRelation=IF (Special Order=CONST(Yes)) "Sales Header".No. WHERE (Document Type=CONST(Order));
                                                   OnValidate=BEGIN
                                                                IF (xRec."Special Order Sales No." <> "Special Order Sales No.") AND (Quantity <> 0) THEN
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                              END;

                                                   AccessByPermission=TableData 223=R;
                                                   CaptionML=[ENU=Special Order Sales No.;
                                                              ESM=Nß pedido venta especial;
                                                              FRC=N¯ document de vente spÇcial;
                                                              ENC=Special Order Sales No.] }
    { 5715;   ;Special Order Sales Line No.;Integer;
                                                   TableRelation=IF (Special Order=CONST(Yes)) "Sales Line"."Line No." WHERE (Document Type=CONST(Order),
                                                                                                                              Document No.=FIELD(Special Order Sales No.));
                                                   OnValidate=BEGIN
                                                                IF (xRec."Special Order Sales Line No." <> "Special Order Sales Line No.") AND (Quantity <> 0) THEN
                                                                  WhseValidateSourceLine.PurchaseLineVerifyChange(Rec,xRec);
                                                              END;

                                                   AccessByPermission=TableData 223=R;
                                                   CaptionML=[ENU=Special Order Sales Line No.;
                                                              ESM=Nß l°n. ped. venta especial;
                                                              FRC=N¯ ligne border. vente spÇcial;
                                                              ENC=Special Order Sales Line No.] }
    { 5750;   ;Whse. Outstanding Qty. (Base);Decimal;
                                                   FieldClass=FlowField;
                                                   CalcFormula=Sum("Warehouse Receipt Line"."Qty. Outstanding (Base)" WHERE (Source Type=CONST(39),
                                                                                                                             Source Subtype=FIELD(Document Type),
                                                                                                                             Source No.=FIELD(Document No.),
                                                                                                                             Source Line No.=FIELD(Line No.)));
                                                   AccessByPermission=TableData 14=R;
                                                   CaptionML=[ENU=Whse. Outstanding Qty. (Base);
                                                              ESM=Cdad. pdte. almacÇn (base);
                                                              FRC=QtÇ restante entrepìt;
                                                              ENC=Whse. Outstanding Qty. (Base)];
                                                   DecimalPlaces=0:5;
                                                   BlankZero=Yes;
                                                   Editable=No }
    { 5752;   ;Completely Received ;Boolean       ;CaptionML=[ENU=Completely Received;
                                                              ESM=Recibido completamente;
                                                              FRC=Entiärement rÇceptionnÇ;
                                                              ENC=Completely Received];
                                                   Editable=No }
    { 5790;   ;Requested Receipt Date;Date        ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF (CurrFieldNo <> 0) AND
                                                                   ("Promised Receipt Date" <> 0D)
                                                                THEN
                                                                  ERROR(
                                                                    Text023,
                                                                    FIELDCAPTION("Requested Receipt Date"),
                                                                    FIELDCAPTION("Promised Receipt Date"));

                                                                IF "Requested Receipt Date" <> 0D THEN
                                                                  VALIDATE("Order Date",
                                                                    CalendarMgmt.CalcDateBOC2(AdjustDateFormula("Lead Time Calculation"),"Requested Receipt Date",
                                                                      CalChange."Source Type"::Vendor,"Buy-from Vendor No.",'',
                                                                      CalChange."Source Type"::Location,"Location Code",'',TRUE))
                                                                ELSE
                                                                  IF "Requested Receipt Date" <> xRec."Requested Receipt Date" THEN
                                                                    GetUpdateBasicDates;
                                                              END;

                                                   AccessByPermission=TableData 99000880=R;
                                                   CaptionML=[ENU=Requested Receipt Date;
                                                              ESM=Fecha recep. solicitada;
                                                              FRC=Date rÇception demandÇe;
                                                              ENC=Requested Receipt Date] }
    { 5791;   ;Promised Receipt Date;Date         ;OnValidate=BEGIN
                                                                IF CurrFieldNo <> 0 THEN
                                                                  IF "Promised Receipt Date" <> 0D THEN
                                                                    VALIDATE("Planned Receipt Date","Promised Receipt Date")
                                                                  ELSE
                                                                    VALIDATE("Requested Receipt Date")
                                                                ELSE
                                                                  VALIDATE("Planned Receipt Date","Promised Receipt Date");
                                                              END;

                                                   AccessByPermission=TableData 99000880=R;
                                                   CaptionML=[ENU=Promised Receipt Date;
                                                              ESM=Fecha recep. prometida;
                                                              FRC=Date rÇception confirmÇe;
                                                              ENC=Promised Receipt Date] }
    { 5792;   ;Lead Time Calculation;DateFormula  ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                LeadTimeMgt.CheckLeadTimeIsNotNegative("Lead Time Calculation");

                                                                IF "Requested Receipt Date" <> 0D THEN
                                                                  VALIDATE("Planned Receipt Date")
                                                                ELSE
                                                                  GetUpdateBasicDates;
                                                              END;

                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Lead Time Calculation;
                                                              ESM=Plazo entrega (d°as);
                                                              FRC=DÇlai de rÇapprovisionnement;
                                                              ENC=Lead Time Calculation] }
    { 5793;   ;Inbound Whse. Handling Time;DateFormula;
                                                   OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF ("Promised Receipt Date" <> 0D) OR
                                                                   ("Requested Receipt Date" <> 0D)
                                                                THEN
                                                                  VALIDATE("Planned Receipt Date")
                                                                ELSE
                                                                  VALIDATE("Expected Receipt Date");
                                                              END;

                                                   AccessByPermission=TableData 14=R;
                                                   CaptionML=[ENU=Inbound Whse. Handling Time;
                                                              ESM=Tiempo manip. alm. entrada;
                                                              FRC=DÇlai enlogement;
                                                              ENC=Inbound Whse. Handling Time] }
    { 5794;   ;Planned Receipt Date;Date          ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF "Promised Receipt Date" <> 0D THEN BEGIN
                                                                  IF "Planned Receipt Date" <> 0D THEN
                                                                    "Expected Receipt Date" :=
                                                                      CalendarMgmt.CalcDateBOC(InternalLeadTimeDays("Planned Receipt Date"),"Planned Receipt Date",
                                                                        CalChange."Source Type"::Location,"Location Code",'',
                                                                        CalChange."Source Type"::Location,"Location Code",'',FALSE)
                                                                  ELSE
                                                                    "Expected Receipt Date" := "Planned Receipt Date";
                                                                END ELSE
                                                                  IF "Planned Receipt Date" <> 0D THEN BEGIN
                                                                    "Order Date" :=
                                                                      CalendarMgmt.CalcDateBOC2(AdjustDateFormula("Lead Time Calculation"),"Planned Receipt Date",
                                                                        CalChange."Source Type"::Vendor,"Buy-from Vendor No.",'',
                                                                        CalChange."Source Type"::Location,"Location Code",'',TRUE);
                                                                    "Expected Receipt Date" :=
                                                                      CalendarMgmt.CalcDateBOC(InternalLeadTimeDays("Planned Receipt Date"),"Planned Receipt Date",
                                                                        CalChange."Source Type"::Location,"Location Code",'',
                                                                        CalChange."Source Type"::Location,"Location Code",'',FALSE)
                                                                  END ELSE
                                                                    GetUpdateBasicDates;

                                                                IF NOT TrackingBlocked THEN
                                                                  CheckDateConflict.PurchLineCheck(Rec,CurrFieldNo <> 0);
                                                              END;

                                                   AccessByPermission=TableData 99000880=R;
                                                   CaptionML=[ENU=Planned Receipt Date;
                                                              ESM=Fecha recep. planificada;
                                                              FRC=Date planifiÇe de rÇception;
                                                              ENC=Planned Receipt Date] }
    { 5795;   ;Order Date          ;Date          ;OnValidate=BEGIN
                                                                TestStatusOpen;
                                                                IF (CurrFieldNo <> 0) AND
                                                                   ("Document Type" = "Document Type"::Order) AND
                                                                   ("Order Date" < WORKDATE) AND
                                                                   ("Order Date" <> 0D)
                                                                THEN
                                                                  MESSAGE(
                                                                    Text018,
                                                                    FIELDCAPTION("Order Date"),"Order Date",WORKDATE);

                                                                IF "Order Date" <> 0D THEN
                                                                  "Planned Receipt Date" :=
                                                                    CalendarMgmt.CalcDateBOC(AdjustDateFormula("Lead Time Calculation"),"Order Date",
                                                                      CalChange."Source Type"::Vendor,"Buy-from Vendor No.",'',
                                                                      CalChange."Source Type"::Location,"Location Code",'',TRUE);

                                                                IF "Planned Receipt Date" <> 0D THEN
                                                                  "Expected Receipt Date" :=
                                                                    CalendarMgmt.CalcDateBOC(InternalLeadTimeDays("Planned Receipt Date"),"Planned Receipt Date",
                                                                      CalChange."Source Type"::Location,"Location Code",'',
                                                                      CalChange."Source Type"::Location,"Location Code",'',FALSE)
                                                                ELSE
                                                                  "Expected Receipt Date" := "Planned Receipt Date";

                                                                IF NOT TrackingBlocked THEN
                                                                  CheckDateConflict.PurchLineCheck(Rec,CurrFieldNo <> 0);
                                                              END;

                                                   AccessByPermission=TableData 120=R;
                                                   CaptionML=[ENU=Order Date;
                                                              ESM=Fecha pedido;
                                                              FRC=Date commande;
                                                              ENC=Order Date] }
    { 5800;   ;Allow Item Charge Assignment;Boolean;
                                                   InitValue=Yes;
                                                   OnValidate=BEGIN
                                                                CheckItemChargeAssgnt;
                                                              END;

                                                   AccessByPermission=TableData 5800=R;
                                                   CaptionML=[ENU=Allow Item Charge Assignment;
                                                              ESM=Permitir asign. cargos prod.;
                                                              FRC=Autor. affect. frais annexes;
                                                              ENC=Allow Item Charge Assignment] }
    { 5801;   ;Qty. to Assign      ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Item Charge Assignment (Purch)"."Qty. to Assign" WHERE (Document Type=FIELD(Document Type),
                                                                                                                            Document No.=FIELD(Document No.),
                                                                                                                            Document Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Qty. to Assign;
                                                              ESM=Cdad. a asignar;
                                                              FRC=QtÇ Ö affecter;
                                                              ENC=Qty. to Assign];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5802;   ;Qty. Assigned       ;Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Item Charge Assignment (Purch)"."Qty. Assigned" WHERE (Document Type=FIELD(Document Type),
                                                                                                                           Document No.=FIELD(Document No.),
                                                                                                                           Document Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Qty. Assigned;
                                                              ESM=Cdad. asignada;
                                                              FRC=QtÇ affectÇe;
                                                              ENC=Qty Assig];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5803;   ;Return Qty. to Ship ;Decimal       ;OnValidate=BEGIN
                                                                IF (CurrFieldNo <> 0) AND
                                                                   (Type = Type::Item) AND
                                                                   ("Return Qty. to Ship" <> 0) AND
                                                                   (NOT "Drop Shipment")
                                                                THEN
                                                                  CheckWarehouse;

                                                                IF "Return Qty. to Ship" = Quantity - "Return Qty. Shipped" THEN
                                                                  InitQtyToShip
                                                                ELSE BEGIN
                                                                  "Return Qty. to Ship (Base)" := CalcBaseQty("Return Qty. to Ship");
                                                                  InitQtyToInvoice;
                                                                END;
                                                                IF ("Return Qty. to Ship" * Quantity < 0) OR
                                                                   (ABS("Return Qty. to Ship") > ABS("Outstanding Quantity")) OR
                                                                   (Quantity * "Outstanding Quantity" < 0)
                                                                THEN
                                                                  ERROR(
                                                                    Text020,
                                                                    "Outstanding Quantity");
                                                                IF ("Return Qty. to Ship (Base)" * "Quantity (Base)" < 0) OR
                                                                   (ABS("Return Qty. to Ship (Base)") > ABS("Outstanding Qty. (Base)")) OR
                                                                   ("Quantity (Base)" * "Outstanding Qty. (Base)" < 0)
                                                                THEN
                                                                  ERROR(
                                                                    Text021,
                                                                    "Outstanding Qty. (Base)");

                                                                IF (CurrFieldNo <> 0) AND (Type = Type::Item) AND ("Return Qty. to Ship" > 0) THEN
                                                                  CheckApplToItemLedgEntry;
                                                              END;

                                                   AccessByPermission=TableData 6650=R;
                                                   CaptionML=[ENU=Return Qty. to Ship;
                                                              ESM=Cantidad dev. a enviar;
                                                              FRC=QtÇ retour Ö livrer;
                                                              ENC=Return Qty. to Ship];
                                                   DecimalPlaces=0:5 }
    { 5804;   ;Return Qty. to Ship (Base);Decimal ;OnValidate=BEGIN
                                                                TESTFIELD("Qty. per Unit of Measure",1);
                                                                VALIDATE("Return Qty. to Ship","Return Qty. to Ship (Base)");
                                                              END;

                                                   CaptionML=[ENU=Return Qty. to Ship (Base);
                                                              ESM=Cantidad dev. a enviar (Base);
                                                              FRC=QtÇ retour Ö livrer (base);
                                                              ENC=Return Qty. to Ship (Base)];
                                                   DecimalPlaces=0:5 }
    { 5805;   ;Return Qty. Shipped Not Invd.;Decimal;
                                                   CaptionML=[ENU=Return Qty. Shipped Not Invd.;
                                                              ESM=Cantidad dev. enviada no fact.;
                                                              FRC=QtÇ ret. livrÇe non facturÇe;
                                                              ENC=Return Qty. Shipped Not Invd.];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5806;   ;Ret. Qty. Shpd Not Invd.(Base);Decimal;
                                                   CaptionML=[ENU=Ret. Qty. Shpd Not Invd.(Base);
                                                              ESM=Cantidad dev. env. no fact.(Base);
                                                              FRC=QtÇ ret. liv. non fact. (base);
                                                              ENC=Ret. Qty. Shpd Not Invd.(Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5807;   ;Return Shpd. Not Invd.;Decimal     ;OnValidate=VAR
                                                                Currency2@1000 : Record 4;
                                                              BEGIN
                                                                GetPurchHeader;
                                                                Currency2.InitRoundingPrecision;
                                                                IF PurchHeader."Currency Code" <> '' THEN
                                                                  "Return Shpd. Not Invd. (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        GetDate,"Currency Code",
                                                                        "Return Shpd. Not Invd.",PurchHeader."Currency Factor"),
                                                                      Currency2."Amount Rounding Precision")
                                                                ELSE
                                                                  "Return Shpd. Not Invd. (LCY)" :=
                                                                    ROUND("Return Shpd. Not Invd.",Currency2."Amount Rounding Precision");
                                                              END;

                                                   CaptionML=[ENU=Return Shpd. Not Invd.;
                                                              ESM=Dev. enviadas no facturadas;
                                                              FRC=Livraison retour non facturÇe;
                                                              ENC=Return Shpd. Not Invd.];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 5808;   ;Return Shpd. Not Invd. (LCY);Decimal;
                                                   CaptionML=[ENU=Return Shpd. Not Invd. ($);
                                                              ESM=Dev. env. no facturadas ($);
                                                              FRC=Livraison de retour non fact. ($);
                                                              ENC=Return Shpd. Not Invd. ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 5809;   ;Return Qty. Shipped ;Decimal       ;AccessByPermission=TableData 6650=R;
                                                   CaptionML=[ENU=Return Qty. Shipped;
                                                              ESM=Cantidad dev. enviada;
                                                              FRC=QtÇ retour livrÇe;
                                                              ENC=Return Qty. Shipped];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 5810;   ;Return Qty. Shipped (Base);Decimal ;CaptionML=[ENU=Return Qty. Shipped (Base);
                                                              ESM=Cantidad dev. enviada (Base);
                                                              FRC=QtÇ retour livrÇe (base);
                                                              ENC=Return Qty. Shipped (Base)];
                                                   DecimalPlaces=0:5;
                                                   Editable=No }
    { 6600;   ;Return Shipment No. ;Code20        ;CaptionML=[ENU=Return Shipment No.;
                                                              ESM=Nß env°o devoluci¢n;
                                                              FRC=N¯ livraison retour;
                                                              ENC=Return Shipment No.];
                                                   Editable=No }
    { 6601;   ;Return Shipment Line No.;Integer   ;CaptionML=[ENU=Return Shipment Line No.;
                                                              ESM=Nß l°nea de env°o dev.;
                                                              FRC=N¯ ligne livraison retour;
                                                              ENC=Return Shipment Line No.];
                                                   Editable=No }
    { 6608;   ;Return Reason Code  ;Code10        ;TableRelation="Return Reason";
                                                   OnValidate=BEGIN
                                                                ValidateReturnReasonCode(FIELDNO("Return Reason Code"));
                                                              END;

                                                   CaptionML=[ENU=Return Reason Code;
                                                              ESM=C¢d. auditor°a dev.;
                                                              FRC=Code motif retour;
                                                              ENC=Return Reason Code] }
    { 6609;   ;Subtype             ;Option        ;CaptionML=[ENU=Subtype;
                                                              ESM=Subtipo;
                                                              FRC=Sous-type;
                                                              ENC=Subtype];
                                                   OptionCaptionML=[ENU=" ,Item - Inventory,Item - Service,Comment";
                                                                    ESM=" ,Producto - Inventario,Producto - Servicio,Comentario";
                                                                    FRC=" ,Article - inventaire,Article - Service,Commentaire";
                                                                    ENC=" ,Item - Inventory,Item - Service,Comment"];
                                                   OptionString=[ ,Item - Inventory,Item - Service,Comment] }
    { 6610;   ;Copied From Posted Doc.;Boolean    ;CaptionML=[ENU=Copied From Posted Doc.;
                                                              ESM=Copia de Doc. regis.;
                                                              FRC=CopiÇ Ö partir du document reportÇ.;
                                                              ENC=Copied From Posted Doc.] }
    { 7010;   ;Attached Doc Count  ;Integer       ;FieldClass=FlowField;
                                                   InitValue=0;
                                                   CalcFormula=Count("Document Attachment" WHERE (Table ID=CONST(39),
                                                                                                  No.=FIELD(Document No.),
                                                                                                  Document Type=FIELD(Document Type),
                                                                                                  Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Attached Doc Count;
                                                              ESM=Recuento doc. adjunto;
                                                              FRC=Nombre de documents joint;
                                                              ENC=Attached Doc Count];
                                                   BlankNumbers=DontBlank }
    { 10001;  ;Tax To Be Expensed  ;Decimal       ;CaptionML=[ENU=Tax To Be Expensed;
                                                              ESM=Impto. para gastar;
                                                              FRC=Taxes Ö dÇbourser;
                                                              ENC=Tax To Be Expensed] }
    { 10017;  ;Provincial Tax Area Code;Code20    ;TableRelation="Tax Area" WHERE (Country/Region=CONST(CA));
                                                   OnValidate=VAR
                                                                PurchSetup@1400000 : Record 312;
                                                                Vend@1400001 : Record 23;
                                                              BEGIN
                                                                IF (CurrFieldNo = FIELDNO("Provincial Tax Area Code")) AND
                                                                   (xRec."Provincial Tax Area Code" = '') AND
                                                                   ("Provincial Tax Area Code" <> '')
                                                                THEN BEGIN
                                                                  PurchSetup.GET;
                                                                  IF PurchSetup."Use Vendor's Tax Area Code" THEN BEGIN
                                                                    IF "Buy-from Vendor No." <> Vend."No." THEN
                                                                      Vend.GET("Buy-from Vendor No.");
                                                                  END;
                                                                  IF NOT VendorLocation.READPERMISSION THEN
                                                                    VendorLocation."Business Presence" := TRUE
                                                                  ELSE
                                                                    IF NOT VendorLocation.GET("Buy-from Vendor No.","Location Code") THEN
                                                                      VendorLocation."Business Presence" := TRUE;
                                                                  IF PurchSetup."Use Vendor's Tax Area Code" AND (Vend."Tax Area Code" <> '') THEN
                                                                    VendorLocation."Business Presence" := TRUE;
                                                                  IF VendorLocation."Business Presence" OR ("Tax Area Code" = '') THEN
                                                                    IF NOT CONFIRM(USText001,FALSE,FIELDCAPTION("Provincial Tax Area Code")) THEN
                                                                      ERROR('');
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Provincial Tax Area Code;
                                                              ESM=C¢digo †rea impuesto provincial;
                                                              FRC=Code provincial de rÇgion fiscale;
                                                              ENC=Provincial Tax Area Code] }
    { 10022;  ;IRS 1099 Liable     ;Boolean       ;CaptionML=[ENU=IRS 1099 Liable;
                                                              ESM=Gravable en 1099 de IRS;
                                                              FRC=Imposable, IRS 1099;
                                                              ENC=IRS 1099 Liable] }
    { 10025;  ;GST/HST             ;Option        ;OnValidate=BEGIN
                                                                IF ("GST/HST" = "GST/HST"::Acquisition) AND ((Type <> Type::"Fixed Asset") AND (Type <> Type::"G/L Account")) THEN
                                                                  ERROR(Text10100);
                                                              END;

                                                   CaptionML=[ENU=GST/HST;
                                                              ESM=GST/HST;
                                                              FRC=TPS/TVH;
                                                              ENC=GST/HST];
                                                   OptionCaptionML=[ENU=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate";
                                                                    ESM=" ,Adquisici¢n,Autoevaluaci¢n,Devoluci¢n,Devoluciones de vivienda nueva,Devoluci¢n de pensiones";
                                                                    FRC=" ,Acquisition,Auto-Çvaluation,Remise,Remises pour habitation neuve,Remise pour retraite";
                                                                    ENC=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate"];
                                                   OptionString=[ ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate] }
    { 50000;  ;Expense Code        ;Code20        ;TableRelation=Expense;
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Expense Code }
    { 99000750;;Routing No.        ;Code20        ;TableRelation="Routing Header";
                                                   CaptionML=[ENU=Routing No.;
                                                              ESM=Nß ruta;
                                                              FRC=N¯ itinÇraire;
                                                              ENC=Routing No.] }
    { 99000751;;Operation No.      ;Code10        ;TableRelation="Prod. Order Routing Line"."Operation No." WHERE (Status=CONST(Released),
                                                                                                                   Prod. Order No.=FIELD(Prod. Order No.),
                                                                                                                   Routing No.=FIELD(Routing No.));
                                                   OnValidate=VAR
                                                                ProdOrderRtngLine@1000 : Record 5409;
                                                              BEGIN
                                                                IF "Operation No." = '' THEN
                                                                  EXIT;

                                                                TESTFIELD(Type,Type::Item);
                                                                TESTFIELD("Prod. Order No.");
                                                                TESTFIELD("Routing No.");

                                                                ProdOrderRtngLine.GET(
                                                                  ProdOrderRtngLine.Status::Released,
                                                                  "Prod. Order No.",
                                                                  "Routing Reference No.",
                                                                  "Routing No.",
                                                                  "Operation No.");

                                                                ProdOrderRtngLine.TESTFIELD(
                                                                  Type,
                                                                  ProdOrderRtngLine.Type::"Work Center");

                                                                "Expected Receipt Date" := ProdOrderRtngLine."Ending Date";
                                                                VALIDATE("Work Center No.",ProdOrderRtngLine."No.");
                                                                VALIDATE("Direct Unit Cost",ProdOrderRtngLine."Direct Unit Cost");
                                                              END;

                                                   CaptionML=[ENU=Operation No.;
                                                              ESM=Nß operaci¢n;
                                                              FRC=Nß d'activitÇ;
                                                              ENC=Operation No.];
                                                   Editable=No }
    { 99000752;;Work Center No.    ;Code20        ;TableRelation="Work Center";
                                                   OnValidate=BEGIN
                                                                IF Type = Type::"Charge (Item)" THEN
                                                                  TESTFIELD("Work Center No.",'');
                                                                IF "Work Center No." = '' THEN
                                                                  EXIT;

                                                                WorkCenter.GET("Work Center No.");
                                                                "Gen. Prod. Posting Group" := WorkCenter."Gen. Prod. Posting Group";
                                                                "VAT Prod. Posting Group" := '';
                                                                IF GenProdPostingGrp.ValidateVatProdPostingGroup(GenProdPostingGrp,"Gen. Prod. Posting Group") THEN
                                                                  "VAT Prod. Posting Group" := GenProdPostingGrp."Def. VAT Prod. Posting Group";
                                                                VALIDATE("VAT Prod. Posting Group");

                                                                "Overhead Rate" := WorkCenter."Overhead Rate";
                                                                VALIDATE("Indirect Cost %",WorkCenter."Indirect Cost %");

                                                                CreateDim(
                                                                  DATABASE::"Work Center","Work Center No.",
                                                                  DimMgt.TypeToTableID3(Type),"No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Responsibility Center","Responsibility Center");
                                                              END;

                                                   CaptionML=[ENU=Work Center No.;
                                                              ESM=Nß centro trabajo;
                                                              FRC=Atelier nß;
                                                              ENC=Work Centre No.];
                                                   Editable=No }
    { 99000753;;Finished           ;Boolean       ;CaptionML=[ENU=Finished;
                                                              ESM=Terminada;
                                                              FRC=TerminÇ;
                                                              ENC=Finished] }
    { 99000754;;Prod. Order Line No.;Integer      ;TableRelation="Prod. Order Line"."Line No." WHERE (Status=FILTER(Released..),
                                                                                                      Prod. Order No.=FIELD(Prod. Order No.));
                                                   CaptionML=[ENU=Prod. Order Line No.;
                                                              ESM=Nß l°n. orden producc.;
                                                              FRC=N¯ ligne bon prod.;
                                                              ENC=Prod. Order Line No.];
                                                   Editable=No }
    { 99000755;;Overhead Rate      ;Decimal       ;OnValidate=BEGIN
                                                                VALIDATE("Indirect Cost %");
                                                              END;

                                                   CaptionML=[ENU=Overhead Rate;
                                                              ESM=Tasa costos generales;
                                                              FRC=Coefficient des frais gÇn.;
                                                              ENC=Overhead Rate];
                                                   DecimalPlaces=0:5 }
    { 99000756;;MPS Order          ;Boolean       ;CaptionML=[ENU=MPS Order;
                                                              ESM=Orden MPS;
                                                              FRC=Commande PDP;
                                                              ENC=MPS Order] }
    { 99000757;;Planning Flexibility;Option       ;OnValidate=BEGIN
                                                                IF "Planning Flexibility" <> xRec."Planning Flexibility" THEN
                                                                  ReservePurchLine.UpdatePlanningFlexibility(Rec);
                                                              END;

                                                   CaptionML=[ENU=Planning Flexibility;
                                                              ESM=Flexib. planificaci¢n;
                                                              FRC=FlexibilitÇ de planification;
                                                              ENC=Planning Flexibility];
                                                   OptionCaptionML=[ENU=Unlimited,None;
                                                                    ESM=Ilimitada,Ninguna;
                                                                    FRC=IllimitÇ,Aucun;
                                                                    ENC=Unlimited,None];
                                                   OptionString=Unlimited,None }
    { 99000758;;Safety Lead Time   ;DateFormula   ;OnValidate=BEGIN
                                                                VALIDATE("Inbound Whse. Handling Time");
                                                              END;

                                                   CaptionML=[ENU=Safety Lead Time;
                                                              ESM=Plazo de seguridad;
                                                              FRC=DÇlai de sÇcuritÇ;
                                                              ENC=Safety Lead Time] }
    { 99000759;;Routing Reference No.;Integer     ;CaptionML=[ENU=Routing Reference No.;
                                                              ESM=Nß ruta referencia;
                                                              FRC=N¯ rÇfÇrence itinÇraire;
                                                              ENC=Routing Reference No.] }
  }
  KEYS
  {
    {    ;Document Type,Document No.,Line No.     ;Clustered=Yes }
    { No ;Document No.,Line No.,Document Type      }
    {    ;Document Type,Type,No.,Variant Code,Drop Shipment,Location Code,Expected Receipt Date;
                                                   SumIndexFields=Outstanding Qty. (Base) }
    {    ;Document Type,Pay-to Vendor No.,Currency Code;
                                                   SumIndexFields=Outstanding Amount,Amt. Rcd. Not Invoiced,Outstanding Amount (LCY),Amt. Rcd. Not Invoiced (LCY);
                                                   MaintainSIFTIndex=No }
    { No ;Document Type,Type,No.,Variant Code,Drop Shipment,Shortcut Dimension 1 Code,Shortcut Dimension 2 Code,Location Code,Expected Receipt Date;
                                                   SumIndexFields=Outstanding Qty. (Base);
                                                   MaintainSQLIndex=No;
                                                   MaintainSIFTIndex=No }
    { No ;Document Type,Pay-to Vendor No.,Shortcut Dimension 1 Code,Shortcut Dimension 2 Code,Currency Code;
                                                   SumIndexFields=Outstanding Amount,Amt. Rcd. Not Invoiced,Outstanding Amount (LCY),Amt. Rcd. Not Invoiced (LCY);
                                                   MaintainSQLIndex=No;
                                                   MaintainSIFTIndex=No }
    {    ;Document Type,Blanket Order No.,Blanket Order Line No. }
    {    ;Document Type,Type,Prod. Order No.,Prod. Order Line No.,Routing No.,Operation No. }
    {    ;Document Type,Document No.,Location Code;SumIndexFields=Amount,Amount Including VAT;
                                                   MaintainSQLIndex=No }
    {    ;Document Type,Receipt No.,Receipt Line No. }
    {    ;Type,No.,Variant Code,Drop Shipment,Location Code,Document Type,Expected Receipt Date;
                                                   MaintainSQLIndex=No }
    {    ;Document Type,Buy-from Vendor No.        }
    {    ;Document Type,Job No.,Job Task No.      ;SumIndexFields=Outstanding Amt. Ex. VAT (LCY),A. Rcd. Not Inv. Ex. VAT (LCY) }
    { No ;Document Type,Document No.,Type,No.      }
    { No ;Document Type,Type,No.                  ;SumIndexFields=Outstanding Qty. (Base) }
    {    ;Recalculate Invoice Disc.                }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text000@1000 : TextConst 'ENU=You cannot rename a %1.;ESM=No se puede cambiar el nombre a %1.;FRC=Vous ne pouvez pas renommer un %1.;ENC=You cannot rename a %1.';
      Text001@1001 : TextConst 'ENU=You cannot change %1 because the order line is associated with sales order %2.;ESM=No se puede cambiar %1 porque la l°nea de pedido est† asociada con el pedido de venta %2.;FRC=Vous ne pouvez changer %1 parce que la ligne de commande est associÇe au document de ventes %2.;ENC=You cannot change %1 because the order line is associated with sales order %2.';
      Text002@1002 : TextConst 'ENU=Prices including Tax cannot be calculated when %1 is %2.;ESM=No se pueden calcular precios IVA incluido cuando %1 es %2.;FRC=Impossible de calculer les prix incluant la TVA lorsque %1 est %2.;ENC=Prices including Tax cannot be calculated when %1 is %2.';
      Text003@1003 : TextConst 'ENU=You cannot purchase resources.;ESM=No se pueden comprar recursos.;FRC=Impossible d''acheter des ressources.;ENC=You cannot purchase resources.';
      Text004@1004 : TextConst 'ENU=must not be less than %1;ESM=No puede ser inferior a %1.;FRC=ne doit pas àtre infÇrieur Ö %1;ENC=must not be less than %1';
      Text006@1005 : TextConst 'ENU=You cannot invoice more than %1 units.;ESM=No se pueden facturar m†s de %1 unidades.;FRC=Vous ne pouvez pas facturer plus de %1 unitÇs.;ENC=You cannot invoice more than %1 units.';
      Text007@1006 : TextConst 'ENU=You cannot invoice more than %1 base units.;ESM=No se pueden facturar m†s de %1 unidades base.;FRC=Vous ne pouvez facturer plus de %1 unitÇs de base.;ENC=You cannot invoice more than %1 base units.';
      Text008@1007 : TextConst 'ENU=You cannot receive more than %1 units.;ESM=No se pueden recibir m†s de %1 unidades.;FRC=Vous ne pouvez recevoir plus de %1 unitÇs.;ENC=You cannot receive more than %1 units.';
      Text009@1008 : TextConst 'ENU=You cannot receive more than %1 base units.;ESM=No se pueden recibir m†s de %1 unidades base.;FRC=Vous ne pouvez recevoir plus de %1 unitÇs de base.;ENC=You cannot receive more than %1 base units.';
      Text010@1009 : TextConst 'ENU=You cannot change %1 when %2 is %3.;ESM=No se puede cambiar %1 cuando %2 es %3.;FRC=Vous ne pouvez modifier %1 lorsque %2 est %3.;ENC=You cannot change %1 when %2 is %3.';
      Text011@1010 : TextConst 'ENU=" must be 0 when %1 is %2";ESM=" debe ser 0 cuando %1 es %2";FRC=" doit àtre 0 lorsque %1 est %2";ENC=" must be 0 when %1 is %2"';
      Text012@1011 : TextConst 'ENU="must not be specified when %1 = %2";ESM="no se puede indicar cuando %1 = %2";FRC="ne doit pas àtre spÇcifiÇ lorsque %1 = %2.";ENC="must not be specified when %1 = %2"';
      Text016@1014 : TextConst 'ENU="%1 is required for %2 = %3.";ESM="Se requiere %1 para %2 = %3.";FRC="%1 est requis pour %2 = %3.";ENC="%1 is required for %2 = %3."';
      Text017@1015 : TextConst 'ENU=\The entered information may be disregarded by warehouse operations.;ESM=\La informaci¢n introducida puede ser ignorada por operaciones almacÇn.;FRC=\Les informations entrÇes peuvent àtre ignorÇes par les opÇrations de distribution.;ENC=\The entered information may be disregarded by warehouse operations.';
      Text018@1016 : TextConst 'ENU=%1 %2 is earlier than the work date %3.;ESM=%1 %2 es anterior a la fecha trabajo %3.;FRC=La %1 %2 est antÇrieure Ö la date de travail %3.;ENC=%1 %2 is earlier than the work date %3.';
      Text020@1018 : TextConst 'ENU=You cannot return more than %1 units.;ESM=No puede devolver m†s de %1 unidades.;FRC=Vous ne pouvez pas retourner plus de %1 unitÇ(s).;ENC=You cannot return more than %1 units.';
      Text021@1019 : TextConst 'ENU=You cannot return more than %1 base units.;ESM=No puede dev. m†s del %1 unidades base.;FRC=Vous ne pouvez pas retourner plus de %1 unitÇ(s) de base.;ENC=You cannot return more than %1 base units.';
      Text022@1020 : TextConst 'ENU=You cannot change %1, if item charge is already posted.;ESM=No puede cambiar %1, si los cargos. prod. est†n ya regis.;FRC=Vous ne pouvez pas modifier %1 si les frais annexes sont reportÇs.;ENC=You cannot change %1, if item charge is already posted.';
      Text023@1072 : TextConst 'ENU=You cannot change the %1 when the %2 has been filled in.;ESM=No puede cambiar %1 despuÇs de introducir datos en %2.;FRC=Vous ne pouvez pas modifier le champ %1 lorsque le champ %2 a ÇtÇ renseignÇ.;ENC=You cannot change the %1 when the %2 has been filled in.';
      Text029@1077 : TextConst 'ENU=must be positive.;ESM=debe ser positivo.;FRC=doit àtre positif.;ENC=must be positive.';
      Text030@1076 : TextConst 'ENU=must be negative.;ESM=debe ser negativo.;FRC=doit àtre nÇgatif.;ENC=must be negative.';
      Text031@1056 : TextConst 'ENU=You cannot define item tracking on this line because it is linked to production order %1.;ESM=No puede definir seguim. prod. en esta l°n. porque est† unido a la orden de producc. %1.;FRC=Vous ne pouvez pas dÇfinir le suivi des articles sur cette ligne, puisqu''elle est reliÇe Ö l''ordre de travail %1.;ENC=You cannot define item tracking on this line because it is linked to production order %1.';
      Text032@1017 : TextConst 'ENU=%1 must not be greater than the sum of %2 and %3.;ESM=%1 no debe ser superior a la suma de %2 y %3.;FRC=%1 ne doit pas àtre supÇrieur Ö la somme de %2 et de %3.;ENC=%1 must not be greater than the sum of %2 and %3.';
      Text033@1078 : TextConst 'ENU="Warehouse ";ESM="AlmacÇn ";FRC="Entrepìt ";ENC="Warehouse "';
      Text034@1079 : TextConst 'ENU="Inventory ";ESM="Inventario ";FRC="Inventaire ";ENC="Inventory "';
      Text035@1048 : TextConst 'ENU=%1 units for %2 %3 have already been returned or transferred. Therefore, only %4 units can be returned.;ESM=%1 unidades para el %2 %3 ya se han devuelto o transferido. Por lo tanto, s¢lo se pueden devolver %4 unidades.;FRC=%1 unitÇs de %2 %3 ont dÇjÖ ÇtÇ retournÇes ou transfÇrÇes. Aussi, seulement %4 unitÇs peuvent àtre retournÇes.;ENC=%1 units for %2 %3 have already been returned or transferred. Therefore, only %4 units can be returned.';
      Text037@1082 : TextConst 'ENU=cannot be %1.;ESM=no puede ser %1.;FRC=ne peut àtre %1.;ENC=cannot be %1.';
      Text038@1083 : TextConst 'ENU=cannot be less than %1.;ESM=no puede ser inferior a %1.;FRC=ne peut àtre infÇrieur Ö %1.;ENC=cannot be less than %1.';
      Text039@1084 : TextConst 'ENU=cannot be more than %1.;ESM=no puede ser superior a %1.;FRC=ne peut àtre supÇrieur Ö %1.;ENC=cannot be more than %1.';
      Text040@1090 : TextConst 'ENU=You must use form %1 to enter %2, if item tracking is used.;ESM=Utilice el formulario %1 para insertar %2, si se utiliza el seguimiento de productos.;FRC=Si on utilise la traáabilitÇ, vous devez vous servir du formulaire %1 pour entrer %2.;ENC=You must use form %1 to enter %2, if item tracking is used.';
      ItemChargeAssignmentErr@1097 : TextConst 'ENU=You can only assign Item Charges for Line Types of Charge (Item).;ESM=Solo puede asignar cargos de producto a los tipos de cargo de l°nea (producto).;FRC=Vous pouvez uniquement affecter des frais annexes pour les types de ligne de frais (article).;ENC=You can only assign Item Charges for Line Types of Charge (Item).';
      Text99000000@1021 : TextConst 'ENU=You cannot change %1 when the purchase order is associated to a production order.;ESM=No puede cambiar %1 cuando el pedido de compra est† asociado a una O.P.;FRC=Vous ne pouvez modifier %1 lorsque le bon de commande est associÇ Ö un bon de production.;ENC=You cannot change %1 when the purchase order is associated to a production order.';
      PurchHeader@1022 : Record 38;
      PurchLine2@1023 : Record 39;
      GLAcc@1025 : Record 15;
      Currency@1027 : Record 4;
      CurrExchRate@1028 : Record 330;
      VATPostingSetup@1034 : Record 325;
      GenBusPostingGrp@1039 : Record 250;
      GenProdPostingGrp@1040 : Record 251;
      UnitOfMeasure@1043 : Record 204;
      ItemCharge@1044 : Record 5800;
      SKU@1046 : Record 5700;
      WorkCenter@1047 : Record 99000754;
      InvtSetup@1050 : Record 313;
      Location@1051 : Record 14;
      GLSetup@1074 : Record 98;
      CalChange@1062 : Record 7602;
      TempJobJnlLine@1071 : TEMPORARY Record 210;
      VendorLocation@1400000 : Record 10013;
      TaxArea@1400001 : Record 318;
      PurchSetup@1095 : Record 312;
      SalesTaxCalculate@1057 : Codeunit 398;
      ReservEngineMgt@1058 : Codeunit 99000831;
      ReservePurchLine@1059 : Codeunit 99000834;
      UOMMgt@1060 : Codeunit 5402;
      AddOnIntegrMgt@1061 : Codeunit 5403;
      DimMgt@1064 : Codeunit 408;
      DistIntegration@1065 : Codeunit 5702;
      CatalogItemMgt@1066 : Codeunit 5703;
      WhseValidateSourceLine@1067 : Codeunit 5777;
      LeadTimeMgt@1069 : Codeunit 5404;
      PurchPriceCalcMgt@1030 : Codeunit 7010;
      CalendarMgmt@1032 : Codeunit 7600;
      CheckDateConflict@1013 : Codeunit 99000815;
      DeferralUtilities@1081 : Codeunit 1720;
      PostingSetupMgt@1031 : Codeunit 48;
      TrackingBlocked@1070 : Boolean;
      StatusCheckSuspended@1073 : Boolean;
      GLSetupRead@1075 : Boolean;
      UnitCostCurrency@1063 : Decimal;
      UpdateFromVAT@1087 : Boolean;
      Text042@1088 : TextConst 'ENU=You cannot return more than the %1 units that you have received for %2 %3.;ESM=No puede devolver m†s de las %1 unidades recibidas para el %2 %3.;FRC=Vous ne pouvez pas retourner plus que les %1 unitÇs que vous avez reáues pour %2 %3.;ENC=You cannot return more than the %1 units that you have received for %2 %3.';
      Text043@1089 : TextConst 'ENU=must be positive when %1 is not 0.;ESM=debe ser positivo cuando %1 no es 0.;FRC=doit àtre positif lorsque %1 n''est pas 0.;ENC=must be positive when %1 is not 0.';
      Text044@1080 : TextConst 'ENU=You cannot change %1 because this purchase order is associated with %2 %3.;ESM=No se puede modificar %1 porque este pedido de compra est† asociado con %2 %3.;FRC=Vous ne pouvez pas modifier %1 car ce bon de commande est associÇ avec %2 %3.;ENC=You cannot change %1 because this purchase order is associated with %2 %3.';
      Text046@1091 : TextConst '@@@=%1 - product name;ENU=%3 will not update %1 when changing %2 because a prepayment invoice has been posted. Do you want to continue?;ESM=%3 no actualizar† %1 al cambiar %2 porque se ha registrado una factura de anticipo. ®Desea continuar?;FRC=%3 ne mettra pas Ö jour %1 si vous modifiez %2 car une facture de paiement anticipÇ a ÇtÇ reportÇe. “tes-vous certain de vouloir continuer?;ENC=%3 will not update %1 when changing %2 because a prepayment invoice has been posted. Do you want to continue?';
      Text047@1092 : TextConst 'ENU=%1 can only be set when %2 is set.;ESM=Solo se puede establecer %1 cuando se establece %2.;FRC=%1 ne peut àtre dÇterminÇ que si %2 est dÇfini.;ENC=%1 can only be set when %2 is set.';
      Text048@1093 : TextConst 'ENU=%1 cannot be changed when %2 is set.;ESM=%1 no se puede cambiar cuando se establece %2.;FRC=%1 ne peut pas àtre modifiÇ si %2 est dÇfini.;ENC=%1 cannot be changed when %2 is set.';
      PrePaymentLineAmountEntered@1042 : Boolean;

      Text049@1085 : TextConst
        'ENU=You have changed one or more dimensions on the %1, which is already shipped. When you post the line with the changed dimension to General Ledger, amounts on the Inventory Interim account will be out of balance when reported per dimension.\\Do you want to keep the changed dimension?',
        'ESM=Ha modificado una o varias dimensiones de %1, que ya se ha enviado. Al registrar la l°nea con la dimensi¢n modificada en la contabilidad, los importes de la cuenta provisional de inventario no cuadrar†n cuando se notifiquen por dimensi¢n.\\®Desea conservar la dimensi¢n modificada?',
        'FRC=Vous avez modifiÇ une ou plusieurs dimensions dans %1, qui a dÇjÖ ÇtÇ livrÇ. Lorsque vous reportez la ligne avec la dimension modifiÇe dans le grand livre, les montants du compte provisoire inventaire sont hors balance si un Çtat est gÇnÇrÇ par dimension.\\Voulez-vous conserver la dimension modifiÇeˇ?',
        'ENC=You have changed one or more dimensions on the %1, which is already shipped. When you post the line with the changed dimension to General Ledger, amounts on the Inventory Interim account will be out of balance when reported per dimension.\\Do you want to keep the changed dimension?';
      Text050@1086 : TextConst 'ENU=Canceled.;ESM=Cancelado.;FRC=AnnulÇ.;ENC=Cancelled.';
      Text051@1012 : TextConst 'ENU=must have the same sign as the receipt;ESM=debe tener el mismo signo que la recepci¢n;FRC=doit avoir le màme signe que la rÇception;ENC=must have the same sign as the receipt';
      Text052@1053 : TextConst 'ENU=The quantity that you are trying to invoice is greater than the quantity in receipt %1.;ESM=La cantidad que est† intentando facturar es mayor que la de la recepci¢n %1.;FRC=La quantitÇ que vous tentez de facturer est supÇrieure Ö la quantitÇ de la rÇception %1.;ENC=The quantity that you are trying to invoice is greater than the quantity in receipt %1.';
      Text053@1054 : TextConst 'ENU=must have the same sign as the return shipment;ESM=debe tener el mismo signo que el env°o devoluci¢n;FRC=doit avoir le màme signe que la livraison retour;ENC=must have the same sign as the return shipment';
      Text054@1055 : TextConst 'ENU=The quantity that you are trying to invoice is greater than the quantity in return shipment %1.;ESM=La cantidad que est† intentando facturar es mayor que la cantidad del env°o de devoluci¢n %1.;FRC=La quantitÇ que vous tentez de facturer est supÇrieure Ö la quantitÇ de la livraison retour %1.;ENC=The quantity that you are trying to invoice is greater than the quantity in return shipment %1.';
      Text1020002@1020002 : TextConst 'ENU=Operation canceled to preserve Tax Differences.;ESM=Operaci¢n cancel. para conservar imptos. anticip.;FRC=OpÇration annulÇe pour conserver les diffÇrences liÇes aux taxes.;ENC=Operation cancelled to preserve Tax Differences.';
      Text1020001@1020001 : TextConst 'ENU=This operation will remove the Tax Differences that were previously entered. Are you sure you want to continue?;ESM=Esta operaci¢n eliminar† los impuestos anticipados anteriormente insertados. ®Desea continuar?;FRC=Cette opÇration aura pour effet de supprimer les diffÇrences de taxes dÇfinies au prÇalable. Voulez-vous vraiment continuer?;ENC=This operation will remove the Tax Differences that were previously entered. Are you sure you want to continue?';
      Text1020000@1020000 : TextConst 'ENU=You must reopen the document since this will affect Sales Tax.;ESM=Debe volver a abrir el documento ya que esto afectar† al impto. ventas.;FRC=Vous devez ouvrir le document de nouveau car cette opÇration affectera la taxe de vente.;ENC=You must reopen the document since this will affect Sales Tax.';
      USText001@1020007 : TextConst 'ENU=You have added a %1, which will result in a Tax Entry being posted to record the amount of Sales Tax you will owe your Province as a result of this purchase. Are you sure you want to do this?;ESM=Ha agregado un %1, que arrojar† una Entrada de impuesto que se registrar† para anotar el monto de Impuesto de ventas que adeudar† a la Provincia como resultado de esta compra. ®Est† seguro de que desea hacer esto?;FRC=L''ajout de %1 entraånera le report d''une Çcriture de taxe pour enregistrer la taxe de vente due Ö la province pour cet achat. “tes-vous sñr de vouloir effectuer cette opÇration ?;ENC=You have added a %1, which will result in a Tax Entry being posted to record the amount of Sales Tax you will owe your Province as a result of this purchase. Are you sure you want to do this?';
      Text1020003@1020008 : TextConst 'ENU=The %1 field in the %2 used on the %3 must match the %1 field in the %2 used on the %4.;ESM=El campo %1 en %2 usado en %3 debe coincidir con el campo %1 en %2 usado en %4.;FRC=Le champ %1 dans %2 utilisÇ sur %3 doit correspondre au champ %1 dans %2 utilisÇ sur %4.;ENC=The %1 field in the %2 used on the %3 must match the %1 field in the %2 used on the %4.';
      Text10100@1030000 : TextConst 'ENU=Acquisition can only be selected for type Fixed Asset or G/L Account.;ESM=S¢lo se puede seleccionar la adquisici¢n para los tipos Activo fijo o Cuenta.;FRC=Acquisition ne peut àtre sÇlectionnÇ que pour le type Immobilisation ou Compte du grand livre.;ENC=Acquisition can only be selected for type Fixed Asset or G/L Account.';
      Text1020005@1020005 : TextConst '@@@="starts with a field name; %1 - numeric value";ENU=must be %1 when the Prepayment Invoice has already been posted;ESM=debe ser %1 cuando la factura de prepago ya se haya registrado;FRC=doit àtre %1 si la facture pour paiement anticipÇ a dÇjÖ ÇtÇ reportÇe;ENC=must be %1 when the Prepayment Invoice has already been posted';
      AnotherItemWithSameDescrQst@1033 : TextConst '@@@="%1=Item no., %2=item description";ENU=Item No. %1 also has the description "%2".\Do you want to change the current item no. to %1?;ESM=El producto n.ß %1 tambiÇn tiene la descripci¢n "%2".\®Quiere cambiar el n.ß del producto actual a %1?;FRC=L''article n¯ %1 possäde Çgalement la description Æˇ%2ˇØ.\Souhaitez-vous modifier le numÇro d''article actuel en %1ˇ?;ENC=Item No. %1 also has the description "%2".\Do you want to change the current item no. to %1?';
      AnotherChargeItemWithSameDescQst@1029 : TextConst '@@@="%1=Item charge no., %2=item charge description";ENU=Item charge No. %1 also has the description "%2".\Do you want to change the current item charge no. to %1?;ESM=El n.ß de cargo de producto %1 tambiÇn tiene la descripci¢n "%2".\®Desea cambiar el n.ß de cargo del producto actual a %1?;FRC=Le frais annexe n¯ %1 possäde Çgalement la description Æˇ%2ˇØ.\Souhaitez-vous remplacer le numÇro du frais annexe actuel par %1ˇ?;ENC=Item charge No. %1 also has the description "%2".\Do you want to change the current item charge no. to %1?';
      PurchSetupRead@1096 : Boolean;
      CannotFindDescErr@1035 : TextConst '@@@="%1 = Type caption %2 = Description";ENU=Cannot find %1 with Description %2.\\Make sure to use the correct type.;ESM=No se encuentra %1 con la descripci¢n %2.\\Aseg£rese de usar el tipo correcto.;FRC=Impossible de trouver %1 avec la description %2.\\VÇrifiez que vous utilisez le type correct.;ENC=Cannot find %1 with Description %2.\\Make sure to use the correct type.';
      CommentLbl@1024 : TextConst 'ENU=Comment;ESM=Comentario;FRC=Commentaire;ENC=Comment';
      LineDiscountPctErr@1036 : TextConst 'ENU=The value in the Line Discount % field must be between 0 and 100.;ESM=El valor en el campo % Descuento l°nea debe ser entre 0 y 100.;FRC=La valeur du champ % escompte ligne doit àtre comprise entre 0 et 100.;ENC=The value in the Line Discount % field must be between 0 and 100.';
      PurchasingBlockedErr@1037 : TextConst 'ENU=You cannot purchase this item because the Purchasing Blocked check box is selected on the item card.;ESM=No puede comprar este producto porque la casilla Compras bloqueadas est† seleccionada en la ficha de producto.;FRC=Vous ne pouvez pas acheter cet article, car la case Ö cocher Achat bloquÇ est activÇe sur la fiche article.;ENC=You cannot purchase this item because the Purchasing Blocked check box is selected on the item card.';
      CannotChangePrepaidServiceChargeErr@1038 : TextConst 'ENU=You cannot change the line because it will affect service charges that are already invoiced as part of a prepayment.;ESM=No puede cambiar la l°nea porque afectar† a los cargos por servicios que ya se han facturado como parte de un anticipo.;FRC=Vous ne pouvez pas modifier la ligne, car elle affectera les frais de service qui sont dÇjÖ facturÇs dans le cadre d''un paiement anticipÇ.;ENC=You cannot change the line because it will affect service charges that are already invoiced as part of a prepayment.';

    [External]
    PROCEDURE InitOutstanding@16();
    BEGIN
      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN BEGIN
        "Outstanding Quantity" := Quantity - "Return Qty. Shipped";
        "Outstanding Qty. (Base)" := "Quantity (Base)" - "Return Qty. Shipped (Base)";
        "Return Qty. Shipped Not Invd." := "Return Qty. Shipped" - "Quantity Invoiced";
        "Ret. Qty. Shpd Not Invd.(Base)" := "Return Qty. Shipped (Base)" - "Qty. Invoiced (Base)";
      END ELSE BEGIN
        "Outstanding Quantity" := Quantity - "Quantity Received";
        "Outstanding Qty. (Base)" := "Quantity (Base)" - "Qty. Received (Base)";
        "Qty. Rcd. Not Invoiced" := "Quantity Received" - "Quantity Invoiced";
        "Qty. Rcd. Not Invoiced (Base)" := "Qty. Received (Base)" - "Qty. Invoiced (Base)";
      END;

      OnAfterInitOutstandingQty(Rec);
      "Completely Received" := (Quantity <> 0) AND ("Outstanding Quantity" = 0);
      InitOutstandingAmount;
    END;

    [External]
    PROCEDURE InitOutstandingAmount@19();
    VAR
      AmountInclVAT@1000 : Decimal;
    BEGIN
      IF Quantity = 0 THEN BEGIN
        "Outstanding Amount" := 0;
        "Outstanding Amount (LCY)" := 0;
        "Outstanding Amt. Ex. VAT (LCY)" := 0;
        "Amt. Rcd. Not Invoiced" := 0;
        "Amt. Rcd. Not Invoiced (LCY)" := 0;
        "Return Shpd. Not Invd." := 0;
        "Return Shpd. Not Invd. (LCY)" := 0;
      END ELSE BEGIN
        GetPurchHeader;
        IF PurchHeader."Prices Including VAT" THEN
          AmountInclVAT := "Line Amount" - "Inv. Discount Amount"
        ELSE
          IF "VAT Calculation Type" = "VAT Calculation Type"::"Sales Tax" THEN BEGIN
            IF NOT "Tax Liable" THEN
              "Tax To Be Expensed" := 0;
            IF "Use Tax" THEN
              AmountInclVAT := CalcLineAmount
            ELSE
              AmountInclVAT :=
                CalcLineAmount +
                ROUND(
                  SalesTaxCalculate.CalculateTax(
                    "Tax Area Code","Tax Group Code","Tax Liable",PurchHeader."Posting Date",
                    CalcLineAmount,"Quantity (Base)",PurchHeader."Currency Factor"),
                  Currency."Amount Rounding Precision")
          END ELSE
            AmountInclVAT :=
              ROUND(
                CalcLineAmount * (1 + "VAT %" / 100 * (1 - PurchHeader."VAT Base Discount %" / 100)),
                Currency."Amount Rounding Precision");
        VALIDATE(
          "Outstanding Amount",
          ROUND(
            AmountInclVAT * "Outstanding Quantity" / Quantity,
            Currency."Amount Rounding Precision"));
        IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
          VALIDATE(
            "Return Shpd. Not Invd.",
            ROUND(
              AmountInclVAT * "Return Qty. Shipped Not Invd." / Quantity,
              Currency."Amount Rounding Precision"))
        ELSE
          VALIDATE(
            "Amt. Rcd. Not Invoiced",
            ROUND(
              AmountInclVAT * "Qty. Rcd. Not Invoiced" / Quantity,
              Currency."Amount Rounding Precision"));
      END;

      OnAfterInitOutstandingAmount(Rec,xRec,PurchHeader,Currency);
    END;

    [External]
    PROCEDURE InitQtyToReceive@15();
    BEGIN
      GetPurchSetup;
      IF (PurchSetup."Default Qty. to Receive" = PurchSetup."Default Qty. to Receive"::Remainder) OR
         ("Document Type" = "Document Type"::Invoice)
      THEN BEGIN
        "Qty. to Receive" := "Outstanding Quantity";
        "Qty. to Receive (Base)" := "Outstanding Qty. (Base)";
      END ELSE
        IF "Qty. to Receive" <> 0 THEN
          "Qty. to Receive (Base)" := CalcBaseQty("Qty. to Receive");

      OnAfterInitQtyToReceive(Rec,CurrFieldNo);

      InitQtyToInvoice;
    END;

    [External]
    PROCEDURE InitQtyToShip@5803();
    BEGIN
      GetPurchSetup;
      IF (PurchSetup."Default Qty. to Receive" = PurchSetup."Default Qty. to Receive"::Remainder) OR
         ("Document Type" = "Document Type"::"Credit Memo")
      THEN BEGIN
        "Return Qty. to Ship" := "Outstanding Quantity";
        "Return Qty. to Ship (Base)" := "Outstanding Qty. (Base)";
      END ELSE
        IF "Return Qty. to Ship" <> 0 THEN
          "Return Qty. to Ship (Base)" := CalcBaseQty("Return Qty. to Ship");

      OnAfterInitQtyToShip(Rec,CurrFieldNo);

      InitQtyToInvoice;
    END;

    [External]
    PROCEDURE InitQtyToInvoice@13();
    BEGIN
      "Qty. to Invoice" := MaxQtyToInvoice;
      "Qty. to Invoice (Base)" := MaxQtyToInvoiceBase;
      "VAT Difference" := 0;
      CalcInvDiscToInvoice;
      IF PurchHeader."Document Type" <> PurchHeader."Document Type"::Invoice THEN
        CalcPrepaymentToDeduct;

      OnAfterInitQtyToInvoice(Rec,CurrFieldNo);
    END;

    LOCAL PROCEDURE InitItemAppl@46();
    BEGIN
      "Appl.-to Item Entry" := 0;
    END;

    LOCAL PROCEDURE InitHeaderDefaults@97(PurchHeader@1000 : Record 38);
    BEGIN
      PurchHeader.TESTFIELD("Buy-from Vendor No.");

      "Buy-from Vendor No." := PurchHeader."Buy-from Vendor No.";
      "Currency Code" := PurchHeader."Currency Code";
      "Expected Receipt Date" := PurchHeader."Expected Receipt Date";
      "Shortcut Dimension 1 Code" := PurchHeader."Shortcut Dimension 1 Code";
      "Shortcut Dimension 2 Code" := PurchHeader."Shortcut Dimension 2 Code";
      IF NOT IsNonInventoriableItem THEN
        "Location Code" := PurchHeader."Location Code";
      "Transaction Type" := PurchHeader."Transaction Type";
      "Transport Method" := PurchHeader."Transport Method";
      "Pay-to Vendor No." := PurchHeader."Pay-to Vendor No.";
      "Gen. Bus. Posting Group" := PurchHeader."Gen. Bus. Posting Group";
      "VAT Bus. Posting Group" := PurchHeader."VAT Bus. Posting Group";
      "Entry Point" := PurchHeader."Entry Point";
      Area := PurchHeader.Area;
      "Transaction Specification" := PurchHeader."Transaction Specification";
      "Tax Area Code" := PurchHeader."Tax Area Code";
      "Tax Liable" := PurchHeader."Tax Liable";
      "Provincial Tax Area Code" := PurchHeader."Provincial Tax Area Code";
      IF NOT "System-Created Entry" AND ("Document Type" = "Document Type"::Order) AND HasTypeToFillMandatoryFields OR
         IsServiceCharge
      THEN
        "Prepayment %" := PurchHeader."Prepayment %";
      "Prepayment Tax Area Code" := PurchHeader."Tax Area Code";
      "Prepayment Tax Liable" := PurchHeader."Tax Liable";
      "Responsibility Center" := PurchHeader."Responsibility Center";
      "IRS 1099 Liable" := (PurchHeader."IRS 1099 Code" <> '');
      "Requested Receipt Date" := PurchHeader."Requested Receipt Date";
      "Promised Receipt Date" := PurchHeader."Promised Receipt Date";
      "Inbound Whse. Handling Time" := PurchHeader."Inbound Whse. Handling Time";
      "Order Date" := PurchHeader."Order Date";

      OnAfterInitHeaderDefaults(Rec,PurchHeader);
    END;

    [External]
    PROCEDURE MaxQtyToInvoice@18() : Decimal;
    BEGIN
      IF "Prepayment Line" THEN
        EXIT(1);
      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
        EXIT("Return Qty. Shipped" + "Return Qty. to Ship" - "Quantity Invoiced");

      EXIT("Quantity Received" + "Qty. to Receive" - "Quantity Invoiced");
    END;

    [External]
    PROCEDURE MaxQtyToInvoiceBase@17() : Decimal;
    BEGIN
      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
        EXIT("Return Qty. Shipped (Base)" + "Return Qty. to Ship (Base)" - "Qty. Invoiced (Base)");

      EXIT("Qty. Received (Base)" + "Qty. to Receive (Base)" - "Qty. Invoiced (Base)");
    END;

    [External]
    PROCEDURE CalcInvDiscToInvoice@33();
    VAR
      OldInvDiscAmtToInv@1000 : Decimal;
    BEGIN
      GetPurchHeader;
      OldInvDiscAmtToInv := "Inv. Disc. Amount to Invoice";
      IF Quantity = 0 THEN
        VALIDATE("Inv. Disc. Amount to Invoice",0)
      ELSE
        VALIDATE(
          "Inv. Disc. Amount to Invoice",
          ROUND(
            "Inv. Discount Amount" * "Qty. to Invoice" / Quantity,
            Currency."Amount Rounding Precision"));

      IF OldInvDiscAmtToInv <> "Inv. Disc. Amount to Invoice" THEN BEGIN
        "Amount Including VAT" := "Amount Including VAT" - "VAT Difference";
        "VAT Difference" := 0;
      END;
    END;

    LOCAL PROCEDURE CalcBaseQty@14(Qty@1000 : Decimal) : Decimal;
    BEGIN
      IF "Prod. Order No." = '' THEN
        TESTFIELD("Qty. per Unit of Measure");
      EXIT(ROUND(Qty * "Qty. per Unit of Measure",0.00001));
    END;

    [External]
    PROCEDURE CalcLineAmount@163() : Decimal;
    BEGIN
      EXIT("Line Amount" - "Inv. Discount Amount");
    END;

    LOCAL PROCEDURE CopyFromStandardText@95();
    VAR
      StandardText@1000 : Record 7;
    BEGIN
      "Tax Area Code" := '';
      "Tax Liable" := FALSE;
      StandardText.GET("No.");
      Description := StandardText.Description;
      "Allow Item Charge Assignment" := FALSE;
      OnAfterAssignStdTxtValues(Rec,StandardText);
    END;

    LOCAL PROCEDURE CopyFromGLAccount@96();
    BEGIN
      GLAcc.GET("No.");
      GLAcc.CheckGLAcc;
      IF NOT "System-Created Entry" THEN
        GLAcc.TESTFIELD("Direct Posting",TRUE);
      Description := GLAcc.Name;
      "Gen. Prod. Posting Group" := GLAcc."Gen. Prod. Posting Group";
      "VAT Prod. Posting Group" := GLAcc."VAT Prod. Posting Group";
      "Tax Group Code" := GLAcc."Tax Group Code";
      "Allow Invoice Disc." := FALSE;
      "Allow Item Charge Assignment" := FALSE;
      InitDeferralCode;
      OnAfterAssignGLAccountValues(Rec,GLAcc);
    END;

    LOCAL PROCEDURE CopyFromItem@100();
    VAR
      Item@1001 : Record 27;
      PrepaymentMgt@1000 : Codeunit 441;
    BEGIN
      GetItem(Item);
      GetGLSetup;
      Item.TESTFIELD(Blocked,FALSE);
      Item.TESTFIELD("Gen. Prod. Posting Group");
      IF Item."Purchasing Blocked" THEN
        ERROR(PurchasingBlockedErr);
      IF Item.Type = Item.Type::Inventory THEN BEGIN
        Item.TESTFIELD("Inventory Posting Group");
        "Posting Group" := Item."Inventory Posting Group";
      END;
      Description := Item.Description;
      "Description 2" := Item."Description 2";
      "Unit Price (LCY)" := Item."Unit Price";
      "Units per Parcel" := Item."Units per Parcel";
      "Indirect Cost %" := Item."Indirect Cost %";
      "Overhead Rate" := Item."Overhead Rate";
      "Allow Invoice Disc." := Item."Allow Invoice Disc.";
      "Gen. Prod. Posting Group" := Item."Gen. Prod. Posting Group";
      "VAT Prod. Posting Group" := Item."VAT Prod. Posting Group";
      "Tax Group Code" := Item."Tax Group Code";
      Nonstock := Item."Created From Nonstock Item";
      "Item Category Code" := Item."Item Category Code";
      "Allow Item Charge Assignment" := TRUE;
      PrepaymentMgt.SetPurchPrepaymentPct(Rec,PurchHeader."Posting Date");
      IF Item.Type = Item.Type::Inventory THEN
        PostingSetupMgt.CheckInvtPostingSetupInventoryAccount("Location Code","Posting Group");

      IF Item."Price Includes VAT" THEN BEGIN
        IF NOT VATPostingSetup.GET(Item."VAT Bus. Posting Gr. (Price)",Item."VAT Prod. Posting Group") THEN
          VATPostingSetup.INIT;
        CASE VATPostingSetup."VAT Calculation Type" OF
          VATPostingSetup."VAT Calculation Type"::"Reverse Charge VAT":
            VATPostingSetup."VAT %" := 0;
          VATPostingSetup."VAT Calculation Type"::"Sales Tax":
            ERROR(
              Text002,
              VATPostingSetup.FIELDCAPTION("VAT Calculation Type"),
              VATPostingSetup."VAT Calculation Type");
        END;
        "Unit Price (LCY)" :=
          ROUND("Unit Price (LCY)" / (1 + VATPostingSetup."VAT %" / 100),
            GLSetup."Unit-Amount Rounding Precision");
      END;

      IF PurchHeader."Language Code" <> '' THEN
        GetItemTranslation;

      "Unit of Measure Code" := Item."Purch. Unit of Measure";
      InitDeferralCode;
      OnAfterAssignItemValues(Rec,Item);
    END;

    LOCAL PROCEDURE CopyFromFixedAsset@101();
    VAR
      FixedAsset@1000 : Record 5600;
    BEGIN
      FixedAsset.GET("No.");
      FixedAsset.TESTFIELD(Inactive,FALSE);
      FixedAsset.TESTFIELD(Blocked,FALSE);
      GetFAPostingGroup;
      Description := FixedAsset.Description;
      "Description 2" := FixedAsset."Description 2";
      "Allow Invoice Disc." := FALSE;
      "Allow Item Charge Assignment" := FALSE;
      "GST/HST" := "GST/HST"::Acquisition;
      OnAfterAssignFixedAssetValues(Rec,FixedAsset);
    END;

    LOCAL PROCEDURE CopyFromItemCharge@107();
    BEGIN
      ItemCharge.GET("No.");
      Description := ItemCharge.Description;
      "Gen. Prod. Posting Group" := ItemCharge."Gen. Prod. Posting Group";
      "VAT Prod. Posting Group" := ItemCharge."VAT Prod. Posting Group";
      "Tax Group Code" := ItemCharge."Tax Group Code";
      "Allow Invoice Disc." := FALSE;
      "Allow Item Charge Assignment" := FALSE;
      "Indirect Cost %" := 0;
      "Overhead Rate" := 0;
      OnAfterAssignItemChargeValues(Rec,ItemCharge);
    END;

    LOCAL PROCEDURE SelectItemEntry@7();
    VAR
      ItemLedgEntry@1001 : Record 32;
    BEGIN
      TESTFIELD("Prod. Order No.",'');
      ItemLedgEntry.SETCURRENTKEY("Item No.",Open);
      ItemLedgEntry.SETRANGE("Item No.","No.");
      ItemLedgEntry.SETRANGE(Open,TRUE);
      ItemLedgEntry.SETRANGE(Positive,TRUE);
      IF "Location Code" <> '' THEN
        ItemLedgEntry.SETRANGE("Location Code","Location Code");
      ItemLedgEntry.SETRANGE("Variant Code","Variant Code");

      IF PAGE.RUNMODAL(PAGE::"Item Ledger Entries",ItemLedgEntry) = ACTION::LookupOK THEN
        VALIDATE("Appl.-to Item Entry",ItemLedgEntry."Entry No.");
    END;

    [External]
    PROCEDURE SetPurchHeader@12(NewPurchHeader@1000 : Record 38);
    BEGIN
      PurchHeader := NewPurchHeader;

      IF PurchHeader."Currency Code" = '' THEN
        Currency.InitRoundingPrecision
      ELSE BEGIN
        PurchHeader.TESTFIELD("Currency Factor");
        Currency.GET(PurchHeader."Currency Code");
        Currency.TESTFIELD("Amount Rounding Precision");
      END;
    END;

    LOCAL PROCEDURE GetPurchHeader@1();
    BEGIN
      TESTFIELD("Document No.");
      IF ("Document Type" <> PurchHeader."Document Type") OR ("Document No." <> PurchHeader."No.") THEN BEGIN
        PurchHeader.GET("Document Type","Document No.");
        IF PurchHeader."Currency Code" = '' THEN
          Currency.InitRoundingPrecision
        ELSE BEGIN
          PurchHeader.TESTFIELD("Currency Factor");
          Currency.GET(PurchHeader."Currency Code");
          Currency.TESTFIELD("Amount Rounding Precision");
        END;
      END;
    END;

    LOCAL PROCEDURE GetItem@4(VAR Item@1000 : Record 27);
    BEGIN
      TESTFIELD("No.");
      Item.GET("No.");
    END;

    [External]
    PROCEDURE UpdateDirectUnitCost@2(CalledByFieldNo@1000 : Integer);
    VAR
      IsHandled@1001 : Boolean;
    BEGIN
      IsHandled := FALSE;
      OnBeforeUpdateDirectUnitCost(Rec,xRec,CalledByFieldNo,CurrFieldNo,IsHandled);
      IF IsHandled THEN
        EXIT;

      IF (CurrFieldNo <> 0) AND ("Prod. Order No." <> '') THEN
        UpdateAmounts;

      IF ((CalledByFieldNo <> CurrFieldNo) AND (CurrFieldNo <> 0)) OR
         ("Prod. Order No." <> '')
      THEN
        EXIT;

      IF Type = Type::Item THEN BEGIN
        GetPurchHeader;
        IsHandled := FALSE;
        OnUpdateDirectUnitCostOnBeforeFindPrice(PurchHeader,Rec,CalledByFieldNo,CurrFieldNo,IsHandled);
        IF NOT IsHandled THEN
          PurchPriceCalcMgt.FindPurchLinePrice(PurchHeader,Rec,CalledByFieldNo);
        IF NOT ("Copied From Posted Doc." AND IsCreditDocType) THEN
          PurchPriceCalcMgt.FindPurchLineLineDisc(PurchHeader,Rec);
        VALIDATE("Direct Unit Cost");

        IF CalledByFieldNo IN [FIELDNO("No."),FIELDNO("Variant Code"),FIELDNO("Location Code")] THEN
          UpdateItemReference;
      END;

      OnAfterUpdateDirectUnitCost(Rec,xRec,CalledByFieldNo,CurrFieldNo);
    END;

    [External]
    PROCEDURE UpdateUnitCost@5();
    VAR
      Item@1001 : Record 27;
      DiscountAmountPerQty@1000 : Decimal;
    BEGIN
      GetPurchHeader;
      GetGLSetup;
      IF Quantity = 0 THEN
        DiscountAmountPerQty := 0
      ELSE
        DiscountAmountPerQty :=
          ROUND(("Line Discount Amount" + "Inv. Discount Amount") / Quantity,
            GLSetup."Unit-Amount Rounding Precision");

      IF "VAT Calculation Type" = "VAT Calculation Type"::"Full VAT" THEN
        "Unit Cost" := 0
      ELSE
        IF PurchHeader."Prices Including VAT" THEN
          "Unit Cost" :=
            ("Direct Unit Cost" - DiscountAmountPerQty) * (1 + "Indirect Cost %" / 100) / (1 + "VAT %" / 100) +
            GetOverheadRateFCY - "VAT Difference"
        ELSE
          "Unit Cost" :=
            ("Direct Unit Cost" - DiscountAmountPerQty) * (1 + "Indirect Cost %" / 100) +
            GetOverheadRateFCY;

      IF PurchHeader."Currency Code" <> '' THEN BEGIN
        PurchHeader.TESTFIELD("Currency Factor");
        "Unit Cost (LCY)" :=
          CurrExchRate.ExchangeAmtFCYToLCY(
            GetDate,"Currency Code",
            "Unit Cost",PurchHeader."Currency Factor");
      END ELSE
        "Unit Cost (LCY)" := "Unit Cost";

      IF (Type = Type::Item) AND ("Prod. Order No." = '') THEN BEGIN
        GetItem(Item);
        IF Item."Costing Method" = Item."Costing Method"::Standard THEN BEGIN
          IF GetSKU THEN
            "Unit Cost (LCY)" := SKU."Unit Cost" * "Qty. per Unit of Measure"
          ELSE
            "Unit Cost (LCY)" := Item."Unit Cost" * "Qty. per Unit of Measure";
        END;
      END;

      "Unit Cost (LCY)" := ROUND("Unit Cost (LCY)",GLSetup."Unit-Amount Rounding Precision");
      IF PurchHeader."Currency Code" <> '' THEN
        Currency.TESTFIELD("Unit-Amount Rounding Precision");
      "Unit Cost" := ROUND("Unit Cost",Currency."Unit-Amount Rounding Precision");

      OnAfterUpdateUnitCost(Rec,xRec,PurchHeader,Item,SKU,Currency,GLSetup);

      UpdateSalesCost;

      IF JobTaskIsSet AND NOT UpdateFromVAT AND NOT "Prepayment Line" THEN BEGIN
        CreateTempJobJnlLine(FALSE);
        TempJobJnlLine.VALIDATE("Unit Cost (LCY)","Unit Cost (LCY)");
        UpdateJobPrices;
      END;
    END;

    [External]
    PROCEDURE UpdateAmounts@3();
    VAR
      PurchCrMemoHeader@1001 : Record 124;
      RemLineAmountToInvoice@1000 : Decimal;
      VATBaseAmount@1003 : Decimal;
      LineAmountChanged@1002 : Boolean;
    BEGIN
      IF Type = Type::" " THEN
        EXIT;
      GetPurchHeader;

      VATBaseAmount := "Amount Including VAT";
      "Recalculate Invoice Disc." := TRUE;

      IF "Line Amount" <> xRec."Line Amount" THEN BEGIN
        "VAT Difference" := 0;
        LineAmountChanged := TRUE;
      END;
      IF "Line Amount" <> ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") - "Line Discount Amount" THEN BEGIN
        "Line Amount" :=
          ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") - "Line Discount Amount";
        "VAT Difference" := 0;
        LineAmountChanged := TRUE;
      END;

      IF PurchHeader.Status = PurchHeader.Status::Released THEN
        IF PurchHeader."Tax Area Code" = '' THEN
          UpdateVATAmounts
        ELSE
          IF CurrFieldNo <> 0 THEN
            ERROR(Text1020002);
      IF (CurrFieldNo <> 0) AND ("Tax Area Code" <> '') THEN
        CheckForTaxDifferences;

      IF (("Tax Group Code" = '') AND (xRec."Tax Group Code" <> ''))
         OR (("Tax Area Code" = '') AND (xRec."Tax Area Code" <> '')) THEN
      BEGIN
        Amount := 0;
        "Amount Including VAT" := 0;
      END;

      IF NOT "Prepayment Line" THEN BEGIN
        IF "Prepayment %" <> 0 THEN BEGIN
          IF Quantity < 0 THEN
            FIELDERROR(Quantity,STRSUBSTNO(Text043,FIELDCAPTION("Prepayment %")));
          IF "Direct Unit Cost" < 0 THEN
            FIELDERROR("Direct Unit Cost",STRSUBSTNO(Text043,FIELDCAPTION("Prepayment %")));
        END;
        IF PurchHeader."Document Type" <> PurchHeader."Document Type"::Invoice THEN BEGIN
          "Prepayment VAT Difference" := 0;
          IF NOT PrePaymentLineAmountEntered THEN
            "Prepmt. Line Amount" := ROUND("Line Amount" * "Prepayment %" / 100,Currency."Amount Rounding Precision");
          IF "Prepmt. Line Amount" < "Prepmt. Amt. Inv." THEN BEGIN
            IF IsServiceCharge THEN
              ERROR(CannotChangePrepaidServiceChargeErr);
            FIELDERROR("Prepmt. Line Amount",STRSUBSTNO(Text037,"Prepmt. Amt. Inv."));
          END;
          PrePaymentLineAmountEntered := FALSE;
          IF "Prepmt. Line Amount" <> 0 THEN BEGIN
            RemLineAmountToInvoice :=
              ROUND("Line Amount" * (Quantity - "Quantity Invoiced") / Quantity,Currency."Amount Rounding Precision");
            IF RemLineAmountToInvoice < ("Prepmt. Line Amount" - "Prepmt Amt Deducted") THEN
              FIELDERROR("Prepmt. Line Amount",STRSUBSTNO(Text039,RemLineAmountToInvoice + "Prepmt Amt Deducted"));
          END;
        END ELSE
          IF (CurrFieldNo <> 0) AND ("Line Amount" <> xRec."Line Amount") AND
             ("Prepmt. Amt. Inv." <> 0) AND ("Prepayment %" = 100)
          THEN BEGIN
            IF "Line Amount" < xRec."Line Amount" THEN
              FIELDERROR("Line Amount",STRSUBSTNO(Text038,xRec."Line Amount"));
            FIELDERROR("Line Amount",STRSUBSTNO(Text039,xRec."Line Amount"));
          END;
      END;

      OnAfterUpdateAmounts(Rec,xRec,CurrFieldNo);

      UpdateVATAmounts;
      IF VATBaseAmount <> "Amount Including VAT" THEN
        LineAmountChanged := TRUE;

      IF LineAmountChanged THEN BEGIN
        UpdateDeferralAmounts;
        LineAmountChanged := FALSE;
      END;

      InitOutstandingAmount;

      IF Type = Type::"Charge (Item)" THEN
        UpdateItemChargeAssgnt;

      IF (Quantity < xRec.Quantity) AND ("Prepmt. Amt. Inv." <> 0) THEN BEGIN
        PurchCrMemoHeader.SETCURRENTKEY("Prepayment Order No.");
        PurchCrMemoHeader.SETRANGE("Prepayment Order No.","Document No.");
        IF PurchCrMemoHeader.FINDFIRST THEN BEGIN
          PurchCrMemoHeader.CALCFIELDS(Amount);
          IF ("Prepmt. Amt. Inv." <> 0) AND ("Prepayment %" <> 0) THEN
            IF "Line Amount" <> xRec."Line Amount" - PurchCrMemoHeader.Amount * 100 / "Prepayment %" THEN
              FIELDERROR("Line Amount",STRSUBSTNO(Text1020005,xRec."Line Amount"));
        END;
      END;
      CalcPrepaymentToDeduct;

      OnAfterUpdateAmountsDone(Rec,xRec,CurrFieldNo);
    END;

    LOCAL PROCEDURE UpdateVATAmounts@38();
    VAR
      PurchLine2@1000 : Record 39;
      TotalLineAmount@1005 : Decimal;
      TotalInvDiscAmount@1004 : Decimal;
      TotalAmount@1001 : Decimal;
      TotalAmountInclVAT@1002 : Decimal;
      TotalQuantityBase@1003 : Decimal;
    BEGIN
      OnBeforeUpdateVATAmounts(Rec);

      GetPurchHeader;
      PurchLine2.SETRANGE("Document Type","Document Type");
      PurchLine2.SETRANGE("Document No.","Document No.");
      PurchLine2.SETFILTER("Line No.",'<>%1',"Line No.");
      PurchLine2.SETRANGE("VAT Identifier","VAT Identifier");
      PurchLine2.SETRANGE("Tax Group Code","Tax Group Code");

      IF "Line Amount" = "Inv. Discount Amount" THEN BEGIN
        Amount := 0;
        "VAT Base Amount" := 0;
        "Amount Including VAT" := 0;
        IF (Quantity = 0) AND (xRec.Quantity <> 0) AND (xRec.Amount <> 0) THEN BEGIN
          MODIFY;
          PurchLine2.SETFILTER(Amount,'<>0');
          IF PurchLine2.FIND('<>') THEN BEGIN
            PurchLine2.VALIDATE("Line Discount %");
            PurchLine2.MODIFY;
          END;
        END;
      END ELSE BEGIN
        TotalLineAmount := 0;
        TotalInvDiscAmount := 0;
        TotalAmount := 0;
        TotalAmountInclVAT := 0;
        TotalQuantityBase := 0;
        IF ("VAT Calculation Type" = "VAT Calculation Type"::"Sales Tax") OR
           (("VAT Calculation Type" IN
             ["VAT Calculation Type"::"Normal VAT","VAT Calculation Type"::"Reverse Charge VAT"]) AND ("VAT %" <> 0))
        THEN
          IF NOT PurchLine2.ISEMPTY THEN BEGIN
            PurchLine2.CALCSUMS("Line Amount","Inv. Discount Amount",Amount,"Amount Including VAT","Quantity (Base)");
            TotalLineAmount := PurchLine2."Line Amount";
            TotalInvDiscAmount := PurchLine2."Inv. Discount Amount";
            TotalAmount := PurchLine2.Amount;
            TotalAmountInclVAT := PurchLine2."Amount Including VAT";
            TotalQuantityBase := PurchLine2."Quantity (Base)";
            OnAfterUpdateTotalAmounts(Rec,PurchLine2,TotalAmount,TotalAmountInclVAT,TotalLineAmount,TotalInvDiscAmount);
          END;

        IF PurchHeader."Prices Including VAT" THEN
          CASE "VAT Calculation Type" OF
            "VAT Calculation Type"::"Normal VAT",
            "VAT Calculation Type"::"Reverse Charge VAT":
              BEGIN
                Amount :=
                  ROUND(
                    (TotalLineAmount - TotalInvDiscAmount + CalcLineAmount) / (1 + "VAT %" / 100),
                    Currency."Amount Rounding Precision") -
                  TotalAmount;
                "VAT Base Amount" :=
                  ROUND(
                    Amount * (1 - PurchHeader."VAT Base Discount %" / 100),
                    Currency."Amount Rounding Precision");
                "Amount Including VAT" :=
                  TotalLineAmount + "Line Amount" -
                  ROUND(
                    (TotalAmount + Amount) * (PurchHeader."VAT Base Discount %" / 100) * "VAT %" / 100,
                    Currency."Amount Rounding Precision",Currency.VATRoundingDirection) -
                  TotalAmountInclVAT - TotalInvDiscAmount - "Inv. Discount Amount";
              END;
            "VAT Calculation Type"::"Full VAT":
              BEGIN
                Amount := 0;
                "VAT Base Amount" := 0;
              END;
            "VAT Calculation Type"::"Sales Tax":
              BEGIN
                PurchHeader.TESTFIELD("VAT Base Discount %",0);
                "Amount Including VAT" :=
                  ROUND(CalcLineAmount,Currency."Amount Rounding Precision");
                IF "Use Tax" THEN
                  Amount := "Amount Including VAT"
                ELSE
                  Amount :=
                    ROUND(
                      SalesTaxCalculate.ReverseCalculateTax(
                        "Tax Area Code","Tax Group Code","Tax Liable",PurchHeader."Posting Date",
                        TotalAmountInclVAT + "Amount Including VAT",TotalQuantityBase + "Quantity (Base)",
                        PurchHeader."Currency Factor"),
                      Currency."Amount Rounding Precision") -
                    TotalAmount;
                "VAT Base Amount" := Amount;
                IF "VAT Base Amount" <> 0 THEN
                  "VAT %" :=
                    ROUND(100 * ("Amount Including VAT" - "VAT Base Amount") / "VAT Base Amount",0.00001)
                ELSE
                  "VAT %" := 0;
              END;
          END
        ELSE
          CASE "VAT Calculation Type" OF
            "VAT Calculation Type"::"Normal VAT",
            "VAT Calculation Type"::"Reverse Charge VAT":
              BEGIN
                Amount := ROUND(CalcLineAmount,Currency."Amount Rounding Precision");
                "VAT Base Amount" :=
                  ROUND(Amount * (1 - PurchHeader."VAT Base Discount %" / 100),Currency."Amount Rounding Precision");
                "Amount Including VAT" :=
                  TotalAmount + Amount +
                  ROUND(
                    (TotalAmount + Amount) * (1 - PurchHeader."VAT Base Discount %" / 100) * "VAT %" / 100,
                    Currency."Amount Rounding Precision",Currency.VATRoundingDirection) -
                  TotalAmountInclVAT;
              END;
            "VAT Calculation Type"::"Full VAT":
              BEGIN
                Amount := 0;
                "VAT Base Amount" := 0;
                "Amount Including VAT" := CalcLineAmount;
              END;
            "VAT Calculation Type"::"Sales Tax":
              BEGIN
                Amount := ROUND(CalcLineAmount,Currency."Amount Rounding Precision");
                "VAT Base Amount" := Amount;
                IF "Use Tax" THEN
                  "Amount Including VAT" := Amount
                ELSE
                  "Amount Including VAT" :=
                    TotalAmount + Amount +
                    ROUND(
                      SalesTaxCalculate.CalculateTax(
                        "Tax Area Code","Tax Group Code","Tax Liable",PurchHeader."Posting Date",
                        TotalAmount + Amount,TotalQuantityBase + "Quantity (Base)",
                        PurchHeader."Currency Factor"),
                      Currency."Amount Rounding Precision") -
                    TotalAmountInclVAT;
                IF "VAT Base Amount" <> 0 THEN
                  "VAT %" :=
                    ROUND(100 * ("Amount Including VAT" - "VAT Base Amount") / "VAT Base Amount",0.00001)
                ELSE
                  "VAT %" := 0;
              END;
          END;
      END;

      OnAfterUpdateVATAmounts(Rec);
    END;

    [External]
    PROCEDURE UpdatePrepmtSetupFields@102();
    VAR
      GenPostingSetup@1001 : Record 252;
      GLAcc@1000 : Record 15;
    BEGIN
      IF ("Prepmt. Amt. Inv." <> 0) AND
         ("Prepayment %" <> xRec."Prepayment %")
      THEN
        FIELDERROR("Prepayment %",STRSUBSTNO(Text1020005,xRec."Prepayment %"));

      IF ("Prepayment %" <> 0) AND HasTypeToFillMandatoryFields THEN BEGIN
        TESTFIELD("Document Type","Document Type"::Order);
        TESTFIELD("No.");
        GenPostingSetup.GET("Gen. Bus. Posting Group","Gen. Prod. Posting Group");
        IF GenPostingSetup."Purch. Prepayments Account" <> '' THEN BEGIN
          GLAcc.GET(GenPostingSetup."Purch. Prepayments Account");
          VATPostingSetup.GET("VAT Bus. Posting Group",GLAcc."VAT Prod. Posting Group");
          VATPostingSetup.TESTFIELD("VAT Calculation Type","VAT Calculation Type");
        END ELSE
          CLEAR(VATPostingSetup);
        "Prepayment VAT %" := VATPostingSetup."VAT %";
        "Prepmt. VAT Calc. Type" := VATPostingSetup."VAT Calculation Type";
        "Prepayment VAT Identifier" := VATPostingSetup."VAT Identifier";
        IF "Prepmt. VAT Calc. Type" IN
           ["Prepmt. VAT Calc. Type"::"Reverse Charge VAT","Prepmt. VAT Calc. Type"::"Sales Tax"]
        THEN
          "Prepayment VAT %" := 0;
        "Prepayment Tax Group Code" := GLAcc."Tax Group Code";
      END;
    END;

    LOCAL PROCEDURE UpdateSalesCost@6();
    VAR
      SalesOrderLine@1000 : Record 37;
    BEGIN
      CASE TRUE OF
        "Sales Order Line No." <> 0:
          // Drop Shipment
          SalesOrderLine.GET(SalesOrderLine."Document Type"::Order,"Sales Order No.","Sales Order Line No.");
        "Special Order Sales Line No." <> 0:
          // Special Order
          BEGIN
            IF NOT
               SalesOrderLine.GET(SalesOrderLine."Document Type"::Order,"Special Order Sales No.","Special Order Sales Line No.")
            THEN
              EXIT;
          END;
        ELSE
          EXIT;
      END;
      SalesOrderLine."Unit Cost (LCY)" := "Unit Cost (LCY)" * SalesOrderLine."Qty. per Unit of Measure" / "Qty. per Unit of Measure";
      SalesOrderLine."Unit Cost" := "Unit Cost" * SalesOrderLine."Qty. per Unit of Measure" / "Qty. per Unit of Measure";
      SalesOrderLine.VALIDATE("Unit Cost (LCY)");
      IF CurrFieldNo <> 0 THEN
        SalesOrderLine.MODIFY;
    END;

    LOCAL PROCEDURE GetFAPostingGroup@10();
    VAR
      LocalGLAcc@1000 : Record 15;
      FAPostingGr@1001 : Record 5606;
      FADeprBook@1003 : Record 5612;
      FASetup@1002 : Record 5603;
    BEGIN
      IF (Type <> Type::"Fixed Asset") OR ("No." = '') THEN
        EXIT;
      IF "Depreciation Book Code" = '' THEN BEGIN
        FASetup.GET;
        "Depreciation Book Code" := FASetup."Default Depr. Book";
        IF NOT FADeprBook.GET("No.","Depreciation Book Code") THEN
          "Depreciation Book Code" := '';
        IF "Depreciation Book Code" = '' THEN
          EXIT;
      END;
      IF "FA Posting Type" = "FA Posting Type"::" " THEN
        "FA Posting Type" := "FA Posting Type"::"Acquisition Cost";
      FADeprBook.GET("No.","Depreciation Book Code");
      FADeprBook.TESTFIELD("FA Posting Group");
      FAPostingGr.GET(FADeprBook."FA Posting Group");
      CASE "FA Posting Type" OF
        "FA Posting Type"::"Acquisition Cost":
          LocalGLAcc.GET(FAPostingGr.GetAcquisitionCostAccount);
        "FA Posting Type"::Appreciation:
          LocalGLAcc.GET(FAPostingGr.GetAppreciationAccount);
        "FA Posting Type"::Maintenance:
          LocalGLAcc.GET(FAPostingGr.GetMaintenanceExpenseAccount);
      END;
      LocalGLAcc.CheckGLAcc;
      GLSetup.GET;
      IF GLSetup."VAT in Use" THEN
        LocalGLAcc.TESTFIELD("Gen. Prod. Posting Group");
      "Posting Group" := FADeprBook."FA Posting Group";
      "Gen. Prod. Posting Group" := LocalGLAcc."Gen. Prod. Posting Group";
      "Tax Group Code" := LocalGLAcc."Tax Group Code";
      VALIDATE("VAT Prod. Posting Group",LocalGLAcc."VAT Prod. Posting Group");
    END;

    [External]
    PROCEDURE UpdateUOMQtyPerStockQty@9();
    VAR
      Item@1000 : Record 27;
    BEGIN
      GetItem(Item);
      "Unit Cost (LCY)" := Item."Unit Cost" * "Qty. per Unit of Measure";
      "Unit Price (LCY)" := Item."Unit Price" * "Qty. per Unit of Measure";
      GetPurchHeader;
      IF PurchHeader."Currency Code" <> '' THEN
        "Unit Cost" :=
          CurrExchRate.ExchangeAmtLCYToFCY(
            GetDate,PurchHeader."Currency Code",
            "Unit Cost (LCY)",PurchHeader."Currency Factor")
      ELSE
        "Unit Cost" := "Unit Cost (LCY)";
      UpdateDirectUnitCost(FIELDNO("Unit of Measure Code"));
    END;

    [External]
    PROCEDURE SelectMultipleItems@180();
    VAR
      ItemListPage@1000 : Page 31;
      SelectionFilter@1001 : Text;
    BEGIN
      SelectionFilter := ItemListPage.SelectActiveItemsForPurchase;
      IF SelectionFilter <> '' THEN
        AddItems(SelectionFilter);
    END;

    LOCAL PROCEDURE AddItems@179(SelectionFilter@1000 : Text);
    VAR
      Item@1001 : Record 27;
      PurchLine@1002 : Record 39;
    BEGIN
      InitNewLine(PurchLine);
      Item.SETFILTER("No.",SelectionFilter);
      IF Item.FINDSET THEN
        REPEAT
          PurchLine.INIT;
          PurchLine."Line No." += 10000;
          PurchLine.VALIDATE(Type,Type::Item);
          PurchLine.VALIDATE("No.",Item."No.");
          PurchLine.INSERT(TRUE);
        UNTIL Item.NEXT = 0;
    END;

    LOCAL PROCEDURE InitNewLine@178(VAR NewPurchLine@1001 : Record 39);
    VAR
      PurchLine@1000 : Record 39;
    BEGIN
      NewPurchLine.COPY(Rec);
      PurchLine.SETRANGE("Document Type",NewPurchLine."Document Type");
      PurchLine.SETRANGE("Document No.",NewPurchLine."Document No.");
      IF PurchLine.FINDLAST THEN
        NewPurchLine."Line No." := PurchLine."Line No."
      ELSE
        NewPurchLine."Line No." := 0;
    END;

    [External]
    PROCEDURE ShowReservation@8();
    VAR
      Reservation@1000 : Page 498;
    BEGIN
      TESTFIELD(Type,Type::Item);
      TESTFIELD("Prod. Order No.",'');
      TESTFIELD("No.");
      CLEAR(Reservation);
      Reservation.SetPurchLine(Rec);
      Reservation.RUNMODAL;
    END;

    [External]
    PROCEDURE ShowReservationEntries@21(Modal@1000 : Boolean);
    VAR
      ReservEntry@1001 : Record 337;
    BEGIN
      TESTFIELD(Type,Type::Item);
      TESTFIELD("No.");
      ReservEngineMgt.InitFilterAndSortingLookupFor(ReservEntry,TRUE);
      ReservePurchLine.FilterReservFor(ReservEntry,Rec);
      IF Modal THEN
        PAGE.RUNMODAL(PAGE::"Reservation Entries",ReservEntry)
      ELSE
        PAGE.RUN(PAGE::"Reservation Entries",ReservEntry);
    END;

    [External]
    PROCEDURE GetDate@28() : Date;
    BEGIN
      IF PurchHeader."Posting Date" <> 0D THEN
        EXIT(PurchHeader."Posting Date");
      EXIT(WORKDATE);
    END;

    [External]
    PROCEDURE Signed@20(Value@1000 : Decimal) : Decimal;
    BEGIN
      CASE "Document Type" OF
        "Document Type"::Quote,
        "Document Type"::Order,
        "Document Type"::Invoice,
        "Document Type"::"Blanket Order":
          EXIT(Value);
        "Document Type"::"Return Order",
        "Document Type"::"Credit Memo":
          EXIT(-Value);
      END;
    END;

    [External]
    PROCEDURE BlanketOrderLookup@36();
    VAR
      IsHandled@1000 : Boolean;
    BEGIN
      IsHandled := FALSE;
      OnBeforeBlanketOrderLookup(Rec,CurrFieldNo,IsHandled);
      IF IsHandled THEN
        EXIT;

      PurchLine2.RESET;
      PurchLine2.SETCURRENTKEY("Document Type",Type,"No.");
      PurchLine2.SETRANGE("Document Type","Document Type"::"Blanket Order");
      PurchLine2.SETRANGE(Type,Type);
      PurchLine2.SETRANGE("No.","No.");
      PurchLine2.SETRANGE("Pay-to Vendor No.","Pay-to Vendor No.");
      PurchLine2.SETRANGE("Buy-from Vendor No.","Buy-from Vendor No.");
      IF PAGE.RUNMODAL(PAGE::"Purchase Lines",PurchLine2) = ACTION::LookupOK THEN BEGIN
        PurchLine2.TESTFIELD("Document Type","Document Type"::"Blanket Order");
        "Blanket Order No." := PurchLine2."Document No.";
        VALIDATE("Blanket Order Line No.",PurchLine2."Line No.");
      END;
    END;

    [External]
    PROCEDURE BlockDynamicTracking@23(SetBlock@1000 : Boolean);
    BEGIN
      TrackingBlocked := SetBlock;
      ReservePurchLine.Block(SetBlock);
    END;

    [External]
    PROCEDURE ShowDimensions@25();
    BEGIN
      "Dimension Set ID" :=
        DimMgt.EditDimensionSet("Dimension Set ID",STRSUBSTNO('%1 %2 %3',"Document Type","Document No.","Line No."));
      VerifyItemLineDim;
      DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code");
    END;

    [External]
    PROCEDURE OpenItemTrackingLines@6500();
    BEGIN
      TESTFIELD(Type,Type::Item);
      TESTFIELD("No.");
      IF "Prod. Order No." <> '' THEN
        ERROR(Text031,"Prod. Order No.");

      TESTFIELD("Quantity (Base)");

      ReservePurchLine.CallItemTracking(Rec);
    END;

    [External]
    PROCEDURE CreateDim@26(Type1@1000 : Integer;No1@1001 : Code[20];Type2@1002 : Integer;No2@1003 : Code[20];Type3@1004 : Integer;No3@1005 : Code[20];Type4@1006 : Integer;No4@1007 : Code[20]);
    VAR
      SourceCodeSetup@1008 : Record 242;
      TableID@1009 : ARRAY [10] OF Integer;
      No@1010 : ARRAY [10] OF Code[20];
    BEGIN
      SourceCodeSetup.GET;
      TableID[1] := Type1;
      No[1] := No1;
      TableID[2] := Type2;
      No[2] := No2;
      TableID[3] := Type3;
      No[3] := No3;
      TableID[4] := Type4;
      No[4] := No4;
      OnAfterCreateDimTableIDs(Rec,CurrFieldNo,TableID,No);

      "Shortcut Dimension 1 Code" := '';
      "Shortcut Dimension 2 Code" := '';
      GetPurchHeader;
      "Dimension Set ID" :=
        DimMgt.GetRecDefaultDimID(
          Rec,CurrFieldNo,TableID,No,SourceCodeSetup.Purchases,
          "Shortcut Dimension 1 Code","Shortcut Dimension 2 Code",PurchHeader."Dimension Set ID",DATABASE::Vendor);
      DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code");
    END;

    [External]
    PROCEDURE ValidateShortcutDimCode@29(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20]);
    BEGIN
      DimMgt.ValidateShortcutDimValues(FieldNumber,ShortcutDimCode,"Dimension Set ID");
      VerifyItemLineDim;
    END;

    [External]
    PROCEDURE LookupShortcutDimCode@30(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20]);
    BEGIN
      DimMgt.LookupDimValueCode(FieldNumber,ShortcutDimCode);
      ValidateShortcutDimCode(FieldNumber,ShortcutDimCode);
    END;

    [External]
    PROCEDURE ShowShortcutDimCode@27(VAR ShortcutDimCode@1000 : ARRAY [8] OF Code[20]);
    BEGIN
      DimMgt.GetShortcutDimensions("Dimension Set ID",ShortcutDimCode);
    END;

    LOCAL PROCEDURE GetSKU@5806() : Boolean;
    BEGIN
      TESTFIELD("No.");
      IF (SKU."Location Code" = "Location Code") AND
         (SKU."Item No." = "No.") AND
         (SKU."Variant Code" = "Variant Code")
      THEN
        EXIT(TRUE);
      IF SKU.GET("Location Code","No.","Variant Code") THEN
        EXIT(TRUE);

      EXIT(FALSE);
    END;

    [External]
    PROCEDURE ShowItemChargeAssgnt@5801();
    VAR
      ItemChargeAssgntPurch@1003 : Record 5805;
      AssignItemChargePurch@1001 : Codeunit 5805;
      ItemChargeAssgnts@1000 : Page 5805;
      ItemChargeAssgntLineAmt@1002 : Decimal;
    BEGIN
      GET("Document Type","Document No.","Line No.");
      TESTFIELD("No.");
      TESTFIELD(Quantity);

      IF Type <> Type::"Charge (Item)" THEN
        ERROR(ItemChargeAssignmentErr);

      GetPurchHeader;
      IF PurchHeader."Currency Code" = '' THEN
        Currency.InitRoundingPrecision
      ELSE
        Currency.GET(PurchHeader."Currency Code");
      IF ("Inv. Discount Amount" = 0) AND
         ("Line Discount Amount" = 0) AND
         (NOT PurchHeader."Prices Including VAT")
      THEN
        ItemChargeAssgntLineAmt := "Line Amount"
      ELSE
        IF PurchHeader."Prices Including VAT" THEN
          ItemChargeAssgntLineAmt :=
            ROUND(CalcLineAmount / (1 + "VAT %" / 100),Currency."Amount Rounding Precision")
        ELSE
          ItemChargeAssgntLineAmt := CalcLineAmount;

      ItemChargeAssgntPurch.RESET;
      ItemChargeAssgntPurch.SETRANGE("Document Type","Document Type");
      ItemChargeAssgntPurch.SETRANGE("Document No.","Document No.");
      ItemChargeAssgntPurch.SETRANGE("Document Line No.","Line No.");
      ItemChargeAssgntPurch.SETRANGE("Item Charge No.","No.");
      IF NOT ItemChargeAssgntPurch.FINDLAST THEN BEGIN
        ItemChargeAssgntPurch."Document Type" := "Document Type";
        ItemChargeAssgntPurch."Document No." := "Document No.";
        ItemChargeAssgntPurch."Document Line No." := "Line No.";
        ItemChargeAssgntPurch."Item Charge No." := "No.";
        ItemChargeAssgntPurch."Unit Cost" :=
          ROUND(ItemChargeAssgntLineAmt / Quantity,
            Currency."Unit-Amount Rounding Precision");
      END;

      ItemChargeAssgntLineAmt :=
        ROUND(
          ItemChargeAssgntLineAmt * ("Qty. to Invoice" / Quantity),
          Currency."Amount Rounding Precision");

      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
        AssignItemChargePurch.CreateDocChargeAssgnt(ItemChargeAssgntPurch,"Return Shipment No.")
      ELSE
        AssignItemChargePurch.CreateDocChargeAssgnt(ItemChargeAssgntPurch,"Receipt No.");
      CLEAR(AssignItemChargePurch);
      COMMIT;

      ItemChargeAssgnts.Initialize(Rec,ItemChargeAssgntLineAmt);
      ItemChargeAssgnts.RUNMODAL;

      CALCFIELDS("Qty. to Assign");
    END;

    [External]
    PROCEDURE UpdateItemChargeAssgnt@5807();
    VAR
      ItemChargeAssgntPurch@1003 : Record 5805;
      ShareOfVAT@1000 : Decimal;
      TotalQtyToAssign@1001 : Decimal;
      TotalAmtToAssign@1002 : Decimal;
    BEGIN
      IF "Document Type" = "Document Type"::"Blanket Order" THEN
        EXIT;

      CALCFIELDS("Qty. Assigned","Qty. to Assign");
      IF ABS("Quantity Invoiced") > ABS(("Qty. Assigned" + "Qty. to Assign")) THEN
        ERROR(Text032,FIELDCAPTION("Quantity Invoiced"),FIELDCAPTION("Qty. Assigned"),FIELDCAPTION("Qty. to Assign"));

      ItemChargeAssgntPurch.SETRANGE("Document Type","Document Type");
      ItemChargeAssgntPurch.SETRANGE("Document No.","Document No.");
      ItemChargeAssgntPurch.SETRANGE("Document Line No.","Line No.");
      ItemChargeAssgntPurch.CALCSUMS("Qty. to Assign");
      TotalQtyToAssign := ItemChargeAssgntPurch."Qty. to Assign";
      IF (CurrFieldNo <> 0) AND ("Unit Cost" <> xRec."Unit Cost") THEN BEGIN
        ItemChargeAssgntPurch.SETFILTER("Qty. Assigned",'<>0');
        IF NOT ItemChargeAssgntPurch.ISEMPTY THEN
          ERROR(Text022,
            FIELDCAPTION("Unit Cost"));
        ItemChargeAssgntPurch.SETRANGE("Qty. Assigned");
      END;

      IF (CurrFieldNo <> 0) AND (Quantity <> xRec.Quantity) THEN BEGIN
        ItemChargeAssgntPurch.SETFILTER("Qty. Assigned",'<>0');
        IF NOT ItemChargeAssgntPurch.ISEMPTY THEN
          ERROR(Text022,
            FIELDCAPTION(Quantity));
        ItemChargeAssgntPurch.SETRANGE("Qty. Assigned");
      END;

      IF ItemChargeAssgntPurch.FINDSET(TRUE) AND (Quantity <> 0) THEN BEGIN
        GetPurchHeader;
        TotalAmtToAssign := CalcTotalAmtToAssign(TotalQtyToAssign);
        REPEAT
          ShareOfVAT := 1;
          IF PurchHeader."Prices Including VAT" THEN
            ShareOfVAT := 1 + "VAT %" / 100;
          IF ItemChargeAssgntPurch."Unit Cost" <>
             ROUND(CalcLineAmount / Quantity / ShareOfVAT,Currency."Unit-Amount Rounding Precision")
          THEN
            ItemChargeAssgntPurch."Unit Cost" :=
              ROUND(CalcLineAmount / Quantity / ShareOfVAT,Currency."Unit-Amount Rounding Precision");
          IF TotalQtyToAssign <> 0 THEN BEGIN
            ItemChargeAssgntPurch."Amount to Assign" :=
              ROUND(ItemChargeAssgntPurch."Qty. to Assign" / TotalQtyToAssign * TotalAmtToAssign,
                Currency."Amount Rounding Precision");
            TotalQtyToAssign -= ItemChargeAssgntPurch."Qty. to Assign";
            TotalAmtToAssign -= ItemChargeAssgntPurch."Amount to Assign";
          END;
          ItemChargeAssgntPurch.MODIFY;
        UNTIL ItemChargeAssgntPurch.NEXT = 0;
        CALCFIELDS("Qty. to Assign");
      END;
    END;

    LOCAL PROCEDURE DeleteItemChargeAssgnt@5802(DocType@1000 : Option;DocNo@1001 : Code[20];DocLineNo@1002 : Integer);
    VAR
      ItemChargeAssgntPurch@1003 : Record 5805;
    BEGIN
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. Type",DocType);
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. No.",DocNo);
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. Line No.",DocLineNo);
      IF NOT ItemChargeAssgntPurch.ISEMPTY THEN
        ItemChargeAssgntPurch.DELETEALL(TRUE);
    END;

    LOCAL PROCEDURE DeleteChargeChargeAssgnt@5804(DocType@1000 : Option;DocNo@1001 : Code[20];DocLineNo@1002 : Integer);
    VAR
      ItemChargeAssgntPurch@1003 : Record 5805;
    BEGIN
      IF DocType <> "Document Type"::"Blanket Order" THEN
        IF "Quantity Invoiced" <> 0 THEN BEGIN
          CALCFIELDS("Qty. Assigned");
          TESTFIELD("Qty. Assigned","Quantity Invoiced");
        END;

      ItemChargeAssgntPurch.RESET;
      ItemChargeAssgntPurch.SETRANGE("Document Type",DocType);
      ItemChargeAssgntPurch.SETRANGE("Document No.",DocNo);
      ItemChargeAssgntPurch.SETRANGE("Document Line No.",DocLineNo);
      IF NOT ItemChargeAssgntPurch.ISEMPTY THEN
        ItemChargeAssgntPurch.DELETEALL;
    END;

    [External]
    PROCEDURE CheckItemChargeAssgnt@5800();
    VAR
      ItemChargeAssgntPurch@1000 : Record 5805;
    BEGIN
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. Type","Document Type");
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. No.","Document No.");
      ItemChargeAssgntPurch.SETRANGE("Applies-to Doc. Line No.","Line No.");
      ItemChargeAssgntPurch.SETRANGE("Document Type","Document Type");
      ItemChargeAssgntPurch.SETRANGE("Document No.","Document No.");
      IF ItemChargeAssgntPurch.FINDSET THEN BEGIN
        TESTFIELD("Allow Item Charge Assignment");
        REPEAT
          ItemChargeAssgntPurch.TESTFIELD("Qty. to Assign",0);
        UNTIL ItemChargeAssgntPurch.NEXT = 0;
      END;
    END;

    [External]
    PROCEDURE GetCaptionClass@34(FieldNumber@1000 : Integer) : Text[80];
    VAR
      CaptionManagement@1001 : Codeunit 42;
    BEGIN
      EXIT(CaptionManagement.GetPurchaseLineCaptionClass(Rec,FieldNumber));
    END;

    [External]
    PROCEDURE TestStatusOpen@37();
    BEGIN
      IF StatusCheckSuspended THEN
        EXIT;
      GetPurchHeader;
      IF NOT "System-Created Entry" THEN
        IF HasTypeToFillMandatoryFields THEN
          PurchHeader.TESTFIELD(Status,PurchHeader.Status::Open);
    END;

    [External]
    PROCEDURE SuspendStatusCheck@42(Suspend@1000 : Boolean);
    BEGIN
      StatusCheckSuspended := Suspend;
    END;

    [External]
    PROCEDURE UpdateLeadTimeFields@11();
    BEGIN
      IF Type = Type::Item THEN BEGIN
        GetPurchHeader;

        EVALUATE("Lead Time Calculation",
          LeadTimeMgt.PurchaseLeadTime(
            "No.","Location Code","Variant Code",
            "Buy-from Vendor No."));
        IF FORMAT("Lead Time Calculation") = '' THEN
          "Lead Time Calculation" := PurchHeader."Lead Time Calculation";
        EVALUATE("Safety Lead Time",LeadTimeMgt.SafetyLeadTime("No.","Location Code","Variant Code"));
      END;
    END;

    [External]
    PROCEDURE GetUpdateBasicDates@43();
    BEGIN
      GetPurchHeader;
      IF PurchHeader."Expected Receipt Date" <> 0D THEN
        VALIDATE("Expected Receipt Date",PurchHeader."Expected Receipt Date")
      ELSE
        VALIDATE("Order Date",PurchHeader."Order Date");
    END;

    [External]
    PROCEDURE UpdateDates@39();
    BEGIN
      IF "Promised Receipt Date" <> 0D THEN
        VALIDATE("Promised Receipt Date")
      ELSE
        IF "Requested Receipt Date" <> 0D THEN
          VALIDATE("Requested Receipt Date")
        ELSE
          GetUpdateBasicDates;
    END;

    [External]
    PROCEDURE InternalLeadTimeDays@35(PurchDate@1002 : Date) : Text[30];
    VAR
      TotalDays@1001 : DateFormula;
    BEGIN
      EVALUATE(
        TotalDays,'<' + FORMAT(CALCDATE("Safety Lead Time",CALCDATE("Inbound Whse. Handling Time",PurchDate)) - PurchDate) + 'D>');
      EXIT(FORMAT(TotalDays));
    END;

    LOCAL PROCEDURE ReversedInternalLeadTimeDays@233(PurchDate@1002 : Date) : Text[30];
    VAR
      TotalDays@1001 : DateFormula;
      ReversedSafetyLeadTime@1000 : DateFormula;
      ReversedWhseHandlingTime@1003 : DateFormula;
    BEGIN
      CalendarMgmt.ReverseDateFormula(ReversedSafetyLeadTime,"Safety Lead Time");
      CalendarMgmt.ReverseDateFormula(ReversedWhseHandlingTime,"Inbound Whse. Handling Time");
      EVALUATE(
        TotalDays,'<' + FORMAT(PurchDate - CALCDATE(ReversedWhseHandlingTime,CALCDATE(ReversedSafetyLeadTime,PurchDate))) + 'D>');
      EXIT(FORMAT(TotalDays));
    END;

    [External]
    PROCEDURE UpdateVATOnLines@32(QtyType@1000 : 'General,Invoicing,Shipping';VAR PurchHeader@1001 : Record 38;VAR PurchLine@1002 : Record 39;VAR VATAmountLine@1003 : Record 290) LineWasModified : Boolean;
    VAR
      TempVATAmountLineRemainder@1004 : TEMPORARY Record 290;
      Currency@1005 : Record 4;
      NewAmount@1006 : Decimal;
      NewAmountIncludingVAT@1007 : Decimal;
      NewVATBaseAmount@1008 : Decimal;
      VATAmount@1009 : Decimal;
      VATDifference@1010 : Decimal;
      InvDiscAmount@1011 : Decimal;
      LineAmountToInvoice@1012 : Decimal;
      LineAmountToInvoiceDiscounted@1013 : Decimal;
      DeferralAmount@1014 : Decimal;
    BEGIN
      LineWasModified := FALSE;
      IF QtyType = QtyType::Shipping THEN
        EXIT;
      IF PurchHeader."Currency Code" = '' THEN
        Currency.InitRoundingPrecision
      ELSE
        Currency.GET(PurchHeader."Currency Code");

      TempVATAmountLineRemainder.DELETEALL;

      WITH PurchLine DO BEGIN
        SETRANGE("Document Type",PurchHeader."Document Type");
        SETRANGE("Document No.",PurchHeader."No.");
        LOCKTABLE;
        IF FINDSET THEN
          REPEAT
            IF NOT ZeroAmountLine(QtyType) THEN BEGIN
              DeferralAmount := GetDeferralAmount;
              VATAmountLine.GET("VAT Identifier","VAT Calculation Type","Tax Group Code","Tax Area Code","Use Tax","Line Amount" >= 0);
              IF VATAmountLine.Modified THEN BEGIN
                IF NOT TempVATAmountLineRemainder.GET(
                     "VAT Identifier","VAT Calculation Type","Tax Group Code","Tax Area Code","Use Tax","Line Amount" >= 0)
                THEN BEGIN
                  TempVATAmountLineRemainder := VATAmountLine;
                  TempVATAmountLineRemainder.INIT;
                  TempVATAmountLineRemainder.INSERT;
                END;

                IF QtyType = QtyType::General THEN
                  LineAmountToInvoice := "Line Amount"
                ELSE
                  LineAmountToInvoice :=
                    ROUND("Line Amount" * "Qty. to Invoice" / Quantity,Currency."Amount Rounding Precision");

                IF "Allow Invoice Disc." THEN BEGIN
                  IF (VATAmountLine."Inv. Disc. Base Amount" = 0) OR (LineAmountToInvoice = 0) THEN
                    InvDiscAmount := 0
                  ELSE BEGIN
                    IF QtyType = QtyType::General THEN
                      LineAmountToInvoice := "Line Amount"
                    ELSE
                      LineAmountToInvoice :=
                        ROUND("Line Amount" * "Qty. to Invoice" / Quantity,Currency."Amount Rounding Precision");
                    LineAmountToInvoiceDiscounted :=
                      VATAmountLine."Invoice Discount Amount" * LineAmountToInvoice /
                      VATAmountLine."Inv. Disc. Base Amount";
                    TempVATAmountLineRemainder."Invoice Discount Amount" :=
                      TempVATAmountLineRemainder."Invoice Discount Amount" + LineAmountToInvoiceDiscounted;
                    InvDiscAmount :=
                      ROUND(
                        TempVATAmountLineRemainder."Invoice Discount Amount",Currency."Amount Rounding Precision");
                    TempVATAmountLineRemainder."Invoice Discount Amount" :=
                      TempVATAmountLineRemainder."Invoice Discount Amount" - InvDiscAmount;
                  END;
                  IF QtyType = QtyType::General THEN BEGIN
                    "Inv. Discount Amount" := InvDiscAmount;
                    CalcInvDiscToInvoice;
                  END ELSE
                    "Inv. Disc. Amount to Invoice" := InvDiscAmount;
                END ELSE
                  InvDiscAmount := 0;
                IF QtyType = QtyType::General THEN
                  IF PurchHeader."Prices Including VAT" THEN BEGIN
                    IF (VATAmountLine.CalcLineAmount = 0) OR ("Line Amount" = 0) THEN BEGIN
                      VATAmount := 0;
                      NewAmountIncludingVAT := 0;
                    END ELSE BEGIN
                      VATAmount :=
                        TempVATAmountLineRemainder."VAT Amount" +
                        VATAmountLine."VAT Amount" * CalcLineAmount / VATAmountLine.CalcLineAmount;
                      NewAmountIncludingVAT :=
                        TempVATAmountLineRemainder."Amount Including VAT" +
                        VATAmountLine."Amount Including VAT" * CalcLineAmount / VATAmountLine.CalcLineAmount;
                    END;
                    NewAmount :=
                      ROUND(NewAmountIncludingVAT,Currency."Amount Rounding Precision") -
                      ROUND(VATAmount,Currency."Amount Rounding Precision");
                    NewVATBaseAmount :=
                      ROUND(
                        NewAmount * (1 - PurchHeader."VAT Base Discount %" / 100),
                        Currency."Amount Rounding Precision");
                  END ELSE BEGIN
                    IF "VAT Calculation Type" = "VAT Calculation Type"::"Full VAT" THEN BEGIN
                      VATAmount := CalcLineAmount;
                      NewAmount := 0;
                      NewVATBaseAmount := 0;
                    END ELSE BEGIN
                      NewAmount := CalcLineAmount;
                      NewVATBaseAmount :=
                        ROUND(
                          NewAmount * (1 - PurchHeader."VAT Base Discount %" / 100),
                          Currency."Amount Rounding Precision");
                      IF VATAmountLine."VAT Base" = 0 THEN
                        VATAmount := 0
                      ELSE
                        VATAmount :=
                          TempVATAmountLineRemainder."VAT Amount" +
                          VATAmountLine."VAT Amount" * NewAmount / VATAmountLine."VAT Base";
                    END;
                    NewAmountIncludingVAT := NewAmount + ROUND(VATAmount,Currency."Amount Rounding Precision");
                  END
                ELSE BEGIN
                  IF VATAmountLine.CalcLineAmount = 0 THEN
                    VATDifference := 0
                  ELSE
                    VATDifference :=
                      TempVATAmountLineRemainder."VAT Difference" +
                      VATAmountLine."VAT Difference" * (LineAmountToInvoice - InvDiscAmount) / VATAmountLine.CalcLineAmount;
                  IF LineAmountToInvoice = 0 THEN
                    "VAT Difference" := 0
                  ELSE
                    "VAT Difference" := ROUND(VATDifference,Currency."Amount Rounding Precision");
                END;

                IF QtyType = QtyType::General THEN
                  UpdateBaseAmounts(NewAmount,ROUND(NewAmountIncludingVAT,Currency."Amount Rounding Precision"),NewVATBaseAmount);
                InitOutstanding;
                IF NOT ((Type = Type::"Charge (Item)") AND ("Quantity Invoiced" <> "Qty. Assigned")) THEN BEGIN
                  SetUpdateFromVAT(TRUE);
                  UpdateUnitCost;
                END;
                IF Type = Type::"Charge (Item)" THEN
                  UpdateItemChargeAssgnt;
                MODIFY;
                LineWasModified := TRUE;

                IF ("Deferral Code" <> '') AND (DeferralAmount <> GetDeferralAmount) THEN
                  UpdateDeferralAmounts;

                TempVATAmountLineRemainder."Amount Including VAT" :=
                  NewAmountIncludingVAT - ROUND(NewAmountIncludingVAT,Currency."Amount Rounding Precision");
                TempVATAmountLineRemainder."VAT Amount" := VATAmount - NewAmountIncludingVAT + NewAmount;
                TempVATAmountLineRemainder."VAT Difference" := VATDifference - "VAT Difference";
                TempVATAmountLineRemainder.MODIFY;
              END;
            END;
          UNTIL NEXT = 0;
      END;

      OnAfterUpdateVATOnLines(PurchHeader,PurchLine,VATAmountLine,QtyType);
    END;

    [External]
    PROCEDURE CalcVATAmountLines@24(QtyType@1000 : 'General,Invoicing,Shipping';VAR PurchHeader@1001 : Record 38;VAR PurchLine@1002 : Record 39;VAR VATAmountLine@1003 : Record 290);
    VAR
      TotalVATAmount@1008 : Decimal;
      QtyToHandle@1006 : Decimal;
      AmtToHandle@1005 : Decimal;
      RoundingLineInserted@1010 : Boolean;
    BEGIN
      IF IsCalcVATAmountLinesHandled(PurchHeader,PurchLine,VATAmountLine) THEN
        EXIT;

      Currency.Initialize(PurchHeader."Currency Code");

      VATAmountLine.DELETEALL;

      WITH PurchLine DO BEGIN
        SETRANGE("Document Type",PurchHeader."Document Type");
        SETRANGE("Document No.",PurchHeader."No.");
        IF FINDSET THEN
          REPEAT
            IF NOT ZeroAmountLine(QtyType) THEN BEGIN
              IF (Type = Type::"G/L Account") AND NOT "Prepayment Line" THEN
                RoundingLineInserted := ("No." = GetVPGInvRoundAcc(PurchHeader)) OR RoundingLineInserted;
              IF "VAT Calculation Type" IN
                 ["VAT Calculation Type"::"Reverse Charge VAT","VAT Calculation Type"::"Sales Tax"]
              THEN
                "VAT %" := 0;
              IF NOT VATAmountLine.GET(
                   "VAT Identifier","VAT Calculation Type","Tax Group Code","Tax Area Code","Use Tax","Line Amount" >= 0)
              THEN
                VATAmountLine.InsertNewLine(
                  "VAT Identifier","VAT Calculation Type","Tax Group Code","Tax Area Code","Use Tax","VAT %","Line Amount" >= 0,FALSE);

              CASE QtyType OF
                QtyType::General:
                  BEGIN
                    VATAmountLine.Quantity += "Quantity (Base)";
                    VATAmountLine.SumLine(
                      "Line Amount","Inv. Discount Amount","VAT Difference","Allow Invoice Disc.","Prepayment Line");
                  END;
                QtyType::Invoicing:
                  BEGIN
                    CASE TRUE OF
                      ("Document Type" IN ["Document Type"::Order,"Document Type"::Invoice]) AND
                      (NOT PurchHeader.Receive) AND PurchHeader.Invoice AND (NOT "Prepayment Line"):
                        IF "Receipt No." = '' THEN BEGIN
                          QtyToHandle := GetAbsMin("Qty. to Invoice","Qty. Rcd. Not Invoiced");
                          VATAmountLine.Quantity += GetAbsMin("Qty. to Invoice (Base)","Qty. Rcd. Not Invoiced (Base)");
                        END ELSE BEGIN
                          QtyToHandle := "Qty. to Invoice";
                          VATAmountLine.Quantity += "Qty. to Invoice (Base)";
                        END;
                      ("Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"]) AND
                      (NOT PurchHeader.Ship) AND PurchHeader.Invoice:
                        IF "Return Shipment No." = '' THEN BEGIN
                          QtyToHandle := GetAbsMin("Qty. to Invoice","Return Qty. Shipped Not Invd.");
                          VATAmountLine.Quantity += GetAbsMin("Qty. to Invoice (Base)","Ret. Qty. Shpd Not Invd.(Base)");
                        END ELSE BEGIN
                          QtyToHandle := "Qty. to Invoice";
                          VATAmountLine.Quantity += "Qty. to Invoice (Base)";
                        END;
                      ELSE BEGIN
                        QtyToHandle := "Qty. to Invoice";
                        VATAmountLine.Quantity += "Qty. to Invoice (Base)";
                      END;
                    END;
                    AmtToHandle := GetLineAmountToHandle(QtyToHandle);
                    IF PurchHeader."Invoice Discount Calculation" <> PurchHeader."Invoice Discount Calculation"::Amount THEN
                      VATAmountLine.SumLine(
                        AmtToHandle,ROUND("Inv. Discount Amount" * QtyToHandle / Quantity,Currency."Amount Rounding Precision"),
                        "VAT Difference","Allow Invoice Disc.","Prepayment Line")
                    ELSE
                      VATAmountLine.SumLine(
                        AmtToHandle,"Inv. Disc. Amount to Invoice","VAT Difference","Allow Invoice Disc.","Prepayment Line");
                  END;
                QtyType::Shipping:
                  BEGIN
                    IF "Document Type" IN
                       ["Document Type"::"Return Order","Document Type"::"Credit Memo"]
                    THEN BEGIN
                      QtyToHandle := "Return Qty. to Ship";
                      VATAmountLine.Quantity += "Return Qty. to Ship (Base)";
                    END ELSE BEGIN
                      QtyToHandle := "Qty. to Receive";
                      VATAmountLine.Quantity += "Qty. to Receive (Base)";
                    END;
                    AmtToHandle := GetLineAmountToHandle(QtyToHandle);
                    VATAmountLine.SumLine(
                      AmtToHandle,ROUND("Inv. Discount Amount" * QtyToHandle / Quantity,Currency."Amount Rounding Precision"),
                      "VAT Difference","Allow Invoice Disc.","Prepayment Line");
                  END;
              END;
              TotalVATAmount += "Amount Including VAT" - Amount;
            END;
          UNTIL NEXT = 0;
      END;

      VATAmountLine.UpdateLines(
        TotalVATAmount,Currency,PurchHeader."Currency Factor",PurchHeader."Prices Including VAT",
        PurchHeader."VAT Base Discount %",PurchHeader."Tax Area Code",PurchHeader."Tax Liable",PurchHeader."Posting Date");

      IF RoundingLineInserted AND (TotalVATAmount <> 0) THEN
        IF GetVATAmountLineOfMaxAmt(VATAmountLine,PurchLine) THEN BEGIN
          VATAmountLine."VAT Amount" += TotalVATAmount;
          VATAmountLine."Amount Including VAT" += TotalVATAmount;
          VATAmountLine."Calculated VAT Amount" += TotalVATAmount;
          VATAmountLine.MODIFY;
        END;

      OnAfterCalcVATAmountLines(PurchHeader,PurchLine,VATAmountLine,QtyType);
    END;

    LOCAL PROCEDURE GetVATAmountLineOfMaxAmt@277(VAR VATAmountLine@1001 : Record 290;PurchaseLine@1000 : Record 39) : Boolean;
    VAR
      VATAmount1@1002 : Decimal;
      VATAmount2@1003 : Decimal;
      IsPositive1@1004 : Boolean;
      IsPositive2@1005 : Boolean;
    BEGIN
      IF VATAmountLine.GET(
           PurchaseLine."VAT Identifier",PurchaseLine."VAT Calculation Type",PurchaseLine."Tax Group Code",FALSE,FALSE)
      THEN BEGIN
        VATAmount1 := VATAmountLine."VAT Amount";
        IsPositive1 := VATAmountLine.Positive;
      END;
      IF VATAmountLine.GET(
           PurchaseLine."VAT Identifier",PurchaseLine."VAT Calculation Type",PurchaseLine."Tax Group Code",FALSE,TRUE)
      THEN BEGIN
        VATAmount2 := VATAmountLine."VAT Amount";
        IsPositive2 := VATAmountLine.Positive;
      END;
      IF ABS(VATAmount1) >= ABS(VATAmount2) THEN
        EXIT(
          VATAmountLine.GET(
            PurchaseLine."VAT Identifier",PurchaseLine."VAT Calculation Type",PurchaseLine."Tax Group Code",FALSE,IsPositive1));
      EXIT(
        VATAmountLine.GET(
          PurchaseLine."VAT Identifier",PurchaseLine."VAT Calculation Type",PurchaseLine."Tax Group Code",FALSE,IsPositive2));
    END;

    [External]
    PROCEDURE UpdateWithWarehouseReceive@41();
    BEGIN
      IF Type = Type::Item THEN
        CASE TRUE OF
          ("Document Type" IN ["Document Type"::Quote,"Document Type"::Order]) AND (Quantity >= 0):
            IF Location.RequireReceive("Location Code") THEN
              VALIDATE("Qty. to Receive",0)
            ELSE
              VALIDATE("Qty. to Receive","Outstanding Quantity");
          ("Document Type" IN ["Document Type"::Quote,"Document Type"::Order]) AND (Quantity < 0):
            IF Location.RequireShipment("Location Code") THEN
              VALIDATE("Qty. to Receive",0)
            ELSE
              VALIDATE("Qty. to Receive","Outstanding Quantity");
          ("Document Type" = "Document Type"::"Return Order") AND (Quantity >= 0):
            IF Location.RequireShipment("Location Code") THEN
              VALIDATE("Return Qty. to Ship",0)
            ELSE
              VALIDATE("Return Qty. to Ship","Outstanding Quantity");
          ("Document Type" = "Document Type"::"Return Order") AND (Quantity < 0):
            IF Location.RequireReceive("Location Code") THEN
              VALIDATE("Return Qty. to Ship",0)
            ELSE
              VALIDATE("Return Qty. to Ship","Outstanding Quantity");
        END;

      GetPurchHeader;
      OnAfterUpdateWithWarehouseReceive(PurchHeader,Rec);

      SetDefaultQuantity;
    END;

    LOCAL PROCEDURE CheckWarehouse@47();
    VAR
      Location2@1002 : Record 14;
      WhseSetup@1000 : Record 5769;
      ShowDialog@1001 : ' ,Message,Error';
      DialogText@1003 : Text[50];
    BEGIN
      IF "Prod. Order No." <> '' THEN
        EXIT;
      GetLocation("Location Code");
      IF "Location Code" = '' THEN BEGIN
        WhseSetup.GET;
        Location2."Require Shipment" := WhseSetup."Require Shipment";
        Location2."Require Pick" := WhseSetup."Require Pick";
        Location2."Require Receive" := WhseSetup."Require Receive";
        Location2."Require Put-away" := WhseSetup."Require Put-away";
      END ELSE
        Location2 := Location;

      DialogText := Text033;
      IF ("Document Type" IN ["Document Type"::Order,"Document Type"::"Return Order"]) AND
         Location2."Directed Put-away and Pick"
      THEN BEGIN
        ShowDialog := ShowDialog::Error;
        IF (("Document Type" = "Document Type"::Order) AND (Quantity >= 0)) OR
           (("Document Type" = "Document Type"::"Return Order") AND (Quantity < 0))
        THEN
          DialogText :=
            DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Receive"))
        ELSE
          DialogText :=
            DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Shipment"));
      END ELSE BEGIN
        IF (("Document Type" = "Document Type"::Order) AND (Quantity >= 0) AND
            (Location2."Require Receive" OR Location2."Require Put-away")) OR
           (("Document Type" = "Document Type"::"Return Order") AND (Quantity < 0) AND
            (Location2."Require Receive" OR Location2."Require Put-away"))
        THEN BEGIN
          IF WhseValidateSourceLine.WhseLinesExist(
               DATABASE::"Purchase Line",
               "Document Type",
               "Document No.",
               "Line No.",
               0,
               Quantity)
          THEN
            ShowDialog := ShowDialog::Error
          ELSE
            IF Location2."Require Receive" THEN
              ShowDialog := ShowDialog::Message;
          IF Location2."Require Receive" THEN
            DialogText :=
              DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Receive"))
          ELSE BEGIN
            DialogText := Text034;
            DialogText :=
              DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Put-away"));
          END;
        END;

        IF (("Document Type" = "Document Type"::Order) AND (Quantity < 0) AND
            (Location2."Require Shipment" OR Location2."Require Pick")) OR
           (("Document Type" = "Document Type"::"Return Order") AND (Quantity >= 0) AND
            (Location2."Require Shipment" OR Location2."Require Pick"))
        THEN BEGIN
          IF WhseValidateSourceLine.WhseLinesExist(
               DATABASE::"Purchase Line",
               "Document Type",
               "Document No.",
               "Line No.",
               0,
               Quantity)
          THEN
            ShowDialog := ShowDialog::Error
          ELSE
            IF Location2."Require Shipment" THEN
              ShowDialog := ShowDialog::Message;
          IF Location2."Require Shipment" THEN
            DialogText :=
              DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Shipment"))
          ELSE BEGIN
            DialogText := Text034;
            DialogText :=
              DialogText + Location2.GetRequirementText(Location2.FIELDNO("Require Pick"));
          END;
        END;
      END;

      CASE ShowDialog OF
        ShowDialog::Message:
          MESSAGE(Text016 + Text017,DialogText,FIELDCAPTION("Line No."),"Line No.");
        ShowDialog::Error:
          ERROR(Text016,DialogText,FIELDCAPTION("Line No."),"Line No.")
      END;

      HandleDedicatedBin(TRUE);
    END;

    LOCAL PROCEDURE GetOverheadRateFCY@40() : Decimal;
    VAR
      Item@1001 : Record 27;
      QtyPerUOM@1000 : Decimal;
    BEGIN
      IF "Prod. Order No." = '' THEN
        QtyPerUOM := "Qty. per Unit of Measure"
      ELSE BEGIN
        GetItem(Item);
        QtyPerUOM := UOMMgt.GetQtyPerUnitOfMeasure(Item,"Unit of Measure Code");
      END;

      EXIT(
        CurrExchRate.ExchangeAmtLCYToFCY(
          GetDate,"Currency Code","Overhead Rate" * QtyPerUOM,PurchHeader."Currency Factor"));
    END;

    [External]
    PROCEDURE GetItemTranslation@44();
    VAR
      ItemTranslation@1000 : Record 30;
    BEGIN
      GetPurchHeader;
      IF ItemTranslation.GET("No.","Variant Code",PurchHeader."Language Code") THEN BEGIN
        Description := ItemTranslation.Description;
        "Description 2" := ItemTranslation."Description 2";
      END;
    END;

    LOCAL PROCEDURE GetGLSetup@45();
    BEGIN
      IF NOT GLSetupRead THEN
        GLSetup.GET;
      GLSetupRead := TRUE;
    END;

    LOCAL PROCEDURE GetPurchSetup@80();
    BEGIN
      IF NOT PurchSetupRead THEN
        PurchSetup.GET;
      PurchSetupRead := TRUE;
    END;

    [External]
    PROCEDURE AdjustDateFormula@48(DateFormulatoAdjust@1000 : DateFormula) : Text[30];
    BEGIN
      IF FORMAT(DateFormulatoAdjust) <> '' THEN
        EXIT(FORMAT(DateFormulatoAdjust));
      EVALUATE(DateFormulatoAdjust,'<0D>');
      EXIT(FORMAT(DateFormulatoAdjust));
    END;

    LOCAL PROCEDURE GetLocation@7300(LocationCode@1000 : Code[10]);
    BEGIN
      IF LocationCode = '' THEN
        CLEAR(Location)
      ELSE
        IF Location.Code <> LocationCode THEN
          Location.GET(LocationCode);
    END;

    [External]
    PROCEDURE RowID1@49() : Text[250];
    VAR
      ItemTrackingMgt@1000 : Codeunit 6500;
    BEGIN
      EXIT(ItemTrackingMgt.ComposeRowID(DATABASE::"Purchase Line","Document Type",
          "Document No.",'',0,"Line No."));
    END;

    LOCAL PROCEDURE GetDefaultBin@50();
    VAR
      WMSManagement@1000 : Codeunit 7302;
    BEGIN
      IF Type <> Type::Item THEN
        EXIT;

      "Bin Code" := '';
      IF "Drop Shipment" THEN
        EXIT;

      IF ("Location Code" <> '') AND ("No." <> '') THEN BEGIN
        GetLocation("Location Code");
        IF Location."Bin Mandatory" AND NOT Location."Directed Put-away and Pick" THEN BEGIN
          WMSManagement.GetDefaultBin("No.","Variant Code","Location Code","Bin Code");
          HandleDedicatedBin(FALSE);
        END;
      END;
    END;

    [External]
    PROCEDURE IsInbound@75() : Boolean;
    BEGIN
      CASE "Document Type" OF
        "Document Type"::Order,"Document Type"::Invoice,"Document Type"::Quote,"Document Type"::"Blanket Order":
          EXIT("Quantity (Base)" > 0);
        "Document Type"::"Return Order","Document Type"::"Credit Memo":
          EXIT("Quantity (Base)" < 0);
      END;

      EXIT(FALSE);
    END;

    LOCAL PROCEDURE HandleDedicatedBin@71(IssueWarning@1000 : Boolean);
    VAR
      WhseIntegrationMgt@1001 : Codeunit 7317;
    BEGIN
      IF NOT IsInbound AND ("Quantity (Base)" <> 0) THEN
        WhseIntegrationMgt.CheckIfBinDedicatedOnSrcDoc("Location Code","Bin Code",IssueWarning);
    END;

    [External]
    PROCEDURE CrossReferenceNoLookUp@51();
    VAR
      ItemCrossReference@1000 : Record 5717;
    BEGIN
      IF Type = Type::Item THEN BEGIN
        GetPurchHeader;
        ItemCrossReference.RESET;
        ItemCrossReference.SETCURRENTKEY("Cross-Reference Type","Cross-Reference Type No.");
        ItemCrossReference.SETFILTER(
          "Cross-Reference Type",'%1|%2',
          ItemCrossReference."Cross-Reference Type"::Vendor,
          ItemCrossReference."Cross-Reference Type"::" ");
        ItemCrossReference.SETFILTER("Cross-Reference Type No.",'%1|%2',PurchHeader."Buy-from Vendor No.",'');
        IF PAGE.RUNMODAL(PAGE::"Cross Reference List",ItemCrossReference) = ACTION::LookupOK THEN BEGIN
          "Cross-Reference No." := ItemCrossReference."Cross-Reference No.";
          ValidateCrossReferenceNo(ItemCrossReference,FALSE);
          VALIDATE("Cross-Reference No.",ItemCrossReference."Cross-Reference No.");
          PurchPriceCalcMgt.FindPurchLinePrice(PurchHeader,Rec,FIELDNO("Cross-Reference No."));
          PurchPriceCalcMgt.FindPurchLineLineDisc(PurchHeader,Rec);
          VALIDATE("Direct Unit Cost");
        END;
      END;
    END;

    LOCAL PROCEDURE ValidateCrossReferenceNo@156(ItemCrossReference@1000 : Record 5717;SearchItem@1001 : Boolean);
    VAR
      ReturnedItemCrossReference@1002 : Record 5717;
    BEGIN
      ReturnedItemCrossReference.INIT;
      IF "Cross-Reference No." <> '' THEN BEGIN
        IF SearchItem THEN
          DistIntegration.ICRLookupPurchaseItem(Rec,ReturnedItemCrossReference,CurrFieldNo <> 0)
        ELSE
          ReturnedItemCrossReference := ItemCrossReference;

        OnValidateCrossReferenceNoOnBeforeAssignNo(Rec,ReturnedItemCrossReference);

        VALIDATE("No.",ReturnedItemCrossReference."Item No.");
        SetVendorItemNo;
        IF ReturnedItemCrossReference."Variant Code" <> '' THEN
          VALIDATE("Variant Code",ReturnedItemCrossReference."Variant Code");
        IF ReturnedItemCrossReference."Unit of Measure" <> '' THEN
          VALIDATE("Unit of Measure Code",ReturnedItemCrossReference."Unit of Measure");
        UpdateDirectUnitCost(FIELDNO("Cross-Reference No."));
      END;

      "Unit of Measure (Cross Ref.)" := ReturnedItemCrossReference."Unit of Measure";
      "Cross-Reference Type" := ReturnedItemCrossReference."Cross-Reference Type";
      "Cross-Reference Type No." := ReturnedItemCrossReference."Cross-Reference Type No.";
      "Cross-Reference No." := ReturnedItemCrossReference."Cross-Reference No.";

      IF (ReturnedItemCrossReference.Description <> '') OR (ReturnedItemCrossReference."Description 2" <> '') THEN BEGIN
        Description := ReturnedItemCrossReference.Description;
        "Description 2" := ReturnedItemCrossReference."Description 2";
      END;

      UpdateICPartner;
    END;

    [External]
    PROCEDURE ItemExists@52(ItemNo@1000 : Code[20]) : Boolean;
    VAR
      Item2@1001 : Record 27;
    BEGIN
      IF Type = Type::Item THEN
        IF NOT Item2.GET(ItemNo) THEN
          EXIT(FALSE);
      EXIT(TRUE);
    END;

    LOCAL PROCEDURE GetAbsMin@56(QtyToHandle@1000 : Decimal;QtyHandled@1001 : Decimal) : Decimal;
    BEGIN
      IF ABS(QtyHandled) < ABS(QtyToHandle) THEN
        EXIT(QtyHandled);

      EXIT(QtyToHandle);
    END;

    LOCAL PROCEDURE CheckApplToItemLedgEntry@53() : Code[10];
    VAR
      ItemLedgEntry@1000 : Record 32;
      ApplyRec@1005 : Record 339;
      ItemTrackingLines@1006 : Page 6510;
      ReturnedQty@1003 : Decimal;
      RemainingtobeReturnedQty@1004 : Decimal;
    BEGIN
      IF "Appl.-to Item Entry" = 0 THEN
        EXIT;

      IF "Receipt No." <> '' THEN
        EXIT;

      TESTFIELD(Type,Type::Item);
      TESTFIELD(Quantity);
      IF Signed(Quantity) > 0 THEN
        TESTFIELD("Prod. Order No.",'');
      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN BEGIN
        IF Quantity < 0 THEN
          FIELDERROR(Quantity,Text029);
      END ELSE BEGIN
        IF Quantity > 0 THEN
          FIELDERROR(Quantity,Text030);
      END;
      ItemLedgEntry.GET("Appl.-to Item Entry");
      ItemLedgEntry.TESTFIELD(Positive,TRUE);
      IF ItemLedgEntry.TrackingExists THEN
        ERROR(Text040,ItemTrackingLines.CAPTION,FIELDCAPTION("Appl.-to Item Entry"));

      ItemLedgEntry.TESTFIELD("Item No.","No.");
      ItemLedgEntry.TESTFIELD("Variant Code","Variant Code");

      // Track qty in both alternative and base UOM for better error checking and reporting
      IF ABS("Quantity (Base)") > ItemLedgEntry.Quantity THEN
        ERROR(
          Text042,
          ItemLedgEntry.Quantity,ItemLedgEntry.FIELDCAPTION("Document No."),
          ItemLedgEntry."Document No.");

      IF "Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"] THEN
        IF ABS("Outstanding Qty. (Base)") > ItemLedgEntry."Remaining Quantity" THEN BEGIN
          ReturnedQty := ApplyRec.Returned(ItemLedgEntry."Entry No.");
          RemainingtobeReturnedQty := ItemLedgEntry.Quantity - ReturnedQty;
          IF NOT ("Qty. per Unit of Measure" = 0) THEN BEGIN
            ReturnedQty := ROUND(ReturnedQty / "Qty. per Unit of Measure",0.00001);
            RemainingtobeReturnedQty := ROUND(RemainingtobeReturnedQty / "Qty. per Unit of Measure",0.00001);
          END;

          IF ((("Qty. per Unit of Measure" = 0) AND (RemainingtobeReturnedQty < ABS("Outstanding Qty. (Base)"))) OR
              (("Qty. per Unit of Measure" <> 0) AND (RemainingtobeReturnedQty < ABS("Outstanding Quantity"))))
          THEN
            ERROR(
              Text035,
              ReturnedQty,ItemLedgEntry.FIELDCAPTION("Document No."),
              ItemLedgEntry."Document No.",RemainingtobeReturnedQty);
        END;

      EXIT(ItemLedgEntry."Location Code");
    END;

    [External]
    PROCEDURE CalcPrepaymentToDeduct@59();
    BEGIN
      IF ("Qty. to Invoice" <> 0) AND ("Prepmt. Amt. Inv." <> 0) THEN BEGIN
        GetPurchHeader;
        IF ("Prepayment %" = 100) AND NOT IsFinalInvoice THEN
          "Prepmt Amt to Deduct" := GetLineAmountToHandle("Qty. to Invoice")
        ELSE
          "Prepmt Amt to Deduct" :=
            ROUND(
              ("Prepmt. Amt. Inv." - "Prepmt Amt Deducted") *
              "Qty. to Invoice" / (Quantity - "Quantity Invoiced"),Currency."Amount Rounding Precision")
      END ELSE
        "Prepmt Amt to Deduct" := 0
    END;

    [External]
    PROCEDURE IsFinalInvoice@116() : Boolean;
    BEGIN
      EXIT("Qty. to Invoice" = Quantity - "Quantity Invoiced");
    END;

    [External]
    PROCEDURE GetLineAmountToHandle@117(QtyToHandle@1002 : Decimal) : Decimal;
    VAR
      LineAmount@1001 : Decimal;
      LineDiscAmount@1000 : Decimal;
    BEGIN
      IF "Line Discount %" = 100 THEN
        EXIT(0);

      GetPurchHeader;

      IF "Prepmt Amt to Deduct" = 0 THEN
        LineAmount := ROUND(QtyToHandle * "Direct Unit Cost",Currency."Amount Rounding Precision")
      ELSE BEGIN
        LineAmount := ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision");
        LineAmount := ROUND(QtyToHandle * LineAmount / Quantity,Currency."Amount Rounding Precision");
      END;

      IF QtyToHandle <> Quantity THEN
        LineDiscAmount := ROUND(LineAmount * "Line Discount %" / 100,Currency."Amount Rounding Precision")
      ELSE
        LineDiscAmount := "Line Discount Amount";

      OnAfterGetLineAmountToHandle(Rec,QtyToHandle,LineAmount,LineDiscAmount);
      EXIT(LineAmount - LineDiscAmount);
    END;

    [External]
    PROCEDURE JobTaskIsSet@61() : Boolean;
    VAR
      JobTaskSet@1000 : Boolean;
    BEGIN
      JobTaskSet := FALSE;
      OnBeforeJobTaskIsSet(Rec,JobTaskSet);

      EXIT(
        (("Job No." <> '') AND ("Job Task No." <> '') AND (Type IN [Type::"G/L Account",Type::Item])) OR
        JobTaskSet);
    END;

    [External]
    PROCEDURE CreateTempJobJnlLine@55(GetPrices@1001 : Boolean);
    BEGIN
      GetPurchHeader;
      CLEAR(TempJobJnlLine);
      TempJobJnlLine.DontCheckStdCost;
      TempJobJnlLine.VALIDATE("Job No.","Job No.");
      TempJobJnlLine.VALIDATE("Job Task No.","Job Task No.");
      TempJobJnlLine.VALIDATE("Posting Date",PurchHeader."Posting Date");
      TempJobJnlLine.SetCurrencyFactor("Job Currency Factor");
      IF Type = Type::"G/L Account" THEN
        TempJobJnlLine.VALIDATE(Type,TempJobJnlLine.Type::"G/L Account")
      ELSE
        TempJobJnlLine.VALIDATE(Type,TempJobJnlLine.Type::Item);
      TempJobJnlLine.VALIDATE("No.","No.");
      TempJobJnlLine.VALIDATE(Quantity,Quantity);
      TempJobJnlLine.VALIDATE("Variant Code","Variant Code");
      TempJobJnlLine.VALIDATE("Unit of Measure Code","Unit of Measure Code");

      IF NOT GetPrices THEN BEGIN
        IF xRec."Line No." <> 0 THEN BEGIN
          TempJobJnlLine."Unit Cost" := xRec."Unit Cost";
          TempJobJnlLine."Unit Cost (LCY)" := xRec."Unit Cost (LCY)";
          TempJobJnlLine."Unit Price" := xRec."Job Unit Price";
          TempJobJnlLine."Line Amount" := xRec."Job Line Amount";
          TempJobJnlLine."Line Discount %" := xRec."Job Line Discount %";
          TempJobJnlLine."Line Discount Amount" := xRec."Job Line Discount Amount";
        END ELSE BEGIN
          TempJobJnlLine."Unit Cost" := "Unit Cost";
          TempJobJnlLine."Unit Cost (LCY)" := "Unit Cost (LCY)";
          TempJobJnlLine."Unit Price" := "Job Unit Price";
          TempJobJnlLine."Line Amount" := "Job Line Amount";
          TempJobJnlLine."Line Discount %" := "Job Line Discount %";
          TempJobJnlLine."Line Discount Amount" := "Job Line Discount Amount";
        END;
        TempJobJnlLine.VALIDATE("Unit Price");
      END ELSE
        TempJobJnlLine.VALIDATE("Unit Cost (LCY)","Unit Cost (LCY)");

      OnAfterCreateTempJobJnlLine(TempJobJnlLine,Rec,xRec,GetPrices,CurrFieldNo);
    END;

    [External]
    PROCEDURE UpdateJobPrices@69();
    VAR
      PurchRcptLine@1000 : Record 121;
    BEGIN
      IF "Receipt No." = '' THEN BEGIN
        "Job Unit Price" := TempJobJnlLine."Unit Price";
        "Job Total Price" := TempJobJnlLine."Total Price";
        "Job Unit Price (LCY)" := TempJobJnlLine."Unit Price (LCY)";
        "Job Total Price (LCY)" := TempJobJnlLine."Total Price (LCY)";
        "Job Line Amount (LCY)" := TempJobJnlLine."Line Amount (LCY)";
        "Job Line Disc. Amount (LCY)" := TempJobJnlLine."Line Discount Amount (LCY)";
        "Job Line Amount" := TempJobJnlLine."Line Amount";
        "Job Line Discount %" := TempJobJnlLine."Line Discount %";
        "Job Line Discount Amount" := TempJobJnlLine."Line Discount Amount";
      END ELSE BEGIN
        PurchRcptLine.GET("Receipt No.","Receipt Line No.");
        "Job Unit Price" := PurchRcptLine."Job Unit Price";
        "Job Total Price" := PurchRcptLine."Job Total Price";
        "Job Unit Price (LCY)" := PurchRcptLine."Job Unit Price (LCY)";
        "Job Total Price (LCY)" := PurchRcptLine."Job Total Price (LCY)";
        "Job Line Amount (LCY)" := PurchRcptLine."Job Line Amount (LCY)";
        "Job Line Disc. Amount (LCY)" := PurchRcptLine."Job Line Disc. Amount (LCY)";
        "Job Line Amount" := PurchRcptLine."Job Line Amount";
        "Job Line Discount %" := PurchRcptLine."Job Line Discount %";
        "Job Line Discount Amount" := PurchRcptLine."Job Line Discount Amount";
      END;

      OnAfterUpdateJobPrices(Rec,TempJobJnlLine,PurchRcptLine);
    END;

    [External]
    PROCEDURE JobSetCurrencyFactor@54();
    BEGIN
      GetPurchHeader;
      CLEAR(TempJobJnlLine);
      TempJobJnlLine.VALIDATE("Job No.","Job No.");
      TempJobJnlLine.VALIDATE("Job Task No.","Job Task No.");
      TempJobJnlLine.VALIDATE("Posting Date",PurchHeader."Posting Date");
      "Job Currency Factor" := TempJobJnlLine."Currency Factor";
    END;

    [External]
    PROCEDURE SetUpdateFromVAT@58(UpdateFromVAT2@1000 : Boolean);
    BEGIN
      UpdateFromVAT := UpdateFromVAT2;
    END;

    [External]
    PROCEDURE InitQtyToReceive2@57();
    BEGIN
      "Qty. to Receive" := "Outstanding Quantity";
      "Qty. to Receive (Base)" := "Outstanding Qty. (Base)";

      "Qty. to Invoice" := MaxQtyToInvoice;
      "Qty. to Invoice (Base)" := MaxQtyToInvoiceBase;
      "VAT Difference" := 0;

      CalcInvDiscToInvoice;

      CalcPrepaymentToDeduct;

      IF "Job Planning Line No." <> 0 THEN
        VALIDATE("Job Planning Line No.");
    END;

    [External]
    PROCEDURE ClearQtyIfBlank@88();
    BEGIN
      IF "Document Type" = "Document Type"::Order THEN BEGIN
        GetPurchSetup;
        IF PurchSetup."Default Qty. to Receive" = PurchSetup."Default Qty. to Receive"::Blank THEN BEGIN
          "Qty. to Receive" := 0;
          "Qty. to Receive (Base)" := 0;
        END;
      END;
    END;

    [External]
    PROCEDURE ShowLineComments@62();
    VAR
      PurchCommentLine@1000 : Record 43;
    BEGIN
      TESTFIELD("Document No.");
      TESTFIELD("Line No.");
      PurchCommentLine.ShowComments("Document Type","Document No.","Line No.");
    END;

    [External]
    PROCEDURE SetDefaultQuantity@63();
    BEGIN
      GetPurchSetup;
      IF PurchSetup."Default Qty. to Receive" = PurchSetup."Default Qty. to Receive"::Blank THEN BEGIN
        IF ("Document Type" = "Document Type"::Order) OR ("Document Type" = "Document Type"::Quote) THEN BEGIN
          "Qty. to Receive" := 0;
          "Qty. to Receive (Base)" := 0;
          "Qty. to Invoice" := 0;
          "Qty. to Invoice (Base)" := 0;
        END;
        IF "Document Type" = "Document Type"::"Return Order" THEN BEGIN
          "Return Qty. to Ship" := 0;
          "Return Qty. to Ship (Base)" := 0;
          "Qty. to Invoice" := 0;
          "Qty. to Invoice (Base)" := 0;
        END;
      END;

      OnAfterSetDefaultQuantity(Rec,xRec);
    END;

    [External]
    PROCEDURE UpdatePrePaymentAmounts@65();
    VAR
      ReceiptLine@1000 : Record 121;
      PurchOrderLine@1001 : Record 39;
      PurchOrderHeader@1002 : Record 38;
    BEGIN
      IF ("Document Type" <> "Document Type"::Invoice) OR ("Prepayment %" = 0) THEN
        EXIT;

      IF NOT ReceiptLine.GET("Receipt No.","Receipt Line No.") THEN BEGIN
        "Prepmt Amt to Deduct" := 0;
        "Prepmt VAT Diff. to Deduct" := 0;
      END ELSE
        IF PurchOrderLine.GET(PurchOrderLine."Document Type"::Order,ReceiptLine."Order No.",ReceiptLine."Order Line No.") THEN BEGIN
          IF ("Prepayment %" = 100) AND (Quantity <> PurchOrderLine.Quantity - PurchOrderLine."Quantity Invoiced") THEN
            "Prepmt Amt to Deduct" := "Line Amount"
          ELSE
            "Prepmt Amt to Deduct" :=
              ROUND((PurchOrderLine."Prepmt. Amt. Inv." - PurchOrderLine."Prepmt Amt Deducted") *
                Quantity / (PurchOrderLine.Quantity - PurchOrderLine."Quantity Invoiced"),Currency."Amount Rounding Precision");
          "Prepmt VAT Diff. to Deduct" := "Prepayment VAT Difference" - "Prepmt VAT Diff. Deducted";
          PurchOrderHeader.GET(PurchOrderHeader."Document Type"::Order,PurchOrderLine."Document No.");
        END ELSE BEGIN
          "Prepmt Amt to Deduct" := 0;
          "Prepmt VAT Diff. to Deduct" := 0;
        END;

      GetPurchHeader;
      PurchHeader.TESTFIELD("Prices Including VAT",PurchOrderHeader."Prices Including VAT");
      IF PurchHeader."Prices Including VAT" THEN BEGIN
        "Prepmt. Amt. Incl. VAT" := "Prepmt Amt to Deduct";
        "Prepayment Amount" :=
          ROUND(
            "Prepmt Amt to Deduct" / (1 + ("Prepayment VAT %" / 100)),
            Currency."Amount Rounding Precision");
      END ELSE BEGIN
        "Prepmt. Amt. Incl. VAT" :=
          ROUND(
            "Prepmt Amt to Deduct" * (1 + ("Prepayment VAT %" / 100)),
            Currency."Amount Rounding Precision");
        "Prepayment Amount" := "Prepmt Amt to Deduct";
      END;
      "Prepmt. Line Amount" := "Prepmt Amt to Deduct";
      "Prepmt. Amt. Inv." := "Prepmt. Line Amount";
      "Prepmt. VAT Base Amt." := "Prepayment Amount";
      "Prepmt. Amount Inv. Incl. VAT" := "Prepmt. Amt. Incl. VAT";
      "Prepmt Amt Deducted" := 0;
    END;

    [External]
    PROCEDURE SetVendorItemNo@64();
    VAR
      Item@1001 : Record 27;
      ItemVend@1000 : Record 99;
    BEGIN
      GetItem(Item);
      ItemVend.INIT;
      ItemVend."Vendor No." := "Buy-from Vendor No.";
      ItemVend."Variant Code" := "Variant Code";
      Item.FindItemVend(ItemVend,"Location Code");
      VALIDATE("Vendor Item No.",ItemVend."Vendor Item No.");
    END;

    [External]
    PROCEDURE ZeroAmountLine@66(QtyType@1000 : 'General,Invoicing,Shipping') : Boolean;
    BEGIN
      IF Type = Type::" " THEN
        EXIT(TRUE);
      IF Quantity = 0 THEN
        EXIT(TRUE);
      IF "Direct Unit Cost" = 0 THEN
        EXIT(TRUE);
      IF QtyType = QtyType::Invoicing THEN
        IF "Qty. to Invoice" = 0 THEN
          EXIT(TRUE);
      EXIT(FALSE);
    END;

    [External]
    PROCEDURE FilterLinesWithItemToPlan@70(VAR Item@1000 : Record 27;DocumentType@1001 : Option);
    BEGIN
      RESET;
      SETCURRENTKEY("Document Type",Type,"No.","Variant Code","Drop Shipment","Location Code","Expected Receipt Date");
      SETRANGE("Document Type",DocumentType);
      SETRANGE(Type,Type::Item);
      SETRANGE("No.",Item."No.");
      SETFILTER("Variant Code",Item.GETFILTER("Variant Filter"));
      SETFILTER("Location Code",Item.GETFILTER("Location Filter"));
      SETFILTER("Drop Shipment",Item.GETFILTER("Drop Shipment Filter"));
      SETFILTER("Expected Receipt Date",Item.GETFILTER("Date Filter"));
      SETFILTER("Shortcut Dimension 1 Code",Item.GETFILTER("Global Dimension 1 Filter"));
      SETFILTER("Shortcut Dimension 2 Code",Item.GETFILTER("Global Dimension 2 Filter"));
      SETFILTER("Outstanding Qty. (Base)",'<>0');
    END;

    [External]
    PROCEDURE FindLinesWithItemToPlan@68(VAR Item@1000 : Record 27;DocumentType@1001 : Option) : Boolean;
    BEGIN
      FilterLinesWithItemToPlan(Item,DocumentType);
      EXIT(FIND('-'));
    END;

    [External]
    PROCEDURE LinesWithItemToPlanExist@67(VAR Item@1000 : Record 27;DocumentType@1001 : Option) : Boolean;
    BEGIN
      FilterLinesWithItemToPlan(Item,DocumentType);
      EXIT(NOT ISEMPTY);
    END;

    [External]
    PROCEDURE GetVPGInvRoundAcc@72(VAR PurchHeader@1002 : Record 38) : Code[20];
    VAR
      Vendor@1000 : Record 23;
      VendorPostingGroup@1001 : Record 93;
    BEGIN
      GetPurchSetup;
      IF PurchSetup."Invoice Rounding" THEN
        IF Vendor.GET(PurchHeader."Pay-to Vendor No.") THEN
          VendorPostingGroup.GET(Vendor."Vendor Posting Group");

      EXIT(VendorPostingGroup."Invoice Rounding Account");
    END;

    LOCAL PROCEDURE CheckReceiptRelation@94();
    VAR
      PurchRcptLine@1001 : Record 121;
    BEGIN
      PurchRcptLine.GET("Receipt No.","Receipt Line No.");
      IF (Quantity * PurchRcptLine."Qty. Rcd. Not Invoiced") < 0 THEN
        FIELDERROR("Qty. to Invoice",Text051);
      IF ABS(Quantity) > ABS(PurchRcptLine."Qty. Rcd. Not Invoiced") THEN
        ERROR(Text052,PurchRcptLine."Document No.");
    END;

    LOCAL PROCEDURE CheckRetShptRelation@74();
    VAR
      ReturnShptLine@1000 : Record 6651;
    BEGIN
      ReturnShptLine.GET("Return Shipment No.","Return Shipment Line No.");
      IF (Quantity * (ReturnShptLine.Quantity - ReturnShptLine."Quantity Invoiced")) < 0 THEN
        FIELDERROR("Qty. to Invoice",Text053);
      IF ABS(Quantity) > ABS(ReturnShptLine.Quantity - ReturnShptLine."Quantity Invoiced") THEN
        ERROR(Text054,ReturnShptLine."Document No.");
    END;

    LOCAL PROCEDURE VerifyItemLineDim@73();
    BEGIN
      IF IsReceivedShippedItemDimChanged THEN
        ConfirmReceivedShippedItemDimChange;
    END;

    [External]
    PROCEDURE IsReceivedShippedItemDimChanged@89() : Boolean;
    BEGIN
      EXIT(("Dimension Set ID" <> xRec."Dimension Set ID") AND (Type = Type::Item) AND
        (("Qty. Rcd. Not Invoiced" <> 0) OR ("Return Qty. Shipped Not Invd." <> 0)));
    END;

    LOCAL PROCEDURE IsServiceCharge@177() : Boolean;
    VAR
      VendorPostingGroup@1001 : Record 93;
    BEGIN
      IF Type <> Type::"G/L Account" THEN
        EXIT(FALSE);

      GetPurchHeader;
      VendorPostingGroup.GET(PurchHeader."Vendor Posting Group");
      EXIT(VendorPostingGroup."Service Charge Acc." = "No.");
    END;

    [External]
    PROCEDURE ConfirmReceivedShippedItemDimChange@90() : Boolean;
    VAR
      ConfirmManagement@1000 : Codeunit 27;
    BEGIN
      IF NOT ConfirmManagement.ConfirmProcess(STRSUBSTNO(Text049,TABLECAPTION),TRUE) THEN
        ERROR(Text050);

      EXIT(TRUE);
    END;

    [External]
    PROCEDURE InitType@22();
    BEGIN
      IF "Document No." <> '' THEN BEGIN
        IF NOT PurchHeader.GET("Document Type","Document No.") THEN
          EXIT;
        IF (PurchHeader.Status = PurchHeader.Status::Released) AND
           (xRec.Type IN [xRec.Type::Item,xRec.Type::"Fixed Asset"])
        THEN
          Type := Type::" "
        ELSE
          Type := xRec.Type;
      END;
    END;

    [External]
    PROCEDURE CalcSalesTaxLines@1020000(VAR PurchHeader@1020001 : Record 38;VAR PurchLine@1020000 : Record 39);
    VAR
      TaxArea@1020002 : Record 318;
    BEGIN
      IF PurchHeader."Tax Area Code" = '' THEN
        EXIT;
      TaxArea.GET(PurchHeader."Tax Area Code");
      SalesTaxCalculate.StartSalesTaxCalculation; // clear temp table

      IF TaxArea."Use External Tax Engine" THEN
        SalesTaxCalculate.CallExternalTaxEngineForPurch(PurchHeader,TRUE)
      ELSE BEGIN
        WITH PurchLine DO BEGIN
          SETRANGE("Document Type",PurchHeader."Document Type");
          SETRANGE("Document No.",PurchHeader."No.");
          SETFILTER(Type,'<>0');
          SETFILTER("Tax Group Code",'<>%1','');
          IF FIND('-') THEN
            REPEAT
              SalesTaxCalculate.AddPurchLine(PurchLine);
            UNTIL NEXT = 0;
        END;
        SalesTaxCalculate.EndSalesTaxCalculation(PurchHeader."Posting Date");
      END;
      PurchLine2.COPYFILTERS(PurchLine);
      SalesTaxCalculate.DistTaxOverPurchLines(PurchLine);
      PurchLine.COPYFILTERS(PurchLine2);
    END;

    [External]
    PROCEDURE TestExpenseCapitalize@1020001();
    VAR
      TaxAreaLine@1020000 : Record 319;
      TaxDetail@1020001 : Record 322;
      Text1020000@1020002 : TextConst 'ENU=%1 cannot be set because %2 record %3, %4 is set for Expense/Capitalize.;ESM=%1 no puede configurarse porque %3,%4 del registro %2, est† establecido para Gastar/Capitalizar.;FRC=Impossible de dÇfinir %1 car l''enregistrement %2 %3, %4 est dÇfini comme DÇpense/Capitaliser.;ENC=%1 cannot be set because %2 record %3, %4 is set for Expense/Capitalize.';
    BEGIN
      IF NOT "Use Tax" THEN
        EXIT;
      TaxAreaLine.SETCURRENTKEY("Tax Area","Calculation Order");
      TaxAreaLine.SETRANGE("Tax Area","Tax Area Code");
      IF TaxAreaLine.FIND('-') THEN
        REPEAT
          TaxDetail.RESET;
          TaxDetail.SETRANGE("Tax Jurisdiction Code",TaxAreaLine."Tax Jurisdiction Code");
          IF "Tax Group Code" = '' THEN
            TaxDetail.SETFILTER("Tax Group Code",'%1',"Tax Group Code")
          ELSE
            TaxDetail.SETFILTER("Tax Group Code",'%1|%2','',"Tax Group Code");
          IF PurchHeader."Posting Date" = 0D THEN
            TaxDetail.SETFILTER("Effective Date",'<=%1',WORKDATE)
          ELSE
            TaxDetail.SETFILTER("Effective Date",'<=%1',PurchHeader."Posting Date");
          TaxDetail.SETFILTER("Tax Type",'<>%1',TaxDetail."Tax Type"::"Sales Tax Only");
          IF TaxDetail.ISEMPTY THEN
            TaxDetail.SETRANGE("Tax Type",TaxDetail."Tax Type"::"Sales Tax Only");
          IF TaxDetail.FINDLAST THEN
            IF TaxDetail."Expense/Capitalize" THEN
              ERROR(Text1020000,FIELDCAPTION("Use Tax"),TaxDetail.TABLECAPTION,
                TaxAreaLine."Tax Jurisdiction Code","Tax Group Code");
        UNTIL TaxAreaLine.NEXT = 0;
    END;

    LOCAL PROCEDURE CheckForTaxDifferences@1020002();
    VAR
      SalesTaxDifference@1020000 : Record 10012;
    BEGIN
      IF "Tax Area Code" = '' THEN
        EXIT;

      IF SalesTaxDifference.AnyTaxDifferenceRecords(
           SalesTaxDifference."Document Product Area"::Purchase,"Document Type","Document No.")
      THEN BEGIN
        IF CONFIRM(Text1020001,FALSE) THEN
          SalesTaxDifference.ClearDocDifference(
            SalesTaxDifference."Document Product Area"::Purchase,"Document Type","Document No.")
        ELSE
          ERROR(Text1020000);
      END;
    END;

    LOCAL PROCEDURE CheckWMS@76();
    BEGIN
      IF CurrFieldNo <> 0 THEN
        CheckLocationOnWMS;
    END;

    [External]
    PROCEDURE CheckLocationOnWMS@79();
    VAR
      DialogText@1001 : Text;
    BEGIN
      IF Type = Type::Item THEN BEGIN
        DialogText := Text033;
        IF "Quantity (Base)" <> 0 THEN
          CASE "Document Type" OF
            "Document Type"::Invoice:
              IF "Receipt No." = '' THEN
                IF Location.GET("Location Code") AND Location."Directed Put-away and Pick" THEN BEGIN
                  DialogText += Location.GetRequirementText(Location.FIELDNO("Require Receive"));
                  ERROR(Text016,DialogText,FIELDCAPTION("Line No."),"Line No.");
                END;
            "Document Type"::"Credit Memo":
              IF "Return Shipment No." = '' THEN
                IF Location.GET("Location Code") AND Location."Directed Put-away and Pick" THEN BEGIN
                  DialogText += Location.GetRequirementText(Location.FIELDNO("Require Shipment"));
                  ERROR(Text016,DialogText,FIELDCAPTION("Line No."),"Line No.");
                END;
          END;
      END;
    END;

    [External]
    PROCEDURE IsNonInventoriableItem@175() : Boolean;
    VAR
      Item@1000 : Record 27;
    BEGIN
      IF Type <> Type::Item THEN
        EXIT(FALSE);
      IF "No." = '' THEN
        EXIT(FALSE);
      GetItem(Item);
      EXIT(Item.IsNonInventoriableType);
    END;

    [External]
    PROCEDURE IsInventoriableItem@139() : Boolean;
    VAR
      Item@1000 : Record 27;
    BEGIN
      IF Type <> Type::Item THEN
        EXIT(FALSE);
      IF "No." = '' THEN
        EXIT(FALSE);
      GetItem(Item);
      EXIT(Item.IsInventoriableType);
    END;

    [External]
    PROCEDURE CalcAmountIncludingTax@1020003(BaseAmount@1020000 : Decimal) : Decimal;
    BEGIN
      GetPurchHeader;
      EXIT(ROUND(BaseAmount * (1 + "VAT %" / 100),Currency."Amount Rounding Precision"));
    END;

    LOCAL PROCEDURE ReservEntryExist@78() : Boolean;
    VAR
      NewReservEntry@1000 : Record 337;
    BEGIN
      ReservePurchLine.FilterReservFor(NewReservEntry,Rec);
      NewReservEntry.SETRANGE("Reservation Status",NewReservEntry."Reservation Status"::Reservation,
        NewReservEntry."Reservation Status"::Tracking);

      EXIT(NOT NewReservEntry.ISEMPTY);
    END;

    LOCAL PROCEDURE ValidateReturnReasonCode@99(CallingFieldNo@1000 : Integer);
    VAR
      ReturnReason@1001 : Record 6635;
    BEGIN
      IF CallingFieldNo = 0 THEN
        EXIT;
      IF "Return Reason Code" = '' THEN
        UpdateDirectUnitCost(CallingFieldNo);

      IF ReturnReason.GET("Return Reason Code") THEN BEGIN
        IF (CallingFieldNo <> FIELDNO("Location Code")) AND (ReturnReason."Default Location Code" <> '') THEN
          VALIDATE("Location Code",ReturnReason."Default Location Code");
        IF ReturnReason."Inventory Value Zero" THEN
          VALIDATE("Direct Unit Cost",0)
        ELSE
          UpdateDirectUnitCost(CallingFieldNo);
      END;
    END;

    LOCAL PROCEDURE UpdateDimensionsFromJobTask@60();
    VAR
      SourceCodeSetup@1003 : Record 242;
      DimSetArrID@1000 : ARRAY [10] OF Integer;
      DimValue1@1001 : Code[20];
      DimValue2@1002 : Code[20];
    BEGIN
      SourceCodeSetup.GET;
      DimSetArrID[1] := "Dimension Set ID";
      DimSetArrID[2] :=
        DimMgt.CreateDimSetFromJobTaskDim("Job No.",
          "Job Task No.",DimValue1,DimValue2);
      DimMgt.CreateDimForPurchLineWithHigherPriorities(
        Rec,CurrFieldNo,DimSetArrID[3],DimValue1,DimValue2,SourceCodeSetup.Purchases,DATABASE::Job);

      "Dimension Set ID" :=
        DimMgt.GetCombinedDimensionSetID(
          DimSetArrID,DimValue1,DimValue2);

      "Shortcut Dimension 1 Code" := DimValue1;
      "Shortcut Dimension 2 Code" := DimValue2;
    END;

    LOCAL PROCEDURE UpdateItemCrossRef@82();
    BEGIN
      DistIntegration.EnterPurchaseItemCrossRef(Rec);
      UpdateICPartner;
    END;

    LOCAL PROCEDURE UpdateItemReference@85();
    BEGIN
      UpdateItemCrossRef;
      IF Type <> Type::Item THEN
        EXIT;

      IF "Cross-Reference No." = '' THEN
        SetVendorItemNo
      ELSE
        VALIDATE("Vendor Item No.","Cross-Reference No.");
    END;

    LOCAL PROCEDURE UpdateICPartner@81();
    VAR
      ICPartner@1000 : Record 413;
      ItemCrossReference@1001 : Record 5717;
    BEGIN
      IF PurchHeader."Send IC Document" AND
         (PurchHeader."IC Direction" = PurchHeader."IC Direction"::Outgoing)
      THEN
        CASE Type OF
          Type::" ",Type::"Charge (Item)":
            BEGIN
              "IC Partner Ref. Type" := Type;
              "IC Partner Reference" := "No.";
            END;
          Type::"G/L Account":
            BEGIN
              "IC Partner Ref. Type" := Type;
              "IC Partner Reference" := GLAcc."Default IC Partner G/L Acc. No";
            END;
          Type::Item:
            BEGIN
              ICPartner.GET(PurchHeader."Buy-from IC Partner Code");
              CASE ICPartner."Outbound Purch. Item No. Type" OF
                ICPartner."Outbound Purch. Item No. Type"::"Common Item No.":
                  VALIDATE("IC Partner Ref. Type","IC Partner Ref. Type"::"Common Item No.");
                ICPartner."Outbound Purch. Item No. Type"::"Internal No.",
                ICPartner."Outbound Purch. Item No. Type"::"Cross Reference":
                  BEGIN
                    IF ICPartner."Outbound Purch. Item No. Type" = ICPartner."Outbound Purch. Item No. Type"::"Internal No." THEN
                      VALIDATE("IC Partner Ref. Type","IC Partner Ref. Type"::Item)
                    ELSE
                      VALIDATE("IC Partner Ref. Type","IC Partner Ref. Type"::"Cross Reference");
                    ItemCrossReference.SETRANGE("Cross-Reference Type",ItemCrossReference."Cross-Reference Type"::Vendor);
                    ItemCrossReference.SETRANGE("Cross-Reference Type No.","Buy-from Vendor No.");
                    ItemCrossReference.SETRANGE("Item No.","No.");
                    ItemCrossReference.SETRANGE("Variant Code","Variant Code");
                    ItemCrossReference.SETRANGE("Unit of Measure","Unit of Measure Code");
                    IF ItemCrossReference.FINDFIRST THEN
                      "IC Partner Reference" := ItemCrossReference."Cross-Reference No."
                    ELSE
                      "IC Partner Reference" := "No.";
                  END;
                ICPartner."Outbound Purch. Item No. Type"::"Vendor Item No.":
                  BEGIN
                    "IC Partner Ref. Type" := "IC Partner Ref. Type"::"Vendor Item No.";
                    "IC Partner Reference" := "Vendor Item No.";
                  END;
              END;
            END;
          Type::"Fixed Asset":
            BEGIN
              "IC Partner Ref. Type" := "IC Partner Ref. Type"::" ";
              "IC Partner Reference" := '';
            END;
        END;
    END;

    LOCAL PROCEDURE CalcTotalAmtToAssign@84(TotalQtyToAssign@1000 : Decimal) TotalAmtToAssign : Decimal;
    BEGIN
      TotalAmtToAssign := CalcLineAmount * TotalQtyToAssign / Quantity;

      IF PurchHeader."Prices Including VAT" THEN
        TotalAmtToAssign := TotalAmtToAssign / (1 + "VAT %" / 100) - "VAT Difference";

      TotalAmtToAssign := ROUND(TotalAmtToAssign,Currency."Amount Rounding Precision");
    END;

    [External]
    PROCEDURE HasTypeToFillMandatoryFields@103() : Boolean;
    BEGIN
      EXIT(Type <> Type::" ");
    END;

    [External]
    PROCEDURE GetDeferralAmount@105() : Decimal;
    VAR
      TempPurchaseLine@1030000 : TEMPORARY Record 39;
    BEGIN
      IF "Tax Liable" AND ("Tax Area Code" <> '') AND ("VAT Calculation Type" = "VAT Calculation Type"::"Sales Tax") THEN BEGIN
        TempPurchaseLine := Rec;
        TempPurchaseLine.INSERT;
        CalcSalesTaxLines(PurchHeader,TempPurchaseLine);
        EXIT(TempPurchaseLine.Amount + TempPurchaseLine."Tax To Be Expensed");
      END;

      IF "VAT Base Amount" <> 0 THEN
        EXIT("VAT Base Amount");

      EXIT(CalcLineAmount);
    END;

    LOCAL PROCEDURE UpdateDeferralAmounts@104();
    VAR
      DeferralPostDate@1000 : Date;
      AdjustStartDate@1001 : Boolean;
    BEGIN
      GetPurchHeader;
      DeferralPostDate := PurchHeader."Posting Date";
      AdjustStartDate := TRUE;
      IF "Document Type" = "Document Type"::"Return Order" THEN BEGIN
        IF "Returns Deferral Start Date" = 0D THEN
          "Returns Deferral Start Date" := PurchHeader."Posting Date";
        DeferralPostDate := "Returns Deferral Start Date";
        AdjustStartDate := FALSE;
      END;

      DeferralUtilities.RemoveOrSetDeferralSchedule(
        "Deferral Code",DeferralUtilities.GetPurchDeferralDocType,'','',
        "Document Type","Document No.","Line No.",
        GetDeferralAmount,DeferralPostDate,Description,PurchHeader."Currency Code",AdjustStartDate);
    END;

    PROCEDURE ShowDeferrals@108(PostingDate@1000 : Date;CurrencyCode@1001 : Code[10]) : Boolean;
    BEGIN
      EXIT(DeferralUtilities.OpenLineScheduleEdit(
          "Deferral Code",DeferralUtilities.GetPurchDeferralDocType,'','',
          "Document Type","Document No.","Line No.",
          GetDeferralAmount,PostingDate,Description,CurrencyCode));
    END;

    LOCAL PROCEDURE InitDeferralCode@112();
    VAR
      Item@1000 : Record 27;
    BEGIN
      IF "Document Type" IN
         ["Document Type"::Order,"Document Type"::Invoice,"Document Type"::"Credit Memo","Document Type"::"Return Order"]
      THEN
        CASE Type OF
          Type::"G/L Account":
            VALIDATE("Deferral Code",GLAcc."Default Deferral Template Code");
          Type::Item:
            BEGIN
              GetItem(Item);
              VALIDATE("Deferral Code",Item."Default Deferral Template Code");
            END;
        END;
    END;

    [External]
    PROCEDURE DefaultDeferralCode@110();
    VAR
      Item@1000 : Record 27;
    BEGIN
      CASE Type OF
        Type::"G/L Account":
          BEGIN
            GLAcc.GET("No.");
            InitDeferralCode;
          END;
        Type::Item:
          BEGIN
            GetItem(Item);
            InitDeferralCode;
          END;
      END;
    END;

    [External]
    PROCEDURE IsCreditDocType@83() : Boolean;
    BEGIN
      EXIT("Document Type" IN ["Document Type"::"Return Order","Document Type"::"Credit Memo"]);
    END;

    [External]
    PROCEDURE IsInvoiceDocType@91() : Boolean;
    BEGIN
      EXIT("Document Type" IN ["Document Type"::Order,"Document Type"::Invoice]);
    END;

    LOCAL PROCEDURE IsReceivedFromOcr@92() : Boolean;
    VAR
      IncomingDocument@1002 : Record 130;
    BEGIN
      GetPurchHeader;
      IF NOT IncomingDocument.GET(PurchHeader."Incoming Document Entry No.") THEN
        EXIT(FALSE);
      EXIT(IncomingDocument."OCR Status" = IncomingDocument."OCR Status"::Success);
    END;

    LOCAL PROCEDURE TestReturnFieldsZero@86();
    BEGIN
      TESTFIELD("Return Qty. Shipped Not Invd.",0);
      TESTFIELD("Return Qty. Shipped",0);
      TESTFIELD("Return Shipment No.",'');
    END;

    [External]
    PROCEDURE CanEditUnitOfMeasureCode@115() : Boolean;
    VAR
      ItemUnitOfMeasure@1000 : Record 5404;
    BEGIN
      IF (Type = Type::Item) AND ("No." <> '') THEN BEGIN
        ItemUnitOfMeasure.SETRANGE("Item No.","No.");
        EXIT(ItemUnitOfMeasure.COUNT > 1);
      END;
      EXIT(TRUE);
    END;

    [External]
    PROCEDURE TestItemFields@93(ItemNo@1000 : Code[20];VariantCode@1001 : Code[10];LocationCode@1002 : Code[10]);
    BEGIN
      TESTFIELD(Type,Type::Item);
      TESTFIELD("No.",ItemNo);
      TESTFIELD("Variant Code",VariantCode);
      TESTFIELD("Location Code",LocationCode);
    END;

    [External]
    PROCEDURE RecalculateTaxes@1020004();
    VAR
      PurchaseLine@1020000 : Record 39;
    BEGIN
      GetPurchHeader;
      PurchLine2.RESET;
      CalcSalesTaxLines(PurchHeader,PurchaseLine);
      UpdateAmounts;
      IF FIND THEN;
    END;

    [External]
    PROCEDURE ClearPurchaseHeader@120();
    BEGIN
      CLEAR(PurchHeader);
    END;

    [External]
    PROCEDURE FormatType@149() : Text[20];
    BEGIN
      IF Type = Type::" " THEN
        EXIT(CommentLbl);

      EXIT(FORMAT(Type));
    END;

    [External]
    PROCEDURE RenameNo@133(LineType@1000 : Option;OldNo@1001 : Code[20];NewNo@1002 : Code[20]);
    BEGIN
      RESET;
      SETRANGE(Type,LineType);
      SETRANGE("No.",OldNo);
      MODIFYALL("No.",NewNo,TRUE);
    END;

    LOCAL PROCEDURE UpdateLineDiscPct@132();
    VAR
      LineDiscountPct@1000 : Decimal;
    BEGIN
      IF ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") <> 0 THEN BEGIN
        LineDiscountPct := ROUND(
            "Line Discount Amount" / ROUND(Quantity * "Direct Unit Cost",Currency."Amount Rounding Precision") * 100,
            0.00001);
        IF NOT (LineDiscountPct IN [0..100]) THEN
          ERROR(LineDiscountPctErr);
        "Line Discount %" := LineDiscountPct;
      END ELSE
        "Line Discount %" := 0;
    END;

    LOCAL PROCEDURE UpdateBaseAmounts@173(NewAmount@1000 : Decimal;NewAmountIncludingVAT@1001 : Decimal;NewVATBaseAmount@1002 : Decimal);
    BEGIN
      Amount := NewAmount;
      "Amount Including VAT" := NewAmountIncludingVAT;
      "VAT Base Amount" := NewVATBaseAmount;
      IF NOT PurchHeader."Prices Including VAT" AND (Amount > 0) AND (Amount < "Prepmt. Line Amount") THEN
        "Prepmt. Line Amount" := Amount;
      IF PurchHeader."Prices Including VAT" AND ("Amount Including VAT" > 0) AND ("Amount Including VAT" < "Prepmt. Line Amount") THEN
        "Prepmt. Line Amount" := "Amount Including VAT";
    END;

    LOCAL PROCEDURE IsCalcVATAmountLinesHandled@145(PurchHeader@1001 : Record 38;VAR PurchLine@1002 : Record 39;VAR VATAmountLine@1003 : Record 290) IsHandled : Boolean;
    BEGIN
      IsHandled := FALSE;
      OnBeforeCalcVATAmountLines(PurchHeader,PurchLine,VATAmountLine,IsHandled);
      EXIT(IsHandled);
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignFieldsForNo@122(VAR PurchLine@1000 : Record 39;VAR xPurchLine@1001 : Record 39;PurchHeader@1002 : Record 38);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignHeaderValues@134(VAR PurchLine@1000 : Record 39;PurchHeader@1001 : Record 38);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignStdTxtValues@135(VAR PurchLine@1000 : Record 39;StandardText@1001 : Record 7);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignGLAccountValues@138(VAR PurchLine@1000 : Record 39;GLAccount@1001 : Record 15);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignItemValues@136(VAR PurchLine@1000 : Record 39;Item@1001 : Record 27);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignItemChargeValues@137(VAR PurchLine@1000 : Record 39;ItemCharge@1001 : Record 5800);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignFixedAssetValues@140(VAR PurchLine@1000 : Record 39;FixedAsset@1001 : Record 5600);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAssignItemUOM@118(VAR PurchLine@1000 : Record 39;Item@1001 : Record 27);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateDirectUnitCost@126(VAR PurchLine@1000 : Record 39;xPurchLine@1001 : Record 39;CalledByFieldNo@1002 : Integer;CurrFieldNo@1003 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeUpdateDirectUnitCost@127(VAR PurchLine@1003 : Record 39;xPurchLine@1002 : Record 39;CalledByFieldNo@1001 : Integer;CurrFieldNo@1000 : Integer;VAR Handled@1004 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeVerifyReservedQty@113(VAR PurchLine@1000 : Record 39;xPurchLine@1001 : Record 39;CalledByFieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitHeaderDefaults@125(VAR PurchLine@1000 : Record 39;PurchHeader@1001 : Record 38);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitOutstandingQty@142(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitOutstandingAmount@109(VAR PurchLine@1000 : Record 39;xPurchLine@1003 : Record 39;PurchHeader@1001 : Record 38;Currency@1002 : Record 4);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitQtyToInvoice@128(VAR PurchLine@1000 : Record 39;CurrFieldNo@1001 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitQtyToShip@129(VAR PurchLine@1000 : Record 39;CurrFieldNo@1001 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInitQtyToReceive@130(VAR PurchLine@1000 : Record 39;CurrFieldNo@1001 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterSetDefaultQuantity@150(VAR PurchLine@1000 : Record 39;VAR xPurchLine@1001 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCalcVATAmountLines@170(VAR PurchHeader@1003 : Record 38;VAR PurchLine@1002 : Record 39;VAR VATAmountLine@1001 : Record 290;QtyType@1000 : 'General,Invoicing,Shipping');
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCreateDimTableIDs@131(VAR PurchLine@1000 : Record 39;FieldNo@1001 : Integer;VAR TableID@1003 : ARRAY [10] OF Integer;VAR No@1002 : ARRAY [10] OF Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterGetLineAmountToHandle@164(PurchLine@1000 : Record 39;QtyToHandle@1001 : Decimal;VAR LineAmount@1002 : Decimal;VAR LineDiscAmount@1003 : Decimal);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateAmounts@121(VAR PurchLine@1000 : Record 39;VAR xPurchLine@1001 : Record 39;CurrFieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateAmountsDone@87(VAR PurchLine@1000 : Record 39;VAR xPurchLine@1001 : Record 39;CurrFieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateUnitCost@98(VAR PurchLine@1000 : Record 39;xPurchLine@1001 : Record 39;PurchHeader@1002 : Record 38;Item@1003 : Record 27;StockkeepingUnit@1004 : Record 5700;Currency@1005 : Record 4;GLSetup@1006 : Record 98);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateJobPrices@106(VAR PurchLine@1000 : Record 39;JobJnlLine@1001 : Record 210;PurchRcptLine@1002 : Record 121);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateWithWarehouseReceive@124(PurchaseHeader@1000 : Record 38;VAR PurchaseLine@1001 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateVATAmounts@331(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateVATOnLines@162(VAR PurchHeader@1002 : Record 38;VAR PurchLine@1001 : Record 39;VAR VATAmountLine@1000 : Record 290;QtyType@1003 : 'General,Invoicing,Shipping');
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateTotalAmounts@77(VAR PurchaseLine@1000 : Record 39;PurchaseLine2@1001 : Record 39;VAR TotalAmount@1003 : Decimal;VAR TotalAmountInclVAT@1002 : Decimal;VAR TotalLineAmount@1005 : Decimal;VAR TotalInvDiscAmount@1004 : Decimal);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeBlanketOrderLookup@161(VAR PurchaseLine@1000 : Record 39;FieldNo@1001 : Integer;VAR IsHandled@1002 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeCalcVATAmountLines@153(PurchHeader@1002 : Record 38;VAR PurchLine@1001 : Record 39;VAR VATAmountLine@1000 : Record 290;VAR IsHandled@1003 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeJobTaskIsSet@111(PurchLine@1000 : Record 39;VAR IsJobLine@1001 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeUpdateVATAmounts@154(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCreateTempJobJnlLine@114(VAR JobJournalLine@1000 : Record 210;PurchLine@1001 : Record 39;xPurchLine@1002 : Record 39;GetPrices@1004 : Boolean;CurrFieldNo@1003 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnUpdateDirectUnitCostOnBeforeFindPrice@146(PurchaseHeader@1000 : Record 38;VAR PurchaseLine@1001 : Record 39;CalledByFieldNo@1002 : Integer;FieldNo@1003 : Integer;VAR IsHandled@1004 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateCrossReferenceNoOnBeforeAssignNo@151(VAR PurchaseLine@1000 : Record 39;VAR ItemCrossReference@1001 : Record 5717);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateTypeOnCopyFromTempPurchLine@147(VAR PurchLine@1000 : Record 39;TempPurchaseLine@1001 : TEMPORARY Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateNoOnCopyFromTempPurchLine@148(VAR PurchLine@1000 : Record 39;TempPurchaseLine@1001 : TEMPORARY Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateNoOnAfterAssignQtyFromXRec@144(VAR PurchaseLine@1000 : Record 39;TempPurchaseLine@1001 : TEMPORARY Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateNoOnAfterChecks@155(VAR PurchaseLine@1000 : Record 39;xPurchaseLine@1001 : Record 39;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateNoOnAfterVerifyChange@141(VAR PurchaseLine@1000 : Record 39;xPurchaseLine@1001 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateNoOnBeforeInitRec@143(VAR PurchaseLine@1000 : Record 39;xPurchaseLine@1001 : Record 39;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateQtyToReceiveOnAfterCheck@152(VAR PurchaseLine@1000 : Record 39;FieldNo@1001 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnValidateQuantityOnBeforeDropShptCheck@157(VAR PurchaseLine@1000 : Record 39;xPurchaseLine@1001 : Record 39;FieldNo@1002 : Integer;VAR IsHandled@1003 : Boolean);
    BEGIN
    END;

    [External]
    PROCEDURE AssignedItemCharge@119() : Boolean;
    BEGIN
      EXIT((Type = Type::"Charge (Item)") AND ("No." <> '') AND ("Qty. to Assign" < Quantity));
    END;

    PROCEDURE ShowDeferralSchedule@123();
    VAR
      PurchaseHeader@1000 : Record 38;
    BEGIN
      PurchaseHeader.GET("Document Type","Document No.");
      ShowDeferrals(PurchaseHeader."Posting Date",PurchaseHeader."Currency Code");
    END;

    BEGIN
    END.
  }
}

OBJECT Table 49 Invoice Post. Buffer
{
  OBJECT-PROPERTIES
  {
    Date=02/24/19;
    Time=22:02:18;
    Modified=Yes;
    Version List=NAVW113.02,NAVNA13.02,FuturisticCAL;
  }
  PROPERTIES
  {
    ReplicateData=No;
    CaptionML=[ENU=Invoice Post. Buffer;
               ESM=Mem. inter. factura;
               FRC=Tampon report facture;
               ENC=Invoice Post. Buffer];
  }
  FIELDS
  {
    { 1   ;   ;Type                ;Option        ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Type;
                                                              ESM=Tipo;
                                                              FRC=Type;
                                                              ENC=Type];
                                                   OptionCaptionML=[ENU=Prepmt. Exch. Rate Difference,G/L Account,Item,Resource,Fixed Asset;
                                                                    ESM=Diferencia tipo cambio anticipo,Cuenta,Producto,Recurso,Activo;
                                                                    FRC=êcart de conversion acpte,Compte GL,Article,Ressource,Immobilisation;
                                                                    ENC=Prepmt. Exch. Rate Difference,G/L Account,Item,Resource,Fixed Asset];
                                                   OptionString=Prepmt. Exch. Rate Difference,G/L Account,Item,Resource,Fixed Asset }
    { 2   ;   ;G/L Account         ;Code20        ;TableRelation="G/L Account";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=G/L Account;
                                                              ESM=Cuenta;
                                                              FRC=Compte du grand livre;
                                                              ENC=G/L Account] }
    { 4   ;   ;Global Dimension 1 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1));
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Global Dimension 1 Code;
                                                              ESM=C¢d. dimensi¢n global 1;
                                                              FRC=Code de dimension principal 1;
                                                              ENC=Global Dimension 1 Code];
                                                   CaptionClass='1,1,1' }
    { 5   ;   ;Global Dimension 2 Code;Code20     ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2));
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Global Dimension 2 Code;
                                                              ESM=C¢d. dimensi¢n global 2;
                                                              FRC=Code de dimension principal 2;
                                                              ENC=Global Dimension 2 Code];
                                                   CaptionClass='1,1,2' }
    { 6   ;   ;Job No.             ;Code20        ;TableRelation=Job;
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Job No.;
                                                              ESM=Nß proyecto;
                                                              FRC=N¯ projet;
                                                              ENC=Job No.] }
    { 7   ;   ;Amount              ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Amount;
                                                              ESM=Importe;
                                                              FRC=Montant;
                                                              ENC=Amount];
                                                   AutoFormatType=1 }
    { 8   ;   ;VAT Amount          ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Amount;
                                                              ESM=Importe IVA;
                                                              FRC=Montant de TVA;
                                                              ENC=Tax Amount];
                                                   AutoFormatType=1 }
    { 10  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo registro neg. gen.;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 11  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo registro prod. gen.;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 12  ;   ;VAT Calculation Type;Option        ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=VAT Calculation Type;
                                                              ESM=Tipo c†lculo IVA;
                                                              FRC=Type de calcul taxe;
                                                              ENC=Tax Calculation Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax }
    { 14  ;   ;VAT Base Amount     ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Base Amount;
                                                              ESM=Importe base IVA;
                                                              FRC=Montant de base de la taxe;
                                                              ENC=Tax Base Amount];
                                                   AutoFormatType=1 }
    { 17  ;   ;System-Created Entry;Boolean       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=System-Created Entry;
                                                              ESM=Asiento autom†tico;
                                                              FRC=êcriture systäme;
                                                              ENC=System-Created Entry] }
    { 18  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code] }
    { 19  ;   ;Tax Liable          ;Boolean       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable] }
    { 20  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 21  ;   ;Quantity            ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Quantity;
                                                              ESM=Cantidad;
                                                              FRC=QuantitÇ;
                                                              ENC=Quantity];
                                                   DecimalPlaces=1:5 }
    { 22  ;   ;Use Tax             ;Boolean       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Use Tax;
                                                              ESM=Impuesto de importaci¢n;
                                                              FRC=Taxe de service;
                                                              ENC=Use Tax] }
    { 23  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 24  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 25  ;   ;Amount (ACY)        ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Amount (ACY);
                                                              ESM=Importe (DA);
                                                              FRC=Montant (devise additionnelle);
                                                              ENC=Amount (ACY)];
                                                   AutoFormatType=1 }
    { 26  ;   ;VAT Amount (ACY)    ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Amount (ACY);
                                                              ESM=Importe IVA (DA);
                                                              FRC=Montant TVA (dev. add.);
                                                              ENC=Tax Amount (ACY)];
                                                   AutoFormatType=1 }
    { 29  ;   ;VAT Base Amount (ACY);Decimal      ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Base Amount (ACY);
                                                              ESM=Importe Base IVA (DA);
                                                              FRC=Montant base TVA (dev. add.);
                                                              ENC=Tax Base Amount (ACY)];
                                                   AutoFormatType=1 }
    { 31  ;   ;VAT Difference      ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Difference;
                                                              ESM=Diferencia  IVA;
                                                              FRC=DiffÇrence TVA;
                                                              ENC=Tax Difference];
                                                   AutoFormatType=1 }
    { 32  ;   ;VAT %               ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax %;
                                                              ESM=% IVA;
                                                              FRC=% TVA;
                                                              ENC=Tax %];
                                                   DecimalPlaces=1:1 }
    { 35  ;   ;VAT Base Before Pmt. Disc.;Decimal ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Tax Base Before Pmt. Disc.;
                                                              ESM=Base IVA antes de desc. P.P.;
                                                              FRC=Base TVA avant escompte de paiement;
                                                              ENC=Tax Base Before Pmt. Disc.];
                                                   AutoFormatType=1 }
    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Dimension Set ID;
                                                              ESM=Id. grupo dimensiones;
                                                              FRC=Code ensemble de dimensions;
                                                              ENC=Dimension Set ID];
                                                   Editable=No }
    { 1000;   ;Additional Grouping Identifier;Code20;
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Additional Grouping Identifier;
                                                              ESM=Identificador de agrupaci¢n adicional;
                                                              FRC=Identificateur de regroupement supplÇmentaire;
                                                              ENC=Additional Grouping Identifier] }
    { 1700;   ;Deferral Code       ;Code10        ;TableRelation="Deferral Template"."Deferral Code";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Deferral Code;
                                                              ESM=C¢digo de fraccionamiento;
                                                              FRC=Code Çchelonnement;
                                                              ENC=Deferral Code] }
    { 1701;   ;Deferral Line No.   ;Integer       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Deferral Line No.;
                                                              ESM=Nß l°nea fraccionamiento;
                                                              FRC=N¯ ligne Çchelonnement;
                                                              ENC=Deferral Line No.] }
    { 5600;   ;FA Posting Date     ;Date          ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=FA Posting Date;
                                                              ESM=A/F Fecha registro;
                                                              FRC=Date report immo.;
                                                              ENC=FA Posting Date] }
    { 5601;   ;FA Posting Type     ;Option        ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=FA Posting Type;
                                                              ESM=A/F Tipo registro;
                                                              FRC=Type de report immo.;
                                                              ENC=FA Posting Type];
                                                   OptionCaptionML=[ENU=" ,Acquisition Cost,Maintenance,,Appreciation";
                                                                    ESM=" ,Costo,Mantenimiento,,Apreciaci¢n";
                                                                    FRC=" ,Coñt acquisition,Entretien,,ApprÇciation";
                                                                    ENC=" ,Acquisition Cost,Maintenance,,Appreciation"];
                                                   OptionString=[ ,Acquisition Cost,Maintenance,,Appreciation] }
    { 5602;   ;Depreciation Book Code;Code10      ;TableRelation="Depreciation Book";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Depreciation Book Code;
                                                              ESM=C¢d. libro amortizaci¢n;
                                                              FRC=Code registre amortissement;
                                                              ENC=Depreciation Book Code] }
    { 5603;   ;Salvage Value       ;Decimal       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Salvage Value;
                                                              ESM=Valor residual;
                                                              FRC=Valeur rÇsiduelle;
                                                              ENC=Salvage Value];
                                                   AutoFormatType=1 }
    { 5605;   ;Depr. until FA Posting Date;Boolean;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Depr. until FA Posting Date;
                                                              ESM=A/F Amort. hasta fecha reg.;
                                                              FRC=Amort. jusqu'Ö date report;
                                                              ENC=Depr. until FA Posting Date] }
    { 5606;   ;Depr. Acquisition Cost;Boolean     ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Depr. Acquisition Cost;
                                                              ESM=Depr. de costo de adquisici¢n;
                                                              FRC=Amortissement coñt acquisition;
                                                              ENC=Depr. Acquisition Cost] }
    { 5609;   ;Maintenance Code    ;Code10        ;TableRelation=Maintenance;
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Maintenance Code;
                                                              ESM=C¢d. mantenimiento;
                                                              FRC=Code entretien;
                                                              ENC=Maintenance Code] }
    { 5610;   ;Insurance No.       ;Code20        ;TableRelation=Insurance;
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Insurance No.;
                                                              ESM=Nß seguro;
                                                              FRC=N¯ assurance;
                                                              ENC=Insurance No.] }
    { 5611;   ;Budgeted FA No.     ;Code20        ;TableRelation="Fixed Asset";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Budgeted FA No.;
                                                              ESM=A/F Nß pptdo.;
                                                              FRC=N¯ immo. budgÇtÇe;
                                                              ENC=Budgeted FA No.] }
    { 5612;   ;Duplicate in Depreciation Book;Code10;
                                                   TableRelation="Depreciation Book";
                                                   DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Duplicate in Depreciation Book;
                                                              ESM=Duplicado en libro amort.;
                                                              FRC=Registre amortiss. en double;
                                                              ENC=Duplicate in Depreciation Book] }
    { 5613;   ;Use Duplication List;Boolean       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Use Duplication List;
                                                              ESM=Utilizar lista duplicados;
                                                              FRC=Utiliser liste duplication;
                                                              ENC=Use Duplication List] }
    { 5614;   ;Fixed Asset Line No.;Integer       ;DataClassification=SystemMetadata;
                                                   CaptionML=[ENU=Fixed Asset Line No.;
                                                              ESM=Nß lin. activo;
                                                              FRC=N¯ ligne immobilisation;
                                                              ENC=Fixed Asset Line No.] }
    { 50000;  ;Expense Code        ;Code20        ;TableRelation=Expense;
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Expense Code }
  }
  KEYS
  {
    {    ;Type,G/L Account,Gen. Bus. Posting Group,Gen. Prod. Posting Group,VAT Bus. Posting Group,VAT Prod. Posting Group,Tax Area Code,Tax Group Code,Tax Liable,Use Tax,Dimension Set ID,Job No.,Fixed Asset Line No.,Deferral Code,Additional Grouping Identifier;
                                                   Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      DimMgt@1000 : Codeunit 408;

    [External]
    PROCEDURE PrepareSales@1(VAR SalesLine@1000 : Record 37);
    BEGIN
      CLEAR(Rec);
      Type := SalesLine.Type;
      "System-Created Entry" := TRUE;
      "Gen. Bus. Posting Group" := SalesLine."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := SalesLine."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := SalesLine."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := SalesLine."VAT Prod. Posting Group";
      "VAT Calculation Type" := SalesLine."VAT Calculation Type";
      "Global Dimension 1 Code" := SalesLine."Shortcut Dimension 1 Code";
      "Global Dimension 2 Code" := SalesLine."Shortcut Dimension 2 Code";
      "Dimension Set ID" := SalesLine."Dimension Set ID";
      "Job No." := SalesLine."Job No.";
      "VAT %" := SalesLine."VAT %";
      "VAT Difference" := SalesLine."VAT Difference";
      IF Type = Type::"Fixed Asset" THEN BEGIN
        "FA Posting Date" := SalesLine."FA Posting Date";
        "Depreciation Book Code" := SalesLine."Depreciation Book Code";
        "Depr. until FA Posting Date" := SalesLine."Depr. until FA Posting Date";
        "Duplicate in Depreciation Book" := SalesLine."Duplicate in Depreciation Book";
        "Use Duplication List" := SalesLine."Use Duplication List";
      END;

      DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Global Dimension 1 Code","Global Dimension 2 Code");

      IF SalesLine."Line Discount %" = 100 THEN BEGIN
        "VAT Base Amount" := 0;
        "VAT Base Amount (ACY)" := 0;
        "VAT Amount" := 0;
        "VAT Amount (ACY)" := 0;
      END;

      OnAfterInvPostBufferPrepareSales(SalesLine,Rec);
    END;

    [External]
    PROCEDURE CalcDiscount@2(PricesInclVAT@1000 : Boolean;DiscountAmount@1001 : Decimal;DiscountAmountACY@1002 : Decimal);
    VAR
      CurrencyLCY@1003 : Record 4;
      CurrencyACY@1004 : Record 4;
      GLSetup@1005 : Record 98;
    BEGIN
      CurrencyLCY.InitRoundingPrecision;
      GLSetup.GET;
      IF GLSetup."Additional Reporting Currency" <> '' THEN
        CurrencyACY.GET(GLSetup."Additional Reporting Currency")
      ELSE
        CurrencyACY := CurrencyLCY;
      "VAT Amount" := ROUND(
          CalcVATAmount(PricesInclVAT,DiscountAmount,"VAT %"),
          CurrencyLCY."Amount Rounding Precision",
          CurrencyLCY.VATRoundingDirection);
      "VAT Amount (ACY)" := ROUND(
          CalcVATAmount(PricesInclVAT,DiscountAmountACY,"VAT %"),
          CurrencyACY."Amount Rounding Precision",
          CurrencyACY.VATRoundingDirection);

      IF PricesInclVAT AND ("VAT %" <> 0) THEN BEGIN
        "VAT Base Amount" := DiscountAmount - "VAT Amount";
        "VAT Base Amount (ACY)" := DiscountAmountACY - "VAT Amount (ACY)";
      END ELSE BEGIN
        "VAT Base Amount" := DiscountAmount;
        "VAT Base Amount (ACY)" := DiscountAmountACY;
      END;
      Amount := "VAT Base Amount";
      "Amount (ACY)" := "VAT Base Amount (ACY)";
      "VAT Base Before Pmt. Disc." := "VAT Base Amount"
    END;

    LOCAL PROCEDURE CalcVATAmount@3(ValueInclVAT@1000 : Boolean;Value@1001 : Decimal;VATPercent@1002 : Decimal) : Decimal;
    BEGIN
      IF VATPercent = 0 THEN
        EXIT(0);
      IF ValueInclVAT THEN
        EXIT(Value / (1 + (VATPercent / 100)) * (VATPercent / 100));

      EXIT(Value * (VATPercent / 100));
    END;

    [External]
    PROCEDURE SetAccount@4(AccountNo@1000 : Code[20];VAR TotalVAT@1004 : Decimal;VAR TotalVATACY@1003 : Decimal;VAR TotalAmount@1002 : Decimal;VAR TotalAmountACY@1001 : Decimal);
    BEGIN
      TotalVAT := TotalVAT - "VAT Amount";
      TotalVATACY := TotalVATACY - "VAT Amount (ACY)";
      TotalAmount := TotalAmount - Amount;
      TotalAmountACY := TotalAmountACY - "Amount (ACY)";
      "G/L Account" := AccountNo;
    END;

    [External]
    PROCEDURE SetAmounts@5(TotalVAT@1003 : Decimal;TotalVATACY@1002 : Decimal;TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal;TotalVATBase@1006 : Decimal;TotalVATBaseACY@1005 : Decimal);
    BEGIN
      Amount := TotalAmount;
      "VAT Base Amount" := TotalVATBase;
      "VAT Amount" := TotalVAT;
      "Amount (ACY)" := TotalAmountACY;
      "VAT Base Amount (ACY)" := TotalVATBaseACY;
      "VAT Amount (ACY)" := TotalVATACY;
      "VAT Difference" := VATDifference;
      "VAT Base Before Pmt. Disc." := TotalAmount;
    END;

    [External]
    PROCEDURE PreparePurchase@6(VAR PurchLine@1000 : Record 39);
    BEGIN
      CLEAR(Rec);
      Type := PurchLine.Type;
      "System-Created Entry" := TRUE;
      "Gen. Bus. Posting Group" := PurchLine."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := PurchLine."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := PurchLine."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := PurchLine."VAT Prod. Posting Group";
      "VAT Calculation Type" := PurchLine."VAT Calculation Type";
      "Global Dimension 1 Code" := PurchLine."Shortcut Dimension 1 Code";
      "Global Dimension 2 Code" := PurchLine."Shortcut Dimension 2 Code";
      "Dimension Set ID" := PurchLine."Dimension Set ID";
      "Job No." := PurchLine."Job No.";
      "VAT %" := PurchLine."VAT %";
      "VAT Difference" := PurchLine."VAT Difference";
      IF Type = Type::"Fixed Asset" THEN BEGIN
        "FA Posting Date" := PurchLine."FA Posting Date";
        "Depreciation Book Code" := PurchLine."Depreciation Book Code";
        "Depr. until FA Posting Date" := PurchLine."Depr. until FA Posting Date";
        "Duplicate in Depreciation Book" := PurchLine."Duplicate in Depreciation Book";
        "Use Duplication List" := PurchLine."Use Duplication List";
        "FA Posting Type" := PurchLine."FA Posting Type";
        "Depreciation Book Code" := PurchLine."Depreciation Book Code";
        "Salvage Value" := PurchLine."Salvage Value";
        "Depr. Acquisition Cost" := PurchLine."Depr. Acquisition Cost";
        "Maintenance Code" := PurchLine."Maintenance Code";
        "Insurance No." := PurchLine."Insurance No.";
        "Budgeted FA No." := PurchLine."Budgeted FA No.";
      END;

      DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Global Dimension 1 Code","Global Dimension 2 Code");

      IF PurchLine."Line Discount %" = 100 THEN BEGIN
        "VAT Base Amount" := 0;
        "VAT Base Amount (ACY)" := 0;
        "VAT Amount" := 0;
        "VAT Amount (ACY)" := 0;
      END;

      OnAfterInvPostBufferPreparePurchase(PurchLine,Rec);
    END;

    [External]
    PROCEDURE CalcDiscountNoVAT@7(DiscountAmount@1001 : Decimal;DiscountAmountACY@1002 : Decimal);
    BEGIN
      "VAT Base Amount" := DiscountAmount;
      "VAT Base Amount (ACY)" := DiscountAmountACY;
      Amount := "VAT Base Amount";
      "Amount (ACY)" := "VAT Base Amount (ACY)";
      "VAT Base Before Pmt. Disc." := "VAT Base Amount";
    END;

    [External]
    PROCEDURE SetSalesTaxForPurchLine@8(PurchaseLine@1000 : Record 39);
    BEGIN
      "Tax Area Code" := PurchaseLine."Tax Area Code";
      "Tax Liable" := PurchaseLine."Tax Liable";
      "Tax Group Code" := PurchaseLine."Tax Group Code";
      "Use Tax" := PurchaseLine."Use Tax";
      Quantity := PurchaseLine."Qty. to Invoice (Base)";
    END;

    [External]
    PROCEDURE SetSalesTaxForSalesLine@15(SalesLine@1000 : Record 37);
    BEGIN
      "Tax Area Code" := SalesLine."Tax Area Code";
      "Tax Liable" := SalesLine."Tax Liable";
      "Tax Group Code" := SalesLine."Tax Group Code";
      "Use Tax" := FALSE;
      Quantity := SalesLine."Qty. to Invoice (Base)";
    END;

    [External]
    PROCEDURE ReverseAmounts@9();
    BEGIN
      Amount := -Amount;
      "VAT Base Amount" := -"VAT Base Amount";
      "Amount (ACY)" := -"Amount (ACY)";
      "VAT Base Amount (ACY)" := -"VAT Base Amount (ACY)";
      "VAT Amount" := -"VAT Amount";
      "VAT Amount (ACY)" := -"VAT Amount (ACY)";
    END;

    [External]
    PROCEDURE SetAmountsNoVAT@10(TotalAmount@1001 : Decimal;TotalAmountACY@1000 : Decimal;VATDifference@1004 : Decimal);
    BEGIN
      Amount := TotalAmount;
      "VAT Base Amount" := TotalAmount;
      "VAT Amount" := 0;
      "Amount (ACY)" := TotalAmountACY;
      "VAT Base Amount (ACY)" := TotalAmountACY;
      "VAT Amount (ACY)" := 0;
      "VAT Difference" := VATDifference;
    END;

    [External]
    PROCEDURE PrepareService@11(VAR ServiceLine@1000 : Record 5902);
    BEGIN
      CLEAR(Rec);
      CASE ServiceLine.Type OF
        ServiceLine.Type::Item:
          Type := Type::Item;
        ServiceLine.Type::Resource:
          Type := Type::Resource;
        ServiceLine.Type::"G/L Account":
          Type := Type::"G/L Account";
      END;
      "System-Created Entry" := TRUE;
      "Gen. Bus. Posting Group" := ServiceLine."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := ServiceLine."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := ServiceLine."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := ServiceLine."VAT Prod. Posting Group";
      "VAT Calculation Type" := ServiceLine."VAT Calculation Type";
      "Global Dimension 1 Code" := ServiceLine."Shortcut Dimension 1 Code";
      "Global Dimension 2 Code" := ServiceLine."Shortcut Dimension 2 Code";
      "Dimension Set ID" := ServiceLine."Dimension Set ID";
      "Job No." := ServiceLine."Job No.";
      "VAT %" := ServiceLine."VAT %";
      "VAT Difference" := ServiceLine."VAT Difference";

      OnAfterInvPostBufferPrepareService(ServiceLine,Rec);
    END;

    [External]
    PROCEDURE FillPrepmtAdjBuffer@81(VAR TempInvoicePostBuffer@1005 : TEMPORARY Record 49;InvoicePostBuffer@1006 : Record 49;GLAccountNo@1001 : Code[20];AdjAmount@1003 : Decimal;RoundingEntry@1004 : Boolean);
    VAR
      PrepmtAdjInvPostBuffer@1002 : Record 49;
    BEGIN
      WITH PrepmtAdjInvPostBuffer DO BEGIN
        INIT;
        Type := Type::"Prepmt. Exch. Rate Difference";
        "G/L Account" := GLAccountNo;
        Amount := AdjAmount;
        IF RoundingEntry THEN
          "Amount (ACY)" := AdjAmount
        ELSE
          "Amount (ACY)" := 0;
        "Dimension Set ID" := InvoicePostBuffer."Dimension Set ID";
        "Global Dimension 1 Code" := InvoicePostBuffer."Global Dimension 1 Code";
        "Global Dimension 2 Code" := InvoicePostBuffer."Global Dimension 2 Code";
        "System-Created Entry" := TRUE;
        InvoicePostBuffer := PrepmtAdjInvPostBuffer;

        TempInvoicePostBuffer := InvoicePostBuffer;
        IF TempInvoicePostBuffer.FIND THEN BEGIN
          TempInvoicePostBuffer.Amount += InvoicePostBuffer.Amount;
          TempInvoicePostBuffer."Amount (ACY)" += InvoicePostBuffer."Amount (ACY)";
          TempInvoicePostBuffer.MODIFY;
        END ELSE BEGIN
          TempInvoicePostBuffer := InvoicePostBuffer;
          TempInvoicePostBuffer.INSERT;
        END;
      END;
    END;

    [External]
    PROCEDURE Update@12(InvoicePostBuffer@1000 : Record 49;VAR InvDefLineNo@1001 : Integer;VAR DeferralLineNo@1002 : Integer);
    BEGIN
      OnBeforeInvPostBufferUpdate(Rec,InvoicePostBuffer);

      Rec := InvoicePostBuffer;
      IF FIND THEN BEGIN
        Amount += InvoicePostBuffer.Amount;
        "VAT Amount" += InvoicePostBuffer."VAT Amount";
        "VAT Base Amount" += InvoicePostBuffer."VAT Base Amount";
        "Amount (ACY)" += InvoicePostBuffer."Amount (ACY)";
        "VAT Amount (ACY)" += InvoicePostBuffer."VAT Amount (ACY)";
        "VAT Difference" += InvoicePostBuffer."VAT Difference";
        "VAT Base Amount (ACY)" += InvoicePostBuffer."VAT Base Amount (ACY)";
        Quantity += InvoicePostBuffer.Quantity;
        "VAT Base Before Pmt. Disc." += InvoicePostBuffer."VAT Base Before Pmt. Disc.";
        IF NOT InvoicePostBuffer."System-Created Entry" THEN
          "System-Created Entry" := FALSE;
        IF "Deferral Code" = '' THEN
          AdjustRoundingForUpdate;
        OnBeforeInvPostBufferModify(Rec,InvoicePostBuffer);
        MODIFY;
        OnAfterInvPostBufferModify(Rec,InvoicePostBuffer);
        InvDefLineNo := "Deferral Line No.";
      END ELSE BEGIN
        IF "Deferral Code" <> '' THEN BEGIN
          DeferralLineNo := DeferralLineNo + 1;
          "Deferral Line No." := DeferralLineNo;
          InvDefLineNo := "Deferral Line No.";
        END;
        INSERT;
      END;

      OnAfterInvPostBufferUpdate(Rec,InvoicePostBuffer);
    END;

    [External]
    PROCEDURE UpdateVATBase@17(VAR TotalVATBase@1001 : Decimal;VAR TotalVATBaseACY@1000 : Decimal);
    BEGIN
      TotalVATBase := TotalVATBase - "VAT Base Amount";
      TotalVATBaseACY := TotalVATBaseACY - "VAT Base Amount (ACY)"
    END;

    LOCAL PROCEDURE AdjustRoundingForUpdate@20();
    BEGIN
      AdjustRoundingFieldsPair(Amount,"Amount (ACY)");
      AdjustRoundingFieldsPair("VAT Amount","VAT Amount (ACY)");
      AdjustRoundingFieldsPair("VAT Base Amount","VAT Base Amount (ACY)");
    END;

    LOCAL PROCEDURE AdjustRoundingFieldsPair@21(VAR Value1@1000 : Decimal;VAR Value2@1001 : Decimal);
    BEGIN
      IF (Value1 = 0) AND (Value2 <> 0) THEN
        Value2 := 0;
      IF (Value1 <> 0) AND (Value2 = 0) THEN
        Value1 := 0;
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInvPostBufferPrepareSales@13(VAR SalesLine@1000 : Record 37;VAR InvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInvPostBufferPreparePurchase@14(VAR PurchaseLine@1000 : Record 39;VAR InvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInvPostBufferPrepareService@16(VAR ServiceLine@1000 : Record 5902;VAR InvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [External]
    PROCEDURE ClearVAT@1020000();
    BEGIN
      "VAT Amount" := 0;
      "VAT Base Amount" := 0;
      "VAT Amount (ACY)" := 0;
      "VAT Base Amount (ACY)" := 0;
      "VAT Difference" := 0;
      "VAT %" := 0;
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInvPostBufferModify@23(VAR InvoicePostBuffer@1000 : Record 49;FromInvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterInvPostBufferUpdate@19(VAR InvoicePostBuffer@1000 : Record 49;VAR FromInvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInvPostBufferUpdate@18(VAR InvoicePostBuffer@1000 : Record 49;VAR FromInvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInvPostBufferModify@22(VAR InvoicePostBuffer@1000 : Record 49;FromInvoicePostBuffer@1001 : Record 49);
    BEGIN
    END;

    BEGIN
    END.
  }
}

OBJECT Table 81 Gen. Journal Line
{
  OBJECT-PROPERTIES
  {
    Date=02/24/19;
    Time=22:02:27;
    Modified=Yes;
    Version List=NAVW113.03,NAVNA13.03,FuturisticCAL;
  }
  PROPERTIES
  {
    Permissions=TableData 112=r,
                TableData 1221=rimd;
    OnInsert=BEGIN
               GenJnlAlloc.LOCKTABLE;
               LOCKTABLE;

               SetLastModifiedDateTime;

               GenJnlTemplate.GET("Journal Template Name");
               GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
               "Copy VAT Setup to Jnl. Lines" := GenJnlBatch."Copy VAT Setup to Jnl. Lines";
               "Posting No. Series" := GenJnlBatch."Posting No. Series";
               "Check Printed" := FALSE;

               ValidateShortcutDimCode(1,"Shortcut Dimension 1 Code");
               ValidateShortcutDimCode(2,"Shortcut Dimension 2 Code");
             END;

    OnModify=BEGIN
               SetLastModifiedDateTime;

               TESTFIELD("Check Printed",FALSE);
               IF ("Applies-to ID" = '') AND (xRec."Applies-to ID" <> '') THEN
                 ClearCustVendApplnEntry;
             END;

    OnDelete=BEGIN
               ApprovalsMgmt.OnCancelGeneralJournalLineApprovalRequest(Rec);

               TESTFIELD("Check Printed",FALSE);

               ClearCustVendApplnEntry;
               ClearAppliedGenJnlLine;
               DeletePaymentFileErrors;
               ClearDataExchangeEntries(FALSE);

               GenJnlAlloc.SETRANGE("Journal Template Name","Journal Template Name");
               GenJnlAlloc.SETRANGE("Journal Batch Name","Journal Batch Name");
               GenJnlAlloc.SETRANGE("Journal Line No.","Line No.");
               GenJnlAlloc.DELETEALL;

               DeferralUtilities.DeferralCodeOnDelete(
                 DeferralDocType::"G/L",
                 "Journal Template Name",
                 "Journal Batch Name",0,'',"Line No.");

               VALIDATE("Incoming Document Entry No.",0);
             END;

    OnRename=BEGIN
               ApprovalsMgmt.OnRenameRecordInApprovalRequest(xRec.RECORDID,RECORDID);

               TESTFIELD("Check Printed",FALSE);
             END;

    CaptionML=[ENU=Gen. Journal Line;
               ESM=L°n. diario general;
               FRC=Ligne journal gÇnÇral;
               ENC=Gen. Journal Line];
  }
  FIELDS
  {
    { 1   ;   ;Journal Template Name;Code10       ;TableRelation="Gen. Journal Template";
                                                   CaptionML=[ENU=Journal Template Name;
                                                              ESM=Nombre libro diario;
                                                              FRC=Nom modäle journal;
                                                              ENC=Journal Template Name] }
    { 2   ;   ;Line No.            ;Integer       ;CaptionML=[ENU=Line No.;
                                                              ESM=Nß l°nea;
                                                              FRC=N¯ ligne;
                                                              ENC=Line No.] }
    { 3   ;   ;Account Type        ;Option        ;OnValidate=BEGIN
                                                                IF ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Fixed Asset",
                                                                                       "Account Type"::"IC Partner","Account Type"::Employee]) AND
                                                                   ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Fixed Asset",
                                                                                            "Bal. Account Type"::"IC Partner","Bal. Account Type"::Employee])
                                                                THEN
                                                                  ERROR(
                                                                    Text000,
                                                                    FIELDCAPTION("Account Type"),FIELDCAPTION("Bal. Account Type"));

                                                                IF ("Account Type" = "Account Type"::Employee) AND ("Currency Code" <> '') THEN
                                                                  ERROR(OnlyLocalCurrencyForEmployeeErr);

                                                                VALIDATE("Account No.",'');
                                                                VALIDATE(Description,'');
                                                                VALIDATE("IC Partner G/L Acc. No.",'');
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account","Account Type"::Employee] THEN BEGIN
                                                                  VALIDATE("Gen. Posting Type","Gen. Posting Type"::" ");
                                                                  VALIDATE("Gen. Bus. Posting Group",'');
                                                                  VALIDATE("Gen. Prod. Posting Group",'');
                                                                END ELSE
                                                                  IF "Bal. Account Type" IN [
                                                                                             "Bal. Account Type"::"G/L Account","Account Type"::"Bank Account","Bal. Account Type"::"Fixed Asset"]
                                                                  THEN
                                                                    VALIDATE("Payment Terms Code",'');
                                                                UpdateSource;

                                                                IF ("Account Type" <> "Account Type"::"Fixed Asset") AND
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"Fixed Asset")
                                                                THEN BEGIN
                                                                  "Depreciation Book Code" := '';
                                                                  VALIDATE("FA Posting Type","FA Posting Type"::" ");
                                                                END;
                                                                IF xRec."Account Type" IN
                                                                   [xRec."Account Type"::Customer,xRec."Account Type"::Vendor]
                                                                THEN BEGIN
                                                                  "Bill-to/Pay-to No." := '';
                                                                  "Ship-to/Order Address Code" := '';
                                                                  "Sell-to/Buy-from No." := '';
                                                                  "VAT Registration No." := '';
                                                                END;

                                                                IF "Journal Template Name" <> '' THEN
                                                                  IF "Account Type" = "Account Type"::"IC Partner" THEN BEGIN
                                                                    GetTemplate;
                                                                    IF GenJnlTemplate.Type <> GenJnlTemplate.Type::Intercompany THEN
                                                                      FIELDERROR("Account Type");
                                                                  END;

                                                                VALIDATE("Deferral Code",'');
                                                              END;

                                                   CaptionML=[ENU=Account Type;
                                                              ESM=Tipo mov.;
                                                              FRC=Type de compte;
                                                              ENC=Account Type];
                                                   OptionCaptionML=[ENU=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee;
                                                                    ESM=Cuenta,Cliente,Proveedor,Banco,Activo fijo,Empresa vinculada asociada,Empleado;
                                                                    FRC=Compte du grand livre,Client,Fournisseur,Compte bancaire,Immobilisation,Partenaire IC,EmployÇ;
                                                                    ENC=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee];
                                                   OptionString=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee }
    { 4   ;   ;Account No.         ;Code20        ;TableRelation=IF (Account Type=CONST(G/L Account)) "G/L Account" WHERE (Account Type=CONST(Posting),
                                                                                                                           Blocked=CONST(No))
                                                                                                                           ELSE IF (Account Type=CONST(Customer)) Customer
                                                                                                                           ELSE IF (Account Type=CONST(Vendor)) Vendor
                                                                                                                           ELSE IF (Account Type=CONST(Bank Account)) "Bank Account"
                                                                                                                           ELSE IF (Account Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                                                                           ELSE IF (Account Type=CONST(IC Partner)) "IC Partner"
                                                                                                                           ELSE IF (Account Type=CONST(Employee)) Employee;
                                                   OnValidate=BEGIN
                                                                IF "Account No." <> xRec."Account No." THEN BEGIN
                                                                  ClearAppliedAutomatically;
                                                                  VALIDATE("Job No.",'');
                                                                END;

                                                                IF xRec."Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"IC Partner"] THEN
                                                                  "IC Partner Code" := '';

                                                                IF "Account No." = '' THEN BEGIN
                                                                  CleanLine;
                                                                  EXIT;
                                                                END;

                                                                CASE "Account Type" OF
                                                                  "Account Type"::"G/L Account":
                                                                    GetGLAccount;
                                                                  "Account Type"::Customer:
                                                                    GetCustomerAccount;
                                                                  "Account Type"::Vendor:
                                                                    GetVendorAccount;
                                                                  "Account Type"::Employee:
                                                                    GetEmployeeAccount;
                                                                  "Account Type"::"Bank Account":
                                                                    GetBankAccount;
                                                                  "Account Type"::"Fixed Asset":
                                                                    GetFAAccount;
                                                                  "Account Type"::"IC Partner":
                                                                    GetICPartnerAccount;
                                                                END;

                                                                VALIDATE("Currency Code");
                                                                VALIDATE("VAT Prod. Posting Group");
                                                                UpdateLineBalance;
                                                                UpdateSource;
                                                                CreateDim(
                                                                  DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                  DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                  DATABASE::Campaign,"Campaign No.");

                                                                VALIDATE("IC Partner G/L Acc. No.",GetDefaultICPartnerGLAccNo);
                                                                ValidateApplyRequirements(Rec);

                                                                CASE "Account Type" OF
                                                                  "Account Type"::"G/L Account":
                                                                    UpdateAccountID;
                                                                  "Account Type"::Customer:
                                                                    UpdateCustomerID;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Account No.;
                                                              ESM=Nß cuenta;
                                                              FRC=N¯ de compte;
                                                              ENC=Account No.] }
    { 5   ;   ;Posting Date        ;Date          ;OnValidate=BEGIN
                                                                TESTFIELD("Posting Date");
                                                                VALIDATE("Document Date","Posting Date");
                                                                VALIDATE("Currency Code");

                                                                IF ("Posting Date" <> xRec."Posting Date") AND (Amount <> 0) THEN
                                                                  PaymentToleranceMgt.PmtTolGenJnl(Rec);

                                                                ValidateApplyRequirements(Rec);

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;

                                                                IF "Deferral Code" <> '' THEN
                                                                  VALIDATE("Deferral Code");
                                                              END;

                                                   CaptionML=[ENU=Posting Date;
                                                              ESM=Fecha registro;
                                                              FRC=Date de report;
                                                              ENC=Posting Date];
                                                   ClosingDates=Yes }
    { 6   ;   ;Document Type       ;Option        ;OnValidate=VAR
                                                                Cust@1000 : Record 18;
                                                                Vend@1001 : Record 23;
                                                              BEGIN
                                                                VALIDATE("Payment Terms Code");
                                                                IF ("Document Type" = "Document Type"::" ") OR
                                                                   ("Document Type" = "Document Type"::Invoice) OR
                                                                   ("Document Type" = "Document Type"::"Credit Memo")
                                                                THEN
                                                                  VALIDATE("IRS 1099 Code")
                                                                ELSE
                                                                  "IRS 1099 Amount" := 0;
                                                                IF "Account No." <> '' THEN
                                                                  CASE "Account Type" OF
                                                                    "Account Type"::Customer:
                                                                      BEGIN
                                                                        Cust.GET("Account No.");
                                                                        Cust.CheckBlockedCustOnJnls(Cust,"Document Type",FALSE);
                                                                      END;
                                                                    "Account Type"::Vendor:
                                                                      BEGIN
                                                                        Vend.GET("Account No.");
                                                                        Vend.CheckBlockedVendOnJnls(Vend,"Document Type",FALSE);
                                                                      END;
                                                                  END;
                                                                IF "Bal. Account No." <> '' THEN
                                                                  CASE "Bal. Account Type" OF
                                                                    "Account Type"::Customer:
                                                                      BEGIN
                                                                        Cust.GET("Bal. Account No.");
                                                                        Cust.CheckBlockedCustOnJnls(Cust,"Document Type",FALSE);
                                                                      END;
                                                                    "Account Type"::Vendor:
                                                                      BEGIN
                                                                        Vend.GET("Bal. Account No.");
                                                                        Vend.CheckBlockedVendOnJnls(Vend,"Document Type",FALSE);
                                                                      END;
                                                                  END;
                                                                UpdateSalesPurchLCY;
                                                                ValidateApplyRequirements(Rec);
                                                              END;

                                                   CaptionML=[ENU=Document Type;
                                                              ESM=Tipo documento;
                                                              FRC=Type de document;
                                                              ENC=Document Type];
                                                   OptionCaptionML=[ENU=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund";
                                                                    ESM=" ,Pago,Factura,Nota crÇdito,Docs. interÇs,Recordatorio,Reembolso";
                                                                    FRC=" ,Paiement,Facture,Note de crÇdit,Note de frais financiers,Rappel,Remboursement";
                                                                    ENC=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund"];
                                                   OptionString=[ ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund] }
    { 7   ;   ;Document No.        ;Code20        ;CaptionML=[ENU=Document No.;
                                                              ESM=Nß documento;
                                                              FRC=N¯ de document;
                                                              ENC=Document No.] }
    { 8   ;   ;Description         ;Text50        ;CaptionML=[ENU=Description;
                                                              ESM=Descripci¢n;
                                                              FRC=Description;
                                                              ENC=Description] }
    { 10  ;   ;VAT %               ;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                CASE "VAT Calculation Type" OF
                                                                  "VAT Calculation Type"::"Normal VAT",
                                                                  "VAT Calculation Type"::"Reverse Charge VAT":
                                                                    BEGIN
                                                                      "VAT Amount" :=
                                                                        ROUND(Amount * "VAT %" / (100 + "VAT %"),Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                      "VAT Base Amount" :=
                                                                        ROUND(Amount - "VAT Amount",Currency."Amount Rounding Precision");
                                                                    END;
                                                                  "VAT Calculation Type"::"Full VAT":
                                                                    "VAT Amount" := Amount;
                                                                  "VAT Calculation Type"::"Sales Tax":
                                                                    IF ("Gen. Posting Type" = "Gen. Posting Type"::Purchase) AND
                                                                       "Use Tax"
                                                                    THEN BEGIN
                                                                      "VAT Amount" := 0;
                                                                      "VAT %" := 0;
                                                                    END ELSE BEGIN
                                                                      IF "Tax Area Code" = '' THEN
                                                                        CLEAR(TaxArea)
                                                                      ELSE
                                                                        TaxArea.GET("Tax Area Code");
                                                                      IF TaxArea."Use External Tax Engine" THEN
                                                                        "VAT Amount" :=
                                                                          Amount -
                                                                          SalesTaxCalculate.CallExternalTaxEngineForJnl(Rec,1)
                                                                      ELSE
                                                                        "VAT Amount" :=
                                                                          Amount -
                                                                          SalesTaxCalculate.ReverseCalculateTax(
                                                                            "Tax Area Code","Tax Group Code","Tax Liable",
                                                                            "Posting Date",Amount,Quantity,"Currency Factor");
                                                                      IF Amount - "VAT Amount" <> 0 THEN
                                                                        "VAT %" := ROUND(100 * "VAT Amount" / (Amount - "VAT Amount"),0.00001)
                                                                      ELSE
                                                                        "VAT %" := 0;
                                                                      "VAT Amount" :=
                                                                        ROUND("VAT Amount",Currency."Amount Rounding Precision");
                                                                    END;
                                                                END;
                                                                "VAT Base Amount" := Amount - "VAT Amount";
                                                                "VAT Difference" := 0;

                                                                IF "Currency Code" = '' THEN
                                                                  "VAT Amount (LCY)" := "VAT Amount"
                                                                ELSE
                                                                  "VAT Amount (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        "Posting Date","Currency Code",
                                                                        "VAT Amount","Currency Factor"));
                                                                "VAT Base Amount (LCY)" := "Amount (LCY)" - "VAT Amount (LCY)";

                                                                UpdateSalesPurchLCY;

                                                                IF "Deferral Code" <> '' THEN
                                                                  VALIDATE("Deferral Code");
                                                              END;

                                                   CaptionML=[ENU=Tax %;
                                                              ESM=% IVA;
                                                              FRC=% TVA;
                                                              ENC=Tax %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100;
                                                   Editable=No }
    { 11  ;   ;Bal. Account No.    ;Code20        ;TableRelation=IF (Bal. Account Type=CONST(G/L Account)) "G/L Account" WHERE (Account Type=CONST(Posting),
                                                                                                                                Blocked=CONST(No))
                                                                                                                                ELSE IF (Bal. Account Type=CONST(Customer)) Customer
                                                                                                                                ELSE IF (Bal. Account Type=CONST(Vendor)) Vendor
                                                                                                                                ELSE IF (Bal. Account Type=CONST(Bank Account)) "Bank Account"
                                                                                                                                ELSE IF (Bal. Account Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                                                                                ELSE IF (Bal. Account Type=CONST(IC Partner)) "IC Partner"
                                                                                                                                ELSE IF (Bal. Account Type=CONST(Employee)) Employee;
                                                   OnValidate=BEGIN
                                                                VALIDATE("Job No.",'');

                                                                IF xRec."Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,
                                                                                                "Bal. Account Type"::"IC Partner"]
                                                                THEN
                                                                  "IC Partner Code" := '';

                                                                IF "Bal. Account No." = '' THEN BEGIN
                                                                  UpdateLineBalance;
                                                                  UpdateSource;
                                                                  CreateDim(
                                                                    DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                    DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                    DATABASE::Job,"Job No.",
                                                                    DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                    DATABASE::Campaign,"Campaign No.");
                                                                  IF NOT ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor]) THEN
                                                                    "Recipient Bank Account" := '';
                                                                  IF xRec."Bal. Account No." <> '' THEN BEGIN
                                                                    ClearBalancePostingGroups;
                                                                    "Bal. Tax Area Code" := '';
                                                                    "Bal. Tax Liable" := FALSE;
                                                                    "Bal. Tax Group Code" := '';
                                                                    ClearCurrencyCode;
                                                                  END;
                                                                  EXIT;
                                                                END;

                                                                CASE "Bal. Account Type" OF
                                                                  "Bal. Account Type"::"G/L Account":
                                                                    GetGLBalAccount;
                                                                  "Bal. Account Type"::Customer:
                                                                    GetCustomerBalAccount;
                                                                  "Bal. Account Type"::Vendor:
                                                                    GetVendorBalAccount;
                                                                  "Bal. Account Type"::Employee:
                                                                    GetEmployeeBalAccount;
                                                                  "Bal. Account Type"::"Bank Account":
                                                                    GetBankBalAccount;
                                                                  "Bal. Account Type"::"Fixed Asset":
                                                                    GetFABalAccount;
                                                                  "Bal. Account Type"::"IC Partner":
                                                                    GetICPartnerBalAccount;
                                                                END;

                                                                VALIDATE("Currency Code");
                                                                VALIDATE("Bal. VAT Prod. Posting Group");
                                                                UpdateLineBalance;
                                                                UpdateSource;
                                                                CreateDim(
                                                                  DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                  DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                  DATABASE::Campaign,"Campaign No.");

                                                                VALIDATE("IC Partner G/L Acc. No.",GetDefaultICPartnerGLAccNo);
                                                                ValidateApplyRequirements(Rec);
                                                              END;

                                                   CaptionML=[ENU=Bal. Account No.;
                                                              ESM=Cta. contrapartida;
                                                              FRC=N¯ compte contrìle;
                                                              ENC=Bal. Account No.] }
    { 12  ;   ;Currency Code       ;Code10        ;TableRelation=Currency;
                                                   OnValidate=VAR
                                                                BankAcc@1000 : Record 270;
                                                              BEGIN
                                                                IF "Bal. Account Type" = "Bal. Account Type"::"Bank Account" THEN BEGIN
                                                                  IF BankAcc.GET("Bal. Account No.") AND (BankAcc."Currency Code" <> '')THEN
                                                                    BankAcc.TESTFIELD("Currency Code","Currency Code");
                                                                END;
                                                                IF "Account Type" = "Account Type"::"Bank Account" THEN BEGIN
                                                                  IF BankAcc.GET("Account No.") AND (BankAcc."Currency Code" <> '') THEN
                                                                    BankAcc.TESTFIELD("Currency Code","Currency Code");
                                                                END;
                                                                IF ("Recurring Method" IN
                                                                    ["Recurring Method"::"B  Balance","Recurring Method"::"RB Reversing Balance"]) AND
                                                                   ("Currency Code" <> '')
                                                                THEN
                                                                  ERROR(
                                                                    Text001,
                                                                    FIELDCAPTION("Currency Code"),FIELDCAPTION("Recurring Method"),"Recurring Method");

                                                                IF "Currency Code" <> '' THEN BEGIN
                                                                  IF ("Bal. Account Type" = "Bal. Account Type"::Employee) OR ("Account Type" = "Account Type"::Employee) THEN
                                                                    ERROR(OnlyLocalCurrencyForEmployeeErr);
                                                                  GetCurrency;
                                                                  IF ("Currency Code" <> xRec."Currency Code") OR
                                                                     ("Posting Date" <> xRec."Posting Date") OR
                                                                     (CurrFieldNo = FIELDNO("Currency Code")) OR
                                                                     ("Currency Factor" = 0)
                                                                  THEN
                                                                    "Currency Factor" :=
                                                                      CurrExchRate.ExchangeRate("Posting Date","Currency Code");
                                                                END ELSE
                                                                  "Currency Factor" := 0;
                                                                VALIDATE("Currency Factor");

                                                                IF NOT CustVendAccountNosModified THEN
                                                                  IF ("Currency Code" <> xRec."Currency Code") AND (Amount <> 0) THEN
                                                                    PaymentToleranceMgt.PmtTolGenJnl(Rec);
                                                              END;

                                                   CaptionML=[ENU=Currency Code;
                                                              ESM=C¢d. divisa;
                                                              FRC=Code devise;
                                                              ENC=Currency Code] }
    { 13  ;   ;Amount              ;Decimal       ;OnValidate=BEGIN
                                                                ValidateAmount(TRUE);
                                                              END;

                                                   CaptionML=[ENU=Amount;
                                                              ESM=Importe;
                                                              FRC=Montant;
                                                              ENC=Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 14  ;   ;Debit Amount        ;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                "Debit Amount" := ROUND("Debit Amount",Currency."Amount Rounding Precision");
                                                                Correction := "Debit Amount" < 0;
                                                                IF ("Credit Amount" = 0) OR ("Debit Amount" <> 0) THEN BEGIN
                                                                  Amount := "Debit Amount";
                                                                  VALIDATE(Amount);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Debit Amount;
                                                              ESM=Importe debe;
                                                              FRC=Montant de dÇbit;
                                                              ENC=Debit Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 15  ;   ;Credit Amount       ;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                "Credit Amount" := ROUND("Credit Amount",Currency."Amount Rounding Precision");
                                                                Correction := "Credit Amount" < 0;
                                                                IF ("Debit Amount" = 0) OR ("Credit Amount" <> 0) THEN BEGIN
                                                                  Amount := -"Credit Amount";
                                                                  VALIDATE(Amount);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Credit Amount;
                                                              ESM=Importe haber;
                                                              FRC=Montant de crÇdit;
                                                              ENC=Credit Amount];
                                                   BlankZero=Yes;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 16  ;   ;Amount (LCY)        ;Decimal       ;OnValidate=BEGIN
                                                                IF "Currency Code" = '' THEN BEGIN
                                                                  Amount := "Amount (LCY)";
                                                                  VALIDATE(Amount);
                                                                END ELSE BEGIN
                                                                  IF CheckFixedCurrency THEN BEGIN
                                                                    GetCurrency;
                                                                    Amount := ROUND(
                                                                        CurrExchRate.ExchangeAmtLCYToFCY(
                                                                          "Posting Date","Currency Code",
                                                                          "Amount (LCY)","Currency Factor"),
                                                                        Currency."Amount Rounding Precision")
                                                                  END ELSE BEGIN
                                                                    TESTFIELD("Amount (LCY)");
                                                                    TESTFIELD(Amount);
                                                                    "Currency Factor" := Amount / "Amount (LCY)";
                                                                  END;

                                                                  VALIDATE("VAT %");
                                                                  VALIDATE("Bal. VAT %");
                                                                  UpdateLineBalance;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Amount ($);
                                                              ESM=Importe ($);
                                                              FRC=Montant ($);
                                                              ENC=Amount ($)];
                                                   AutoFormatType=1 }
    { 17  ;   ;Balance (LCY)       ;Decimal       ;CaptionML=[ENU=Balance ($);
                                                              ESM=Saldo ($);
                                                              FRC=Solde ($);
                                                              ENC=Balance ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 18  ;   ;Currency Factor     ;Decimal       ;OnValidate=BEGIN
                                                                IF ("Currency Code" = '') AND ("Currency Factor" <> 0) THEN
                                                                  FIELDERROR("Currency Factor",STRSUBSTNO(Text002,FIELDCAPTION("Currency Code")));
                                                                VALIDATE(Amount);
                                                              END;

                                                   CaptionML=[ENU=Currency Factor;
                                                              ESM=Factor divisa;
                                                              FRC=Facteur devise;
                                                              ENC=Currency Factor];
                                                   DecimalPlaces=0:15;
                                                   MinValue=0;
                                                   Editable=No }
    { 19  ;   ;Sales/Purch. (LCY)  ;Decimal       ;CaptionML=[ENU=Sales/Purch. ($);
                                                              ESM=Venta/Compra ($);
                                                              FRC=Ventes/Achats ($);
                                                              ENC=Sales/Purch. ($)];
                                                   AutoFormatType=1 }
    { 20  ;   ;Profit (LCY)        ;Decimal       ;CaptionML=[ENU=Profit ($);
                                                              ESM=Bfß bruto ($);
                                                              FRC=Profit ($);
                                                              ENC=Profit ($)];
                                                   AutoFormatType=1 }
    { 21  ;   ;Inv. Discount (LCY) ;Decimal       ;CaptionML=[ENU=Inv. Discount ($);
                                                              ESM=Dto. factura ($);
                                                              FRC=Escompte facture ($);
                                                              ENC=Inv. Discount ($)];
                                                   AutoFormatType=1 }
    { 22  ;   ;Bill-to/Pay-to No.  ;Code20        ;TableRelation=IF (Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Account Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) Vendor;
                                                   OnValidate=BEGIN
                                                                IF "Bill-to/Pay-to No." <> xRec."Bill-to/Pay-to No." THEN
                                                                  "Ship-to/Order Address Code" := '';
                                                                ReadGLSetup;
                                                                IF GLSetup."Bill-to/Sell-to VAT Calc." = GLSetup."Bill-to/Sell-to VAT Calc."::"Bill-to/Pay-to No." THEN
                                                                  UpdateCountryCodeAndVATRegNo("Bill-to/Pay-to No.");
                                                              END;

                                                   CaptionML=[ENU=Bill-to/Pay-to No.;
                                                              ESM=Fact./Pago a Nß.;
                                                              FRC=N¯ de Facture Ö/Paiement Ö;
                                                              ENC=Bill-to/Pay-to No.];
                                                   Editable=No }
    { 23  ;   ;Posting Group       ;Code20        ;TableRelation=IF (Account Type=CONST(Customer)) "Customer Posting Group"
                                                                 ELSE IF (Account Type=CONST(Vendor)) "Vendor Posting Group"
                                                                 ELSE IF (Account Type=CONST(Fixed Asset)) "FA Posting Group";
                                                   CaptionML=[ENU=Posting Group;
                                                              ESM=Grupo de registro;
                                                              FRC=Paramätre report;
                                                              ENC=Posting Group];
                                                   Editable=No }
    { 24  ;   ;Shortcut Dimension 1 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(1),
                                                                                               Blocked=CONST(No));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(1,"Shortcut Dimension 1 Code");
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 1 Code;
                                                              ESM=C¢d. dim. acceso dir. 1;
                                                              FRC=Code raccourci de dimension 1;
                                                              ENC=Shortcut Dimension 1 Code];
                                                   CaptionClass='1,2,1' }
    { 25  ;   ;Shortcut Dimension 2 Code;Code20   ;TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(2),
                                                                                               Blocked=CONST(No));
                                                   OnValidate=BEGIN
                                                                ValidateShortcutDimCode(2,"Shortcut Dimension 2 Code");
                                                              END;

                                                   CaptionML=[ENU=Shortcut Dimension 2 Code;
                                                              ESM=C¢d. dim. acceso dir. 2;
                                                              FRC=Code raccourci de dimension 2;
                                                              ENC=Shortcut Dimension 2 Code];
                                                   CaptionClass='1,2,2' }
    { 26  ;   ;Salespers./Purch. Code;Code20      ;TableRelation=Salesperson/Purchaser;
                                                   OnValidate=BEGIN
                                                                ValidateSalesPersonPurchaserCode(Rec);

                                                                CreateDim(
                                                                  DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                  DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                  DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::Campaign,"Campaign No.");
                                                              END;

                                                   CaptionML=[ENU=Salespers./Purch. Code;
                                                              ESM=C¢d. vendedor/comprador;
                                                              FRC=Code de reprÇsentant/d'achat;
                                                              ENC=Salespers./Purch. Code] }
    { 29  ;   ;Source Code         ;Code10        ;TableRelation="Source Code";
                                                   CaptionML=[ENU=Source Code;
                                                              ESM=C¢d. origen;
                                                              FRC=Code d'origine;
                                                              ENC=Source Code];
                                                   Editable=No }
    { 30  ;   ;System-Created Entry;Boolean       ;CaptionML=[ENU=System-Created Entry;
                                                              ESM=Asiento autom†tico;
                                                              FRC=êcriture systäme;
                                                              ENC=System-Created Entry];
                                                   Editable=No }
    { 34  ;   ;On Hold             ;Code3         ;CaptionML=[ENU=On Hold;
                                                              ESM=Esperar;
                                                              FRC=En attente;
                                                              ENC=On Hold] }
    { 35  ;   ;Applies-to Doc. Type;Option        ;OnValidate=BEGIN
                                                                IF "Applies-to Doc. Type" <> xRec."Applies-to Doc. Type" THEN
                                                                  VALIDATE("Applies-to Doc. No.",'');
                                                              END;

                                                   CaptionML=[ENU=Applies-to Doc. Type;
                                                              ESM=Liq. por tipo documento;
                                                              FRC=Type document affectÇ Ö;
                                                              ENC=Applies-to Doc. Type];
                                                   OptionCaptionML=[ENU=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund";
                                                                    ESM=" ,Pago,Factura,Nota crÇdito,Docs. interÇs,Recordatorio,Reembolso";
                                                                    FRC=" ,Paiement,Facture,Note de crÇdit,Note de frais financiers,Rappel,Remboursement";
                                                                    ENC=" ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund"];
                                                   OptionString=[ ,Payment,Invoice,Credit Memo,Finance Charge Memo,Reminder,Refund] }
    { 36  ;   ;Applies-to Doc. No. ;Code20        ;OnValidate=VAR
                                                                CustLedgEntry@1000 : Record 21;
                                                                VendLedgEntry@1003 : Record 25;
                                                                TempGenJnlLine@1001 : TEMPORARY Record 81;
                                                              BEGIN
                                                                IF "Applies-to Doc. No." <> xRec."Applies-to Doc. No." THEN
                                                                  ClearCustVendApplnEntry;

                                                                IF ("Applies-to Doc. No." = '') AND (xRec."Applies-to Doc. No." <> '') THEN BEGIN
                                                                  PaymentToleranceMgt.DelPmtTolApllnDocNo(Rec,xRec."Applies-to Doc. No.");

                                                                  TempGenJnlLine := Rec;
                                                                  IF (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Customer) OR
                                                                     (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Vendor) OR
                                                                     (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Employee)
                                                                  THEN
                                                                    CODEUNIT.RUN(CODEUNIT::"Exchange Acc. G/L Journal Line",TempGenJnlLine);

                                                                  CASE TempGenJnlLine."Account Type" OF
                                                                    TempGenJnlLine."Account Type"::Customer:
                                                                      BEGIN
                                                                        CustLedgEntry.SETCURRENTKEY("Document No.");
                                                                        CustLedgEntry.SETRANGE("Document No.",xRec."Applies-to Doc. No.");
                                                                        IF NOT (xRec."Applies-to Doc. Type" = "Document Type"::" ") THEN
                                                                          CustLedgEntry.SETRANGE("Document Type",xRec."Applies-to Doc. Type");
                                                                        CustLedgEntry.SETRANGE("Customer No.",TempGenJnlLine."Account No.");
                                                                        CustLedgEntry.SETRANGE(Open,TRUE);
                                                                        IF CustLedgEntry.FINDFIRST THEN BEGIN
                                                                          IF CustLedgEntry."Amount to Apply" <> 0 THEN  BEGIN
                                                                            CustLedgEntry."Amount to Apply" := 0;
                                                                            CODEUNIT.RUN(CODEUNIT::"Cust. Entry-Edit",CustLedgEntry);
                                                                          END;
                                                                          "Exported to Payment File" := CustLedgEntry."Exported to Payment File";
                                                                          "Applies-to Ext. Doc. No." := '';
                                                                        END;
                                                                      END;
                                                                    TempGenJnlLine."Account Type"::Vendor:
                                                                      BEGIN
                                                                        VendLedgEntry.SETCURRENTKEY("Document No.");
                                                                        VendLedgEntry.SETRANGE("Document No.",xRec."Applies-to Doc. No.");
                                                                        IF NOT (xRec."Applies-to Doc. Type" = "Document Type"::" ") THEN
                                                                          VendLedgEntry.SETRANGE("Document Type",xRec."Applies-to Doc. Type");
                                                                        VendLedgEntry.SETRANGE("Vendor No.",TempGenJnlLine."Account No.");
                                                                        VendLedgEntry.SETRANGE(Open,TRUE);
                                                                        IF VendLedgEntry.FINDFIRST THEN BEGIN
                                                                          IF VendLedgEntry."Amount to Apply" <> 0 THEN  BEGIN
                                                                            VendLedgEntry."Amount to Apply" := 0;
                                                                            CODEUNIT.RUN(CODEUNIT::"Vend. Entry-Edit",VendLedgEntry);
                                                                          END;
                                                                          "Exported to Payment File" := VendLedgEntry."Exported to Payment File";
                                                                        END;
                                                                        "Applies-to Ext. Doc. No." := '';
                                                                      END;
                                                                    TempGenJnlLine."Account Type"::Employee:
                                                                      BEGIN
                                                                        EmplLedgEntry.SETCURRENTKEY("Document No.");
                                                                        EmplLedgEntry.SETRANGE("Document No.",xRec."Applies-to Doc. No.");
                                                                        IF NOT (xRec."Applies-to Doc. Type" = "Document Type"::" ") THEN
                                                                          EmplLedgEntry.SETRANGE("Document Type",xRec."Applies-to Doc. Type");
                                                                        EmplLedgEntry.SETRANGE("Employee No.",TempGenJnlLine."Account No.");
                                                                        EmplLedgEntry.SETRANGE(Open,TRUE);
                                                                        IF EmplLedgEntry.FINDFIRST THEN BEGIN
                                                                          IF EmplLedgEntry."Amount to Apply" <> 0 THEN BEGIN
                                                                            EmplLedgEntry."Amount to Apply" := 0;
                                                                            CODEUNIT.RUN(CODEUNIT::"Empl. Entry-Edit",EmplLedgEntry);
                                                                          END;
                                                                          "Exported to Payment File" := EmplLedgEntry."Exported to Payment File";
                                                                        END;
                                                                      END;
                                                                  END;
                                                                END;

                                                                IF ("Applies-to Doc. No." <> xRec."Applies-to Doc. No.") AND (Amount <> 0) THEN BEGIN
                                                                  IF xRec."Applies-to Doc. No." <> '' THEN
                                                                    PaymentToleranceMgt.DelPmtTolApllnDocNo(Rec,xRec."Applies-to Doc. No.");
                                                                  SetApplyToAmount;
                                                                  PaymentToleranceMgt.PmtTolGenJnl(Rec);
                                                                  xRec.ClearAppliedGenJnlLine;
                                                                END;

                                                                CASE "Account Type" OF
                                                                  "Account Type"::Customer:
                                                                    GetCustLedgerEntry;
                                                                  "Account Type"::Vendor:
                                                                    GetVendLedgerEntry;
                                                                  "Account Type"::Employee:
                                                                    GetEmplLedgerEntry;
                                                                END;

                                                                ValidateApplyRequirements(Rec);
                                                                SetJournalLineFieldsFromApplication;

                                                                IF "Applies-to Doc. Type" = "Applies-to Doc. Type"::Invoice THEN
                                                                  UpdateAppliesToInvoiceID;
                                                              END;

                                                   OnLookup=VAR
                                                              PaymentToleranceMgt@1001 : Codeunit 426;
                                                              AccType@1002 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';
                                                              AccNo@1003 : Code[20];
                                                            BEGIN
                                                              xRec.Amount := Amount;
                                                              xRec."Currency Code" := "Currency Code";
                                                              xRec."Posting Date" := "Posting Date";

                                                              GetAccTypeAndNo(Rec,AccType,AccNo);
                                                              CLEAR(CustLedgEntry);
                                                              CLEAR(VendLedgEntry);

                                                              CASE AccType OF
                                                                AccType::Customer:
                                                                  LookUpAppliesToDocCust(AccNo);
                                                                AccType::Vendor:
                                                                  LookUpAppliesToDocVend(AccNo);
                                                                AccType::Employee:
                                                                  LookUpAppliesToDocEmpl(AccNo);
                                                              END;
                                                              SetJournalLineFieldsFromApplication;

                                                              IF xRec.Amount <> 0 THEN
                                                                IF NOT PaymentToleranceMgt.PmtTolGenJnl(Rec) THEN
                                                                  EXIT;

                                                              IF "Applies-to Doc. Type" = "Applies-to Doc. Type"::Invoice THEN
                                                                UpdateAppliesToInvoiceID;
                                                            END;

                                                   CaptionML=[ENU=Applies-to Doc. No.;
                                                              ESM=Liq. por nß documento;
                                                              FRC=N¯ doc. affectÇ Ö;
                                                              ENC=Applies-to Doc. No.] }
    { 38  ;   ;Due Date            ;Date          ;CaptionML=[ENU=Due Date;
                                                              ESM=Fecha vencimiento;
                                                              FRC=Date d'ÇchÇance;
                                                              ENC=Due Date] }
    { 39  ;   ;Pmt. Discount Date  ;Date          ;CaptionML=[ENU=Pmt. Discount Date;
                                                              ESM=Fecha dto. P.P.;
                                                              FRC=Date escompte de paiement;
                                                              ENC=Pmt. Discount Date] }
    { 40  ;   ;Payment Discount %  ;Decimal       ;CaptionML=[ENU=Payment Discount %;
                                                              ESM=% Dto. P.P.;
                                                              FRC=% escompte de paiement;
                                                              ENC=Payment Discount %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100 }
    { 42  ;   ;Job No.             ;Code20        ;TableRelation=Job;
                                                   OnValidate=BEGIN
                                                                IF "Job No." = xRec."Job No." THEN
                                                                  EXIT;

                                                                SourceCodeSetup.GET;
                                                                IF "Source Code" <> SourceCodeSetup."Job G/L WIP" THEN
                                                                  VALIDATE("Job Task No.",'');
                                                                IF "Job No." = '' THEN BEGIN
                                                                  CreateDim(
                                                                    DATABASE::Job,"Job No.",
                                                                    DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                    DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                    DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                    DATABASE::Campaign,"Campaign No.");
                                                                  EXIT;
                                                                END;

                                                                TESTFIELD("Account Type","Account Type"::"G/L Account");

                                                                IF "Bal. Account No." <> '' THEN
                                                                  IF NOT ("Bal. Account Type" IN ["Bal. Account Type"::"G/L Account","Bal. Account Type"::"Bank Account"]) THEN
                                                                    ERROR(Text016,FIELDCAPTION("Bal. Account Type"));

                                                                Job.GET("Job No.");
                                                                Job.TestBlocked;
                                                                "Job Currency Code" := Job."Currency Code";

                                                                CreateDim(
                                                                  DATABASE::Job,"Job No.",
                                                                  DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                  DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                  DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
                                                                  DATABASE::Campaign,"Campaign No.");
                                                              END;

                                                   CaptionML=[ENU=Job No.;
                                                              ESM=Nß proyecto;
                                                              FRC=N¯ projet;
                                                              ENC=Job No.] }
    { 43  ;   ;Quantity            ;Decimal       ;OnValidate=BEGIN
                                                                VALIDATE(Amount);
                                                              END;

                                                   CaptionML=[ENU=Quantity;
                                                              ESM=Cantidad;
                                                              FRC=QuantitÇ;
                                                              ENC=Quantity];
                                                   DecimalPlaces=0:5 }
    { 44  ;   ;VAT Amount          ;Decimal       ;OnValidate=BEGIN
                                                                GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
                                                                GenJnlBatch.TESTFIELD("Allow VAT Difference",TRUE);
                                                                IF NOT ("VAT Calculation Type" IN
                                                                        ["VAT Calculation Type"::"Normal VAT","VAT Calculation Type"::"Reverse Charge VAT",
                                                                         "VAT Calculation Type"::"Sales Tax"])
                                                                THEN
                                                                  ERROR(
                                                                    VATCalculationTypeErr,FIELDCAPTION("VAT Calculation Type"));
                                                                IF "VAT Amount" <> 0 THEN BEGIN
                                                                  TESTFIELD("VAT %");
                                                                  TESTFIELD(Amount);
                                                                END;

                                                                GetCurrency;
                                                                "VAT Amount" := ROUND("VAT Amount",Currency."Amount Rounding Precision",Currency.VATRoundingDirection);

                                                                IF "VAT Amount" * Amount < 0 THEN
                                                                  IF "VAT Amount" > 0 THEN
                                                                    ERROR(Text011,FIELDCAPTION("VAT Amount"))
                                                                  ELSE
                                                                    ERROR(Text012,FIELDCAPTION("VAT Amount"));

                                                                "VAT Base Amount" := Amount - "VAT Amount";

                                                                "VAT Difference" :=
                                                                  "VAT Amount" -
                                                                  ROUND(
                                                                    Amount * "VAT %" / (100 + "VAT %"),
                                                                    Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                IF ABS("VAT Difference") > Currency."Max. VAT Difference Allowed" THEN
                                                                  ERROR(Text013,FIELDCAPTION("VAT Difference"),Currency."Max. VAT Difference Allowed");

                                                                IF "Currency Code" = '' THEN
                                                                  "VAT Amount (LCY)" := "VAT Amount"
                                                                ELSE
                                                                  "VAT Amount (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        "Posting Date","Currency Code",
                                                                        "VAT Amount","Currency Factor"));
                                                                "VAT Base Amount (LCY)" := "Amount (LCY)" - "VAT Amount (LCY)";

                                                                UpdateSalesPurchLCY;

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;

                                                                IF "Deferral Code" <> '' THEN
                                                                  VALIDATE("Deferral Code");
                                                              END;

                                                   CaptionML=[ENU=Tax Amount;
                                                              ESM=Importe IVA;
                                                              FRC=Montant de TVA;
                                                              ENC=Tax Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 45  ;   ;VAT Posting         ;Option        ;CaptionML=[ENU=Tax Posting;
                                                              ESM=Tipo mov. IVA;
                                                              FRC=Report TVA;
                                                              ENC=Tax Posting];
                                                   OptionCaptionML=[ENU=Automatic Tax Entry,Manual Tax Entry;
                                                                    ESM=Autom†tico,Manual;
                                                                    FRC=êcriture TVA automatique,êcriture TVA manuelle;
                                                                    ENC=Automatic VAT Entry,Manual VAT Entry];
                                                   OptionString=Automatic VAT Entry,Manual VAT Entry;
                                                   Editable=No }
    { 47  ;   ;Payment Terms Code  ;Code10        ;TableRelation="Payment Terms";
                                                   OnValidate=BEGIN
                                                                "Due Date" := 0D;
                                                                "Pmt. Discount Date" := 0D;
                                                                "Payment Discount %" := 0;
                                                                IF ("Account Type" <> "Account Type"::"G/L Account") OR
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"G/L Account")
                                                                THEN
                                                                  CASE "Document Type" OF
                                                                    "Document Type"::Invoice:
                                                                      IF ("Payment Terms Code" <> '') AND ("Document Date" <> 0D) THEN BEGIN
                                                                        PaymentTerms.GET("Payment Terms Code");
                                                                        "Due Date" := CALCDATE(PaymentTerms."Due Date Calculation","Document Date");
                                                                        "Pmt. Discount Date" := CALCDATE(PaymentTerms."Discount Date Calculation","Document Date");
                                                                        "Payment Discount %" := PaymentTerms."Discount %";
                                                                      END ELSE
                                                                        "Due Date" := "Document Date";
                                                                    "Document Type"::"Credit Memo":
                                                                      IF ("Payment Terms Code" <> '') AND ("Document Date" <> 0D) THEN BEGIN
                                                                        PaymentTerms.GET("Payment Terms Code");
                                                                        IF PaymentTerms."Calc. Pmt. Disc. on Cr. Memos" THEN BEGIN
                                                                          "Due Date" := CALCDATE(PaymentTerms."Due Date Calculation","Document Date");
                                                                          "Pmt. Discount Date" :=
                                                                            CALCDATE(PaymentTerms."Discount Date Calculation","Document Date");
                                                                          "Payment Discount %" := PaymentTerms."Discount %";
                                                                        END ELSE
                                                                          "Due Date" := "Document Date";
                                                                      END ELSE
                                                                        "Due Date" := "Document Date";
                                                                    ELSE
                                                                      "Due Date" := "Document Date";
                                                                  END;
                                                              END;

                                                   CaptionML=[ENU=Payment Terms Code;
                                                              ESM=C¢d. tÇrminos pago;
                                                              FRC=Code modalitÇs de paiement;
                                                              ENC=Payment Terms Code] }
    { 48  ;   ;Applies-to ID       ;Code50        ;OnValidate=BEGIN
                                                                IF ("Applies-to ID" <> xRec."Applies-to ID") AND (xRec."Applies-to ID" <> '') THEN
                                                                  ClearCustVendApplnEntry;
                                                                SetJournalLineFieldsFromApplication;
                                                              END;

                                                   CaptionML=[ENU=Applies-to ID;
                                                              ESM=Liq. por id.;
                                                              FRC=Code affectÇ Ö;
                                                              ENC=Applies-to ID] }
    { 50  ;   ;Business Unit Code  ;Code20        ;TableRelation="Business Unit";
                                                   CaptionML=[ENU=Business Unit Code;
                                                              ESM=C¢d. empresa;
                                                              FRC=Code d'unitÇ fonctionnelle;
                                                              ENC=Business Unit Code] }
    { 51  ;   ;Journal Batch Name  ;Code10        ;TableRelation="Gen. Journal Batch".Name WHERE (Journal Template Name=FIELD(Journal Template Name));
                                                   OnValidate=BEGIN
                                                                UpdateJournalBatchID;
                                                              END;

                                                   CaptionML=[ENU=Journal Batch Name;
                                                              ESM=Nombre secci¢n diario;
                                                              FRC=Nom lot de journal;
                                                              ENC=Journal Batch Name] }
    { 52  ;   ;Reason Code         ;Code10        ;TableRelation="Reason Code";
                                                   CaptionML=[ENU=Reason Code;
                                                              ESM=C¢d. auditor°a;
                                                              FRC=Code motif;
                                                              ENC=Reason Code] }
    { 53  ;   ;Recurring Method    ;Option        ;OnValidate=BEGIN
                                                                IF "Recurring Method" IN
                                                                   ["Recurring Method"::"B  Balance","Recurring Method"::"RB Reversing Balance"]
                                                                THEN
                                                                  TESTFIELD("Currency Code",'');
                                                                UpdateSalesPurchLCY;
                                                              END;

                                                   CaptionML=[ENU=Recurring Method;
                                                              ESM=Periodicidad;
                                                              FRC=MÇthode rÇcurrente;
                                                              ENC=Recurring Method];
                                                   OptionCaptionML=[ENU=" ,F  Fixed,V  Variable,B  Balance,RF Reversing Fixed,RV Reversing Variable,RB Reversing Balance";
                                                                    ESM=" ,F  Fijo,V  Variable,S Saldo,CF Contraasiento fijo,CV Contraasiento variable,CS Contraasiento saldo";
                                                                    FRC=" ,F Fixe,V Variable,S Solde,CF Contrepassation fixe,CV Contrepassation variable,CS Contrepassation solde";
                                                                    ENC=" ,F  Fixed,V  Variable,B  Balance,RF Reversing Fixed,RV Reversing Variable,RB Reversing Balance"];
                                                   OptionString=[ ,F  Fixed,V  Variable,B  Balance,RF Reversing Fixed,RV Reversing Variable,RB Reversing Balance];
                                                   BlankZero=Yes }
    { 54  ;   ;Expiration Date     ;Date          ;CaptionML=[ENU=Expiration Date;
                                                              ESM=Fecha caducidad;
                                                              FRC=Date d'expiration;
                                                              ENC=Expiration Date] }
    { 55  ;   ;Recurring Frequency ;DateFormula   ;CaptionML=[ENU=Recurring Frequency;
                                                              ESM=Frecuencia repetici¢n;
                                                              FRC=FrÇquence de rÇcurrence;
                                                              ENC=Recurring Frequency] }
    { 56  ;   ;Allocated Amt. (LCY);Decimal       ;FieldClass=FlowField;
                                                   CalcFormula=Sum("Gen. Jnl. Allocation".Amount WHERE (Journal Template Name=FIELD(Journal Template Name),
                                                                                                        Journal Batch Name=FIELD(Journal Batch Name),
                                                                                                        Journal Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Allocated Amt. ($);
                                                              ESM=Distribuir importe ($);
                                                              FRC=Montant imputÇ ($);
                                                              ENC=Allocated Amt. ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 57  ;   ;Gen. Posting Type   ;Option        ;OnValidate=BEGIN
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Gen. Posting Type","Gen. Posting Type"::" ");
                                                                IF ("Gen. Posting Type" = "Gen. Posting Type"::Settlement) AND (CurrFieldNo <> 0) THEN
                                                                  ERROR(Text006,"Gen. Posting Type");
                                                                CheckVATInAlloc;
                                                                IF "Gen. Posting Type" > 0 THEN
                                                                  VALIDATE("VAT Prod. Posting Group");
                                                                IF "Gen. Posting Type" <> "Gen. Posting Type"::Purchase THEN
                                                                  VALIDATE("Use Tax",FALSE)
                                                              END;

                                                   CaptionML=[ENU=Gen. Posting Type;
                                                              ESM=Tipo de registro gen.;
                                                              FRC=Type de report gÇnÇral;
                                                              ENC=Gen. Posting Type];
                                                   OptionCaptionML=[ENU=" ,Purchase,Sale,Settlement";
                                                                    ESM=" ,Compra,Venta,Liquidaci¢n";
                                                                    FRC=" ,Achat,Vente,Räglement";
                                                                    ENC=" ,Purchase,Sale,Settlement"];
                                                   OptionString=[ ,Purchase,Sale,Settlement] }
    { 58  ;   ;Gen. Bus. Posting Group;Code20     ;TableRelation="Gen. Business Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Gen. Bus. Posting Group",'');
                                                                IF xRec."Gen. Bus. Posting Group" <> "Gen. Bus. Posting Group" THEN
                                                                  IF GenBusPostingGrp.ValidateVatBusPostingGroup(GenBusPostingGrp,"Gen. Bus. Posting Group") THEN
                                                                    VALIDATE("VAT Bus. Posting Group",GenBusPostingGrp."Def. VAT Bus. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Bus. Posting Group;
                                                              ESM=Grupo registro neg. gen.;
                                                              FRC=Groupe de report de marchÇ;
                                                              ENC=Gen. Bus. Posting Group] }
    { 59  ;   ;Gen. Prod. Posting Group;Code20    ;TableRelation="Gen. Product Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Gen. Prod. Posting Group",'');
                                                                IF xRec."Gen. Prod. Posting Group" <> "Gen. Prod. Posting Group" THEN
                                                                  IF GenProdPostingGrp.ValidateVatProdPostingGroup(GenProdPostingGrp,"Gen. Prod. Posting Group") THEN
                                                                    VALIDATE("VAT Prod. Posting Group",GenProdPostingGrp."Def. VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Gen. Prod. Posting Group;
                                                              ESM=Grupo registro prod. gen.;
                                                              FRC=Groupe de report de produit;
                                                              ENC=Gen. Prod. Posting Group] }
    { 60  ;   ;VAT Calculation Type;Option        ;CaptionML=[ENU=VAT Calculation Type;
                                                              ESM=Tipo c†lculo IVA;
                                                              FRC=Type de calcul taxe;
                                                              ENC=Tax Calculation Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax;
                                                   Editable=No }
    { 61  ;   ;EU 3-Party Trade    ;Boolean       ;CaptionML=[ENU=EU 3-Party Trade;
                                                              ESM=Op. triangular;
                                                              FRC=Trans. tripartite UE;
                                                              ENC=EU 3-Party Trade];
                                                   Editable=No }
    { 62  ;   ;Allow Application   ;Boolean       ;InitValue=Yes;
                                                   CaptionML=[ENU=Allow Application;
                                                              ESM=Permite liq. por;
                                                              FRC=Permettre affectation;
                                                              ENC=Allow Application] }
    { 63  ;   ;Bal. Account Type   ;Option        ;OnValidate=BEGIN
                                                                IF ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Fixed Asset",
                                                                                       "Account Type"::"IC Partner","Account Type"::Employee]) AND
                                                                   ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Fixed Asset",
                                                                                            "Bal. Account Type"::"IC Partner","Bal. Account Type"::Employee])
                                                                THEN
                                                                  ERROR(
                                                                    Text000,
                                                                    FIELDCAPTION("Account Type"),FIELDCAPTION("Bal. Account Type"));

                                                                IF ("Bal. Account Type" = "Bal. Account Type"::Employee) AND ("Currency Code" <> '') THEN
                                                                  ERROR(OnlyLocalCurrencyForEmployeeErr);

                                                                VALIDATE("Bal. Account No.",'');
                                                                VALIDATE("IC Partner G/L Acc. No.",'');
                                                                IF "Bal. Account Type" IN
                                                                   ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account","Bal. Account Type"::Employee]
                                                                THEN BEGIN
                                                                  VALIDATE("Bal. Gen. Posting Type","Bal. Gen. Posting Type"::" ");
                                                                  VALIDATE("Bal. Gen. Bus. Posting Group",'');
                                                                  VALIDATE("Bal. Gen. Prod. Posting Group",'');
                                                                END ELSE
                                                                  IF "Account Type" IN [
                                                                                        "Bal. Account Type"::"G/L Account","Account Type"::"Bank Account","Account Type"::"Fixed Asset"]
                                                                  THEN
                                                                    VALIDATE("Payment Terms Code",'');

                                                                UpdateSource;
                                                                IF ("Account Type" <> "Account Type"::"Fixed Asset") AND
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"Fixed Asset")
                                                                THEN BEGIN
                                                                  "Depreciation Book Code" := '';
                                                                  VALIDATE("FA Posting Type","FA Posting Type"::" ");
                                                                END;
                                                                IF xRec."Bal. Account Type" IN
                                                                   [xRec."Bal. Account Type"::Customer,xRec."Bal. Account Type"::Vendor]
                                                                THEN BEGIN
                                                                  "Bill-to/Pay-to No." := '';
                                                                  "Ship-to/Order Address Code" := '';
                                                                  "Sell-to/Buy-from No." := '';
                                                                  "VAT Registration No." := '';
                                                                END;
                                                                IF ("Account Type" IN [
                                                                                       "Account Type"::"G/L Account","Account Type"::"Bank Account","Account Type"::"Fixed Asset"]) AND
                                                                   ("Bal. Account Type" IN [
                                                                                            "Bal. Account Type"::"G/L Account","Bal. Account Type"::"Bank Account","Bal. Account Type"::"Fixed Asset"])
                                                                THEN
                                                                  VALIDATE("Payment Terms Code",'');

                                                                IF "Bal. Account Type" = "Bal. Account Type"::"IC Partner" THEN BEGIN
                                                                  GetTemplate;
                                                                  IF GenJnlTemplate.Type <> GenJnlTemplate.Type::Intercompany THEN
                                                                    FIELDERROR("Bal. Account Type");
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Bal. Account Type;
                                                              ESM=Tipo contrapartida;
                                                              FRC=Type compte contrìle;
                                                              ENC=Bal. Account Type];
                                                   OptionCaptionML=[ENU=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee;
                                                                    ESM=Cuenta,Cliente,Proveedor,Banco,Activo fijo,Empresa vinculada asociada,Empleado;
                                                                    FRC=Compte du grand livre,Client,Fournisseur,Compte bancaire,Immobilisation,Partenaire IC,EmployÇ;
                                                                    ENC=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee];
                                                   OptionString=G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee }
    { 64  ;   ;Bal. Gen. Posting Type;Option      ;OnValidate=BEGIN
                                                                IF "Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Bal. Gen. Posting Type","Bal. Gen. Posting Type"::" ");
                                                                IF ("Bal. Gen. Posting Type" = "Gen. Posting Type"::Settlement) AND (CurrFieldNo <> 0) THEN
                                                                  ERROR(Text006,"Bal. Gen. Posting Type");
                                                                IF "Bal. Gen. Posting Type" > 0 THEN
                                                                  VALIDATE("Bal. VAT Prod. Posting Group");

                                                                IF ("Account Type" <> "Account Type"::"Fixed Asset") AND
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"Fixed Asset")
                                                                THEN BEGIN
                                                                  "Depreciation Book Code" := '';
                                                                  VALIDATE("FA Posting Type","FA Posting Type"::" ");
                                                                END;
                                                                IF "Bal. Gen. Posting Type" <> "Bal. Gen. Posting Type"::Purchase THEN
                                                                  VALIDATE("Bal. Use Tax",FALSE);
                                                              END;

                                                   CaptionML=[ENU=Bal. Gen. Posting Type;
                                                              ESM=Tipo regis. contrapartida;
                                                              FRC=Type report gÇn. solde;
                                                              ENC=Bal. Gen. Posting Type];
                                                   OptionCaptionML=[ENU=" ,Purchase,Sale,Settlement";
                                                                    ESM=" ,Compra,Venta,Liquidaci¢n";
                                                                    FRC=" ,Achat,Vente,Räglement";
                                                                    ENC=" ,Purchase,Sale,Settlement"];
                                                   OptionString=[ ,Purchase,Sale,Settlement] }
    { 65  ;   ;Bal. Gen. Bus. Posting Group;Code20;TableRelation="Gen. Business Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Bal. Gen. Bus. Posting Group",'');
                                                                IF xRec."Bal. Gen. Bus. Posting Group" <> "Bal. Gen. Bus. Posting Group" THEN
                                                                  IF GenBusPostingGrp.ValidateVatBusPostingGroup(GenBusPostingGrp,"Bal. Gen. Bus. Posting Group") THEN
                                                                    VALIDATE("Bal. VAT Bus. Posting Group",GenBusPostingGrp."Def. VAT Bus. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Bal. Gen. Bus. Posting Group;
                                                              ESM=Gr. registro negocio contrap.;
                                                              FRC=Par. report marchÇ ÇquilibrÇ;
                                                              ENC=Bal. Gen. Bus. Posting Group] }
    { 66  ;   ;Bal. Gen. Prod. Posting Group;Code20;
                                                   TableRelation="Gen. Product Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("Bal. Gen. Prod. Posting Group",'');
                                                                IF xRec."Bal. Gen. Prod. Posting Group" <> "Bal. Gen. Prod. Posting Group" THEN
                                                                  IF GenProdPostingGrp.ValidateVatProdPostingGroup(GenProdPostingGrp,"Bal. Gen. Prod. Posting Group") THEN
                                                                    VALIDATE("Bal. VAT Prod. Posting Group",GenProdPostingGrp."Def. VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Bal. Gen. Prod. Posting Group;
                                                              ESM=Gr. registro producto contrap.;
                                                              FRC=Par. report produit ÇquilibrÇ;
                                                              ENC=Bal. Gen. Prod. Posting Group] }
    { 67  ;   ;Bal. VAT Calculation Type;Option   ;CaptionML=[ENU=Bal. VAT Calculation Type;
                                                              ESM=Tipo c†lculo IVA contrap.;
                                                              FRC=Solde type de calcul taxe;
                                                              ENC=Bal. Tax Calculation Type];
                                                   OptionCaptionML=[ENU=Normal VAT,Reverse Charge Tax,Full VAT,Sales Tax;
                                                                    ESM=Normal,Reversi¢n,Total,Impto. venta;
                                                                    FRC=TVA normale,Frais renversÇs TVA,TVA compläte,Taxe de vente;
                                                                    ENC=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax];
                                                   OptionString=Normal VAT,Reverse Charge VAT,Full VAT,Sales Tax;
                                                   Editable=No }
    { 68  ;   ;Bal. VAT %          ;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                CASE "Bal. VAT Calculation Type" OF
                                                                  "Bal. VAT Calculation Type"::"Normal VAT",
                                                                  "Bal. VAT Calculation Type"::"Reverse Charge VAT":
                                                                    BEGIN
                                                                      "Bal. VAT Amount" :=
                                                                        ROUND(-Amount * "Bal. VAT %" / (100 + "Bal. VAT %"),Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                      "Bal. VAT Base Amount" :=
                                                                        ROUND(-Amount - "Bal. VAT Amount",Currency."Amount Rounding Precision");
                                                                    END;
                                                                  "Bal. VAT Calculation Type"::"Full VAT":
                                                                    "Bal. VAT Amount" := -Amount;
                                                                  "Bal. VAT Calculation Type"::"Sales Tax":
                                                                    IF ("Bal. Gen. Posting Type" = "Bal. Gen. Posting Type"::Purchase) AND
                                                                       "Bal. Use Tax"
                                                                    THEN BEGIN
                                                                      "Bal. VAT Amount" := 0;
                                                                      "Bal. VAT %" := 0;
                                                                    END ELSE BEGIN
                                                                      IF "Bal. Tax Area Code" = '' THEN
                                                                        CLEAR(TaxArea)
                                                                      ELSE
                                                                        TaxArea.GET("Bal. Tax Area Code");
                                                                      IF TaxArea."Use External Tax Engine" THEN
                                                                        "Bal. VAT Amount" :=
                                                                          -(Amount -
                                                                            SalesTaxCalculate.CallExternalTaxEngineForJnl(Rec,1))
                                                                      ELSE
                                                                        "Bal. VAT Amount" :=
                                                                          -(Amount -
                                                                            SalesTaxCalculate.ReverseCalculateTax(
                                                                              "Bal. Tax Area Code","Bal. Tax Group Code","Bal. Tax Liable",
                                                                              "Posting Date",Amount,Quantity,"Currency Factor"));
                                                                      IF Amount + "Bal. VAT Amount" <> 0 THEN
                                                                        "Bal. VAT %" := ROUND(100 * -"Bal. VAT Amount" / (Amount + "Bal. VAT Amount"),0.00001)
                                                                      ELSE
                                                                        "Bal. VAT %" := 0;
                                                                      "Bal. VAT Amount" :=
                                                                        ROUND("Bal. VAT Amount",Currency."Amount Rounding Precision");
                                                                    END;
                                                                END;
                                                                "Bal. VAT Base Amount" := -(Amount + "Bal. VAT Amount");
                                                                "Bal. VAT Difference" := 0;

                                                                IF "Currency Code" = '' THEN
                                                                  "Bal. VAT Amount (LCY)" := "Bal. VAT Amount"
                                                                ELSE
                                                                  "Bal. VAT Amount (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY("Posting Date","Currency Code","Bal. VAT Amount","Currency Factor"));
                                                                OnValidateBalVATPctOnAfterAssignBalVATAmountLCY("Bal. VAT Amount (LCY)");
                                                                "Bal. VAT Base Amount (LCY)" := -("Amount (LCY)" + "Bal. VAT Amount (LCY)");

                                                                UpdateSalesPurchLCY;
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax %;
                                                              ESM=% IVA contrap.;
                                                              FRC=Solde % taxe;
                                                              ENC=Bal. Tax %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100;
                                                   Editable=No }
    { 69  ;   ;Bal. VAT Amount     ;Decimal       ;OnValidate=BEGIN
                                                                GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
                                                                GenJnlBatch.TESTFIELD("Allow VAT Difference",TRUE);
                                                                IF NOT ("Bal. VAT Calculation Type" IN
                                                                        ["Bal. VAT Calculation Type"::"Normal VAT","Bal. VAT Calculation Type"::"Reverse Charge VAT",
                                                                         "Bal. VAT Calculation Type"::"Sales Tax"])
                                                                THEN
                                                                  ERROR(
                                                                    VATCalculationTypeErr,FIELDCAPTION("Bal. VAT Calculation Type"));
                                                                IF "Bal. VAT Amount" <> 0 THEN BEGIN
                                                                  TESTFIELD("Bal. VAT %");
                                                                  TESTFIELD(Amount);
                                                                END;

                                                                GetCurrency;
                                                                "Bal. VAT Amount" :=
                                                                  ROUND("Bal. VAT Amount",Currency."Amount Rounding Precision",Currency.VATRoundingDirection);

                                                                IF "Bal. VAT Amount" * Amount > 0 THEN
                                                                  IF "Bal. VAT Amount" > 0 THEN
                                                                    ERROR(Text011,FIELDCAPTION("Bal. VAT Amount"))
                                                                  ELSE
                                                                    ERROR(Text012,FIELDCAPTION("Bal. VAT Amount"));

                                                                "Bal. VAT Base Amount" := -(Amount + "Bal. VAT Amount");

                                                                "Bal. VAT Difference" :=
                                                                  "Bal. VAT Amount" -
                                                                  ROUND(
                                                                    -Amount * "Bal. VAT %" / (100 + "Bal. VAT %"),
                                                                    Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                IF ABS("Bal. VAT Difference") > Currency."Max. VAT Difference Allowed" THEN
                                                                  ERROR(
                                                                    Text013,FIELDCAPTION("Bal. VAT Difference"),Currency."Max. VAT Difference Allowed");

                                                                IF "Currency Code" = '' THEN
                                                                  "Bal. VAT Amount (LCY)" := "Bal. VAT Amount"
                                                                ELSE
                                                                  "Bal. VAT Amount (LCY)" :=
                                                                    ROUND(
                                                                      CurrExchRate.ExchangeAmtFCYToLCY(
                                                                        "Posting Date","Currency Code",
                                                                        "Bal. VAT Amount","Currency Factor"));
                                                                "Bal. VAT Base Amount (LCY)" := -("Amount (LCY)" + "Bal. VAT Amount (LCY)");

                                                                UpdateSalesPurchLCY;
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Amount;
                                                              ESM=Importe IVA contrap.;
                                                              FRC=Solde montant de taxes;
                                                              ENC=Bal. Tax Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 70  ;   ;Bank Payment Type   ;Option        ;OnValidate=BEGIN
                                                                IF ("Bank Payment Type" <> "Bank Payment Type"::" ") AND
                                                                   ("Account Type" <> "Account Type"::"Bank Account") AND
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"Bank Account")
                                                                THEN
                                                                  ERROR(
                                                                    Text007,
                                                                    FIELDCAPTION("Account Type"),FIELDCAPTION("Bal. Account Type"));
                                                                IF ("Account Type" = "Account Type"::"Fixed Asset") AND
                                                                   ("Bank Payment Type" <> "Bank Payment Type"::" ")
                                                                THEN
                                                                  FIELDERROR("Account Type");
                                                              END;

                                                   AccessByPermission=TableData 270=R;
                                                   CaptionML=[ENU=Bank Payment Type;
                                                              ESM=Tipo pago por banco;
                                                              FRC=Type de paiement bancaire;
                                                              ENC=Bank Payment Type];
                                                   OptionCaptionML=[ENU=" ,Computer Check,Manual Check,Electronic Payment,Electronic Payment-IAT";
                                                                    ESM=" ,Cheque autom†tico,Cheque manual,Pago electr¢nico,Pago electr¢nico-IAT";
                                                                    FRC=" ,Informatique,Manuel,Paiement Çlectronique,Paiement Çlectronique-IAT";
                                                                    ENC=" ,Computer Cheque,Manual Cheque,Electronic Payment,Electronic Payment-IAT"];
                                                   OptionString=[ ,Computer Check,Manual Check,Electronic Payment,Electronic Payment-IAT] }
    { 71  ;   ;VAT Base Amount     ;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                "VAT Base Amount" := ROUND("VAT Base Amount",Currency."Amount Rounding Precision");
                                                                CASE "VAT Calculation Type" OF
                                                                  "VAT Calculation Type"::"Normal VAT",
                                                                  "VAT Calculation Type"::"Reverse Charge VAT":
                                                                    Amount :=
                                                                      ROUND(
                                                                        "VAT Base Amount" * (1 + "VAT %" / 100),
                                                                        Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                  "VAT Calculation Type"::"Full VAT":
                                                                    IF "VAT Base Amount" <> 0 THEN
                                                                      FIELDERROR(
                                                                        "VAT Base Amount",
                                                                        STRSUBSTNO(
                                                                          Text008,FIELDCAPTION("VAT Calculation Type"),
                                                                          "VAT Calculation Type"));
                                                                  "VAT Calculation Type"::"Sales Tax":
                                                                    IF ("Gen. Posting Type" = "Gen. Posting Type"::Purchase) AND
                                                                       "Use Tax"
                                                                    THEN BEGIN
                                                                      "VAT Amount" := 0;
                                                                      "VAT %" := 0;
                                                                      Amount := "VAT Base Amount" + "VAT Amount";
                                                                    END ELSE BEGIN
                                                                      IF "Tax Area Code" = '' THEN
                                                                        CLEAR(TaxArea)
                                                                      ELSE
                                                                        TaxArea.GET("Tax Area Code");
                                                                      IF TaxArea."Use External Tax Engine" THEN
                                                                        "VAT Amount" :=
                                                                          SalesTaxCalculate.CallExternalTaxEngineForJnl(Rec,0)
                                                                      ELSE
                                                                        "VAT Amount" :=
                                                                          SalesTaxCalculate.CalculateTax(
                                                                            "Tax Area Code","Tax Group Code","Tax Liable","Posting Date",
                                                                            "VAT Base Amount",Quantity,"Currency Factor");
                                                                      IF "VAT Base Amount" <> 0 THEN
                                                                        "VAT %" := ROUND(100 * "VAT Amount" / "VAT Base Amount",0.00001)
                                                                      ELSE
                                                                        "VAT %" := 0;
                                                                      "VAT Amount" :=
                                                                        ROUND("VAT Amount",Currency."Amount Rounding Precision");
                                                                      Amount := "VAT Base Amount" + "VAT Amount";
                                                                    END;
                                                                END;
                                                                VALIDATE(Amount);
                                                              END;

                                                   CaptionML=[ENU=Tax Base Amount;
                                                              ESM=Importe base IVA;
                                                              FRC=Montant de base de la taxe;
                                                              ENC=Tax Base Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 72  ;   ;Bal. VAT Base Amount;Decimal       ;OnValidate=BEGIN
                                                                GetCurrency;
                                                                "Bal. VAT Base Amount" := ROUND("Bal. VAT Base Amount",Currency."Amount Rounding Precision");
                                                                CASE "Bal. VAT Calculation Type" OF
                                                                  "Bal. VAT Calculation Type"::"Normal VAT",
                                                                  "Bal. VAT Calculation Type"::"Reverse Charge VAT":
                                                                    Amount :=
                                                                      ROUND(
                                                                        -"Bal. VAT Base Amount" * (1 + "Bal. VAT %" / 100),
                                                                        Currency."Amount Rounding Precision",Currency.VATRoundingDirection);
                                                                  "Bal. VAT Calculation Type"::"Full VAT":
                                                                    IF "Bal. VAT Base Amount" <> 0 THEN
                                                                      FIELDERROR(
                                                                        "Bal. VAT Base Amount",
                                                                        STRSUBSTNO(
                                                                          Text008,FIELDCAPTION("Bal. VAT Calculation Type"),
                                                                          "Bal. VAT Calculation Type"));
                                                                  "Bal. VAT Calculation Type"::"Sales Tax":
                                                                    IF ("Bal. Gen. Posting Type" = "Bal. Gen. Posting Type"::Purchase) AND
                                                                       "Bal. Use Tax"
                                                                    THEN BEGIN
                                                                      "Bal. VAT Amount" := 0;
                                                                      "Bal. VAT %" := 0;
                                                                      Amount := -"Bal. VAT Base Amount" - "Bal. VAT Amount";
                                                                    END ELSE BEGIN
                                                                      IF "Bal. Tax Area Code" = '' THEN
                                                                        CLEAR(TaxArea)
                                                                      ELSE
                                                                        TaxArea.GET("Bal. Tax Area Code");
                                                                      IF TaxArea."Use External Tax Engine" THEN
                                                                        "Bal. VAT Amount" :=
                                                                          SalesTaxCalculate.CallExternalTaxEngineForJnl(Rec,0)
                                                                      ELSE
                                                                        "Bal. VAT Amount" :=
                                                                          SalesTaxCalculate.CalculateTax(
                                                                            "Bal. Tax Area Code","Bal. Tax Group Code","Bal. Tax Liable",
                                                                            "Posting Date","Bal. VAT Base Amount",Quantity,"Currency Factor");
                                                                      IF "Bal. VAT Base Amount" <> 0 THEN
                                                                        "Bal. VAT %" := ROUND(100 * "Bal. VAT Amount" / "Bal. VAT Base Amount",0.00001)
                                                                      ELSE
                                                                        "Bal. VAT %" := 0;
                                                                      "Bal. VAT Amount" :=
                                                                        ROUND("Bal. VAT Amount",Currency."Amount Rounding Precision");
                                                                      Amount := -"Bal. VAT Base Amount" - "Bal. VAT Amount";
                                                                    END;
                                                                END;
                                                                VALIDATE(Amount);
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Base Amount;
                                                              ESM=Imp. base IVA contrap.;
                                                              FRC=Solde montant de taxe de base;
                                                              ENC=Bal. Tax Base Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 73  ;   ;Correction          ;Boolean       ;OnValidate=BEGIN
                                                                VALIDATE(Amount);
                                                              END;

                                                   CaptionML=[ENU=Correction;
                                                              ESM=Correcci¢n;
                                                              FRC=Correction;
                                                              ENC=Correction] }
    { 75  ;   ;Check Printed       ;Boolean       ;AccessByPermission=TableData 272=R;
                                                   CaptionML=[ENU=Check Printed;
                                                              ESM=Cheque impreso;
                                                              FRC=Chäque imprimÇ;
                                                              ENC=Cheque Printed];
                                                   Editable=No }
    { 76  ;   ;Document Date       ;Date          ;OnValidate=BEGIN
                                                                VALIDATE("Payment Terms Code");
                                                              END;

                                                   CaptionML=[ENU=Document Date;
                                                              ESM=Fecha emisi¢n documento;
                                                              FRC=Date document;
                                                              ENC=Document Date];
                                                   ClosingDates=Yes }
    { 77  ;   ;External Document No.;Code35       ;CaptionML=[ENU=External Document No.;
                                                              ESM=Nß documento externo;
                                                              FRC=N¯ document externe;
                                                              ENC=External Document No.] }
    { 78  ;   ;Source Type         ;Option        ;OnValidate=BEGIN
                                                                IF ("Account Type" <> "Account Type"::"G/L Account") AND ("Account No." <> '') OR
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"G/L Account") AND ("Bal. Account No." <> '')
                                                                THEN
                                                                  UpdateSource
                                                                ELSE
                                                                  "Source No." := '';
                                                              END;

                                                   CaptionML=[ENU=Source Type;
                                                              ESM=Tipo procedencia mov.;
                                                              FRC=Type origine;
                                                              ENC=Source Type];
                                                   OptionCaptionML=[ENU=" ,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee";
                                                                    ESM=" ,Cliente,Proveedor,Banco,Activo fijo,IC asociadas,Empleado";
                                                                    FRC=" ,Client,Fournisseur,Compte bancaire,Immobilisation,Partenaire IC,EmployÇ";
                                                                    ENC=" ,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee"];
                                                   OptionString=[ ,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee] }
    { 79  ;   ;Source No.          ;Code20        ;TableRelation=IF (Source Type=CONST(Customer)) Customer
                                                                 ELSE IF (Source Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Source Type=CONST(Bank Account)) "Bank Account"
                                                                 ELSE IF (Source Type=CONST(Fixed Asset)) "Fixed Asset"
                                                                 ELSE IF (Source Type=CONST(Employee)) Employee;
                                                   OnValidate=BEGIN
                                                                IF ("Account Type" <> "Account Type"::"G/L Account") AND ("Account No." <> '') OR
                                                                   ("Bal. Account Type" <> "Bal. Account Type"::"G/L Account") AND ("Bal. Account No." <> '')
                                                                THEN
                                                                  UpdateSource;
                                                              END;

                                                   CaptionML=[ENU=Source No.;
                                                              ESM=C¢d. procedencia mov.;
                                                              FRC=N¯ origine;
                                                              ENC=Source No.] }
    { 80  ;   ;Posting No. Series  ;Code20        ;TableRelation="No. Series";
                                                   CaptionML=[ENU=Posting No. Series;
                                                              ESM=Nß serie registro;
                                                              FRC=SÇries de n¯ report;
                                                              ENC=Posting No. Series] }
    { 82  ;   ;Tax Area Code       ;Code20        ;TableRelation="Tax Area";
                                                   OnValidate=BEGIN
                                                                VALIDATE("VAT %");
                                                              END;

                                                   CaptionML=[ENU=Tax Area Code;
                                                              ESM=C¢d. †rea impuesto;
                                                              FRC=Code de rÇgion fiscale;
                                                              ENC=Tax Area Code] }
    { 83  ;   ;Tax Liable          ;Boolean       ;OnValidate=BEGIN
                                                                VALIDATE("VAT %");
                                                              END;

                                                   CaptionML=[ENU=Tax Liable;
                                                              ESM=Sujeto a impuesto;
                                                              FRC=Imposable;
                                                              ENC=Tax Liable] }
    { 84  ;   ;Tax Group Code      ;Code20        ;TableRelation="Tax Group";
                                                   OnValidate=BEGIN
                                                                VALIDATE("VAT %");
                                                              END;

                                                   CaptionML=[ENU=Tax Group Code;
                                                              ESM=C¢d. grupo impuesto;
                                                              FRC=Code groupe fiscal;
                                                              ENC=Tax Group Code] }
    { 85  ;   ;Use Tax             ;Boolean       ;OnValidate=BEGIN
                                                                IF NOT "Use Tax" THEN
                                                                  EXIT;
                                                                TESTFIELD("Gen. Posting Type","Gen. Posting Type"::Purchase);
                                                                VALIDATE("VAT %");
                                                              END;

                                                   CaptionML=[ENU=Use Tax;
                                                              ESM=Impuesto de importaci¢n;
                                                              FRC=Taxe de service;
                                                              ENC=Use Tax] }
    { 86  ;   ;Bal. Tax Area Code  ;Code20        ;TableRelation="Tax Area";
                                                   OnValidate=BEGIN
                                                                VALIDATE("Bal. VAT %");
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Area Code;
                                                              ESM=C¢d. †rea impto. contrap.;
                                                              FRC=Code rÇgion fiscale solde;
                                                              ENC=Bal. Tax Area Code] }
    { 87  ;   ;Bal. Tax Liable     ;Boolean       ;OnValidate=BEGIN
                                                                VALIDATE("Bal. VAT %");
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Liable;
                                                              ESM=Sujeto a impto. contrap.;
                                                              FRC=Solde imposable;
                                                              ENC=Bal. Tax Liable] }
    { 88  ;   ;Bal. Tax Group Code ;Code20        ;TableRelation="Tax Group";
                                                   OnValidate=BEGIN
                                                                VALIDATE("Bal. VAT %");
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Group Code;
                                                              ESM=C¢d. grupo impto. contrap.;
                                                              FRC=Code groupe fiscal solde;
                                                              ENC=Bal. Tax Group Code] }
    { 89  ;   ;Bal. Use Tax        ;Boolean       ;OnValidate=BEGIN
                                                                IF NOT "Bal. Use Tax" THEN
                                                                  EXIT;
                                                                TESTFIELD("Bal. Gen. Posting Type","Bal. Gen. Posting Type"::Purchase);
                                                                VALIDATE("Bal. VAT %");
                                                              END;

                                                   CaptionML=[ENU=Bal. Use Tax;
                                                              ESM=Impto. importaci¢n contrap.;
                                                              FRC=Solde taxe de service;
                                                              ENC=Bal. Use Tax] }
    { 90  ;   ;VAT Bus. Posting Group;Code20      ;TableRelation="VAT Business Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("VAT Bus. Posting Group",'');

                                                                VALIDATE("VAT Prod. Posting Group");

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END
                                                              END;

                                                   CaptionML=[ENU=Tax Bus. Posting Group;
                                                              ESM=Grupo registro IVA neg.;
                                                              FRC=Groupe de reports de taxe sur la valeur ajoutÇe de l'entreprise;
                                                              ENC=Tax Bus. Posting Group] }
    { 91  ;   ;VAT Prod. Posting Group;Code20     ;TableRelation="VAT Product Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Bank Account"] THEN
                                                                  TESTFIELD("VAT Prod. Posting Group",'');

                                                                CheckVATInAlloc;

                                                                "VAT %" := 0;
                                                                "VAT Calculation Type" := "VAT Calculation Type"::"Normal VAT";
                                                                IF "Gen. Posting Type" <> 0 THEN BEGIN
                                                                  IF NOT VATPostingSetup.GET("VAT Bus. Posting Group","VAT Prod. Posting Group") THEN
                                                                    VATPostingSetup.INIT;
                                                                  "VAT Calculation Type" := VATPostingSetup."VAT Calculation Type";
                                                                  CASE "VAT Calculation Type" OF
                                                                    "VAT Calculation Type"::"Normal VAT":
                                                                      "VAT %" := VATPostingSetup."VAT %";
                                                                    "VAT Calculation Type"::"Full VAT":
                                                                      CASE "Gen. Posting Type" OF
                                                                        "Gen. Posting Type"::Sale:
                                                                          TESTFIELD("Account No.",VATPostingSetup.GetSalesAccount(FALSE));
                                                                        "Gen. Posting Type"::Purchase:
                                                                          TESTFIELD("Account No.",VATPostingSetup.GetPurchAccount(FALSE));
                                                                      END;
                                                                  END;
                                                                END;
                                                                VALIDATE("VAT %");

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END
                                                              END;

                                                   CaptionML=[ENU=Tax Prod. Posting Group;
                                                              ESM=Grupo registro IVA prod.;
                                                              FRC=Groupe de report de produit taxe;
                                                              ENC=Tax Prod. Posting Group] }
    { 92  ;   ;Bal. VAT Bus. Posting Group;Code20 ;TableRelation="VAT Business Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Bal. Account Type" IN
                                                                   ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account"]
                                                                THEN
                                                                  TESTFIELD("Bal. VAT Bus. Posting Group",'');

                                                                VALIDATE("Bal. VAT Prod. Posting Group");
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Bus. Posting Group;
                                                              ESM=Gr. registro IVA neg. contrap.;
                                                              FRC=Par. report marchÇ taxe solde;
                                                              ENC=Bal. Tax Bus. Posting Group] }
    { 93  ;   ;Bal. VAT Prod. Posting Group;Code20;TableRelation="VAT Product Posting Group";
                                                   OnValidate=BEGIN
                                                                IF "Bal. Account Type" IN
                                                                   ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Bank Account"]
                                                                THEN
                                                                  TESTFIELD("Bal. VAT Prod. Posting Group",'');

                                                                "Bal. VAT %" := 0;
                                                                "Bal. VAT Calculation Type" := "Bal. VAT Calculation Type"::"Normal VAT";
                                                                IF "Bal. Gen. Posting Type" <> 0 THEN BEGIN
                                                                  IF NOT VATPostingSetup.GET("Bal. VAT Bus. Posting Group","Bal. VAT Prod. Posting Group") THEN
                                                                    VATPostingSetup.INIT;
                                                                  "Bal. VAT Calculation Type" := VATPostingSetup."VAT Calculation Type";
                                                                  CASE "Bal. VAT Calculation Type" OF
                                                                    "Bal. VAT Calculation Type"::"Normal VAT":
                                                                      "Bal. VAT %" := VATPostingSetup."VAT %";
                                                                    "Bal. VAT Calculation Type"::"Full VAT":
                                                                      CASE "Bal. Gen. Posting Type" OF
                                                                        "Bal. Gen. Posting Type"::Sale:
                                                                          TESTFIELD("Bal. Account No.",VATPostingSetup.GetSalesAccount(FALSE));
                                                                        "Bal. Gen. Posting Type"::Purchase:
                                                                          TESTFIELD("Bal. Account No.",VATPostingSetup.GetPurchAccount(FALSE));
                                                                      END;
                                                                  END;
                                                                END;
                                                                VALIDATE("Bal. VAT %");
                                                              END;

                                                   CaptionML=[ENU=Bal. Tax Prod. Posting Group;
                                                              ESM=Gr. registro IVA prod. contrp.;
                                                              FRC=Par. report produit taxe solde;
                                                              ENC=Bal. Tax Prod. Posting Group] }
    { 95  ;   ;Additional-Currency Posting;Option ;CaptionML=[ENU=Additional-Currency Posting;
                                                              ESM=Registro div.-adic.;
                                                              FRC=Report devise additionnelle;
                                                              ENC=Additional-Currency Posting];
                                                   OptionCaptionML=[ENU=None,Amount Only,Additional-Currency Amount Only;
                                                                    ESM=Ninguno,S¢lo importe,S¢lo importe div.-adic.;
                                                                    FRC=Aucun,Montant seulement,Montant devise additionnelle seulement;
                                                                    ENC=None,Amount Only,Additional-Currency Amount Only];
                                                   OptionString=None,Amount Only,Additional-Currency Amount Only;
                                                   Editable=No }
    { 98  ;   ;FA Add.-Currency Factor;Decimal    ;CaptionML=[ENU=FA Add.-Currency Factor;
                                                              ESM=A/F Factor div.-adic.;
                                                              FRC=Facteur devise add. immo.;
                                                              ENC=FA Add.-Currency Factor];
                                                   DecimalPlaces=0:15;
                                                   MinValue=0 }
    { 99  ;   ;Source Currency Code;Code10        ;TableRelation=Currency;
                                                   CaptionML=[ENU=Source Currency Code;
                                                              ESM=C¢d. divisa origen;
                                                              FRC=Code devise origine;
                                                              ENC=Source Currency Code];
                                                   Editable=No }
    { 100 ;   ;Source Currency Amount;Decimal     ;AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Source Currency Amount;
                                                              ESM=Importe divisa origen;
                                                              FRC=Montant devise origine;
                                                              ENC=Source Currency Amount];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 101 ;   ;Source Curr. VAT Base Amount;Decimal;
                                                   AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Source Curr. Tax Base Amount;
                                                              ESM=Importe base IVA divisa origen;
                                                              FRC=Montant devise tx base origine;
                                                              ENC=Source Curr. Tax Base Amount];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 102 ;   ;Source Curr. VAT Amount;Decimal    ;AccessByPermission=TableData 4=R;
                                                   CaptionML=[ENU=Source Curr. Tax Amount;
                                                              ESM=Importe IVA divisa origen;
                                                              FRC=Origine montant de taxes cour.;
                                                              ENC=Source Curr. Tax Amount];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 103 ;   ;VAT Base Discount % ;Decimal       ;CaptionML=[ENU=VAT Base Discount %;
                                                              ESM=% Dto. base IVA;
                                                              FRC=% escompte base TVA;
                                                              ENC=VAT Base Discount %];
                                                   DecimalPlaces=0:5;
                                                   MinValue=0;
                                                   MaxValue=100;
                                                   Editable=No }
    { 104 ;   ;VAT Amount (LCY)    ;Decimal       ;CaptionML=[ENU=Tax Amount ($);
                                                              ESM=Importe IVA ($);
                                                              FRC=Montant de la taxe ($);
                                                              ENC=Tax Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 105 ;   ;VAT Base Amount (LCY);Decimal      ;CaptionML=[ENU=Tax Base Amount ($);
                                                              ESM=Importe base IVA ($);
                                                              FRC=Montant de taxes de base($);
                                                              ENC=Tax Base Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 106 ;   ;Bal. VAT Amount (LCY);Decimal      ;CaptionML=[ENU=Bal. Tax Amount ($);
                                                              ESM=Importe IVA contrap. ($);
                                                              FRC=Solde montant de taxe ($);
                                                              ENC=Bal. Tax Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 107 ;   ;Bal. VAT Base Amount (LCY);Decimal ;CaptionML=[ENU=Bal. Tax Base Amount ($);
                                                              ESM=Importe base IVA contrap. ($);
                                                              FRC=Solde montant de taxe de base ($);
                                                              ENC=Bal. Tax Base Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 108 ;   ;Reversing Entry     ;Boolean       ;CaptionML=[ENU=Reversing Entry;
                                                              ESM=Mov. reversi¢n;
                                                              FRC=êcritures de contrepassation;
                                                              ENC=Reversing Entry];
                                                   Editable=No }
    { 109 ;   ;Allow Zero-Amount Posting;Boolean  ;CaptionML=[ENU=Allow Zero-Amount Posting;
                                                              ESM=Permitir cero-registro importe;
                                                              FRC=Autoriser compta. montant nul;
                                                              ENC=Allow Zero-Amount Posting];
                                                   Editable=No }
    { 110 ;   ;Ship-to/Order Address Code;Code10  ;TableRelation=IF (Account Type=CONST(Customer)) "Ship-to Address".Code WHERE (Customer No.=FIELD(Bill-to/Pay-to No.))
                                                                 ELSE IF (Account Type=CONST(Vendor)) "Order Address".Code WHERE (Vendor No.=FIELD(Bill-to/Pay-to No.))
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) "Ship-to Address".Code WHERE (Customer No.=FIELD(Bill-to/Pay-to No.))
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) "Order Address".Code WHERE (Vendor No.=FIELD(Bill-to/Pay-to No.));
                                                   CaptionML=[ENU=Ship-to/Order Address Code;
                                                              ESM=Enviar a/C¢d. dir. pedido;
                                                              FRC=Code adr. destinat./commande;
                                                              ENC=Ship-to/Order Address Code] }
    { 111 ;   ;VAT Difference      ;Decimal       ;CaptionML=[ENU=Tax Difference;
                                                              ESM=Diferencia  IVA;
                                                              FRC=DiffÇrence TVA;
                                                              ENC=Tax Difference];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 112 ;   ;Bal. VAT Difference ;Decimal       ;CaptionML=[ENU=Bal. Tax Difference;
                                                              ESM=Diferencia importe IVA;
                                                              FRC=DiffÇrence TVA contrepartie;
                                                              ENC=Bal. Tax Difference];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 113 ;   ;IC Partner Code     ;Code20        ;TableRelation="IC Partner";
                                                   CaptionML=[ENU=IC Partner Code;
                                                              ESM=C¢digo socio IC;
                                                              FRC=Code de partenaire IC;
                                                              ENC=IC Partner Code];
                                                   Editable=No }
    { 114 ;   ;IC Direction        ;Option        ;CaptionML=[ENU=IC Direction;
                                                              ESM=Direcci¢n env°o IC;
                                                              FRC=Direction IC;
                                                              ENC=IC Direction];
                                                   OptionCaptionML=[ENU=Outgoing,Incoming;
                                                                    ESM=Saliente,Entrante;
                                                                    FRC=Sortant,Entrant;
                                                                    ENC=Outgoing,Incoming];
                                                   OptionString=Outgoing,Incoming }
    { 116 ;   ;IC Partner G/L Acc. No.;Code20     ;TableRelation="IC G/L Account";
                                                   OnValidate=VAR
                                                                ICGLAccount@1000 : Record 410;
                                                              BEGIN
                                                                IF "Journal Template Name" <> '' THEN
                                                                  IF "IC Partner G/L Acc. No." <> '' THEN BEGIN
                                                                    GetTemplate;
                                                                    GenJnlTemplate.TESTFIELD(Type,GenJnlTemplate.Type::Intercompany);
                                                                    IF ICGLAccount.GET("IC Partner G/L Acc. No.") THEN
                                                                      ICGLAccount.TESTFIELD(Blocked,FALSE);
                                                                  END
                                                              END;

                                                   CaptionML=[ENU=IC Partner G/L Acc. No.;
                                                              ESM=Nß cuenta IC asociada;
                                                              FRC=N¯ compte G/L du partenaire IC;
                                                              ENC=IC Partner G/L Acc. No.] }
    { 117 ;   ;IC Partner Transaction No.;Integer ;CaptionML=[ENU=IC Partner Transaction No.;
                                                              ESM=Nß transacci¢n IC asociada;
                                                              FRC=N¯ de trans. partenaire IC;
                                                              ENC=IC Partner Transaction No.];
                                                   Editable=No }
    { 118 ;   ;Sell-to/Buy-from No.;Code20        ;TableRelation=IF (Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) Customer
                                                                 ELSE IF (Account Type=CONST(Vendor)) Vendor
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) Vendor;
                                                   OnValidate=BEGIN
                                                                ReadGLSetup;
                                                                IF GLSetup."Bill-to/Sell-to VAT Calc." = GLSetup."Bill-to/Sell-to VAT Calc."::"Sell-to/Buy-from No." THEN
                                                                  UpdateCountryCodeAndVATRegNo("Sell-to/Buy-from No.");
                                                              END;

                                                   CaptionML=[ENU=Sell-to/Buy-from No.;
                                                              ESM=Venta a/Compra a-Nß;
                                                              FRC=N¯ dÇbiteur/fournisseur;
                                                              ENC=Sell-to/Buy-from No.] }
    { 119 ;   ;VAT Registration No.;Text20        ;OnValidate=VAR
                                                                VATRegNoFormat@1000 : Record 381;
                                                              BEGIN
                                                                VATRegNoFormat.Test("VAT Registration No.","Country/Region Code",'',0);
                                                              END;

                                                   CaptionML=[ENU=Tax Registration No.;
                                                              ESM=RFC/Curp;
                                                              FRC=N¯ identification de la TPS/TVH;
                                                              ENC=GST/HST Registration No.] }
    { 120 ;   ;Country/Region Code ;Code10        ;TableRelation=Country/Region;
                                                   OnValidate=BEGIN
                                                                VALIDATE("VAT Registration No.");
                                                              END;

                                                   CaptionML=[ENU=Country/Region Code;
                                                              ESM=C¢d. pa°s/regi¢n;
                                                              FRC=Code pays/rÇgion;
                                                              ENC=Country/Region Code] }
    { 121 ;   ;Prepayment          ;Boolean       ;CaptionML=[ENU=Prepayment;
                                                              ESM=Anticipo;
                                                              FRC=Paiement anticipÇ;
                                                              ENC=Prepayment] }
    { 122 ;   ;Financial Void      ;Boolean       ;CaptionML=[ENU=Financial Void;
                                                              ESM=Vac°o financiero;
                                                              FRC=Annulation financiäre;
                                                              ENC=Financial Void];
                                                   Editable=No }
    { 123 ;   ;Copy VAT Setup to Jnl. Lines;Boolean;
                                                   InitValue=Yes;
                                                   CaptionML=[ENU=Copy Tax Setup to Jnl. Lines;
                                                              ESM=Copiar conf. IVA a l°ns. diario;
                                                              FRC=Copier la configuration TVA sur les lignes de journal;
                                                              ENC=Copy Tax Setup to Jnl. Lines];
                                                   Editable=No }
    { 125 ;   ;VAT Base Before Pmt. Disc.;Decimal ;CaptionML=[ENU=Tax Base Before Pmt. Disc.;
                                                              ESM=Base IVA antes de desc. P.P.;
                                                              FRC=Base TVA avant escompte de paiement;
                                                              ENC=Tax Base Before Pmt. Disc.];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Currency Code" }
    { 165 ;   ;Incoming Document Entry No.;Integer;TableRelation="Incoming Document";
                                                   OnValidate=VAR
                                                                IncomingDocument@1000 : Record 130;
                                                              BEGIN
                                                                IF Description = '' THEN
                                                                  Description := COPYSTR(IncomingDocument.Description,1,MAXSTRLEN(Description));
                                                                IF "Incoming Document Entry No." = xRec."Incoming Document Entry No." THEN
                                                                  EXIT;

                                                                IF "Incoming Document Entry No." = 0 THEN
                                                                  IncomingDocument.RemoveReferenceToWorkingDocument(xRec."Incoming Document Entry No.")
                                                                ELSE
                                                                  IncomingDocument.SetGenJournalLine(Rec);
                                                              END;

                                                   CaptionML=[ENU=Incoming Document Entry No.;
                                                              ESM=Nß mov. de documentos entrantes;
                                                              FRC=N¯ de sÇquence du document entrant;
                                                              ENC=Incoming Document Entry No.] }
    { 170 ;   ;Creditor No.        ;Code20        ;CaptionML=[ENU=Creditor No.;
                                                              ESM=Nß acreedor;
                                                              FRC=N¯ crÇditeur;
                                                              ENC=Creditor No.] }
    { 171 ;   ;Payment Reference   ;Code50        ;CaptionML=[ENU=Payment Reference;
                                                              ESM=Referencia pago;
                                                              FRC=RÇfÇrence paiement;
                                                              ENC=Payment Reference];
                                                   Numeric=Yes }
    { 172 ;   ;Payment Method Code ;Code10        ;TableRelation="Payment Method";
                                                   OnValidate=BEGIN
                                                                UpdatePaymentMethodId;
                                                              END;

                                                   CaptionML=[ENU=Payment Method Code;
                                                              ESM=C¢d. forma pago;
                                                              FRC=Code mode de paiement;
                                                              ENC=Payment Method Code] }
    { 173 ;   ;Applies-to Ext. Doc. No.;Code35    ;CaptionML=[ENU=Applies-to Ext. Doc. No.;
                                                              ESM=Liq. por nß doc. externo;
                                                              FRC=N¯ ligne doc. ext. rÇfÇrence;
                                                              ENC=Applies-to Ext. Doc. No.] }
    { 288 ;   ;Recipient Bank Account;Code20      ;TableRelation=IF (Account Type=CONST(Customer)) "Customer Bank Account".Code WHERE (Customer No.=FIELD(Account No.))
                                                                 ELSE IF (Account Type=CONST(Vendor)) "Vendor Bank Account".Code WHERE (Vendor No.=FIELD(Account No.))
                                                                 ELSE IF (Account Type=CONST(Employee)) Employee.No. WHERE (Employee No. Filter=FIELD(Account No.))
                                                                 ELSE IF (Bal. Account Type=CONST(Customer)) "Customer Bank Account".Code WHERE (Customer No.=FIELD(Bal. Account No.))
                                                                 ELSE IF (Bal. Account Type=CONST(Vendor)) "Vendor Bank Account".Code WHERE (Vendor No.=FIELD(Bal. Account No.))
                                                                 ELSE IF (Bal. Account Type=CONST(Employee)) Employee.No. WHERE (Employee No. Filter=FIELD(Bal. Account No.));
                                                   OnValidate=BEGIN
                                                                IF "Recipient Bank Account" = '' THEN
                                                                  EXIT;
                                                                IF ("Document Type" = "Document Type"::Invoice) AND
                                                                   (("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor]) OR
                                                                    ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor]))
                                                                THEN
                                                                  "Recipient Bank Account" := '';
                                                              END;

                                                   CaptionML=[ENU=Recipient Bank Account;
                                                              ESM=Cta. bancaria destinatario;
                                                              FRC=Cpte bancaire destinataire;
                                                              ENC=Recipient Bank Account] }
    { 289 ;   ;Message to Recipient;Text140       ;CaptionML=[ENU=Message to Recipient;
                                                              ESM=Mensaje al destinatario;
                                                              FRC=Message au destinataire;
                                                              ENC=Message to Recipient] }
    { 290 ;   ;Exported to Payment File;Boolean   ;CaptionML=[ENU=Exported to Payment File;
                                                              ESM=Exportado a archivo de pagos;
                                                              FRC=ExportÇ dans fichier paiement;
                                                              ENC=Exported to Payment File];
                                                   Editable=No }
    { 291 ;   ;Has Payment Export Error;Boolean   ;FieldClass=FlowField;
                                                   CalcFormula=Exist("Payment Jnl. Export Error Text" WHERE (Journal Template Name=FIELD(Journal Template Name),
                                                                                                             Journal Batch Name=FIELD(Journal Batch Name),
                                                                                                             Journal Line No.=FIELD(Line No.)));
                                                   CaptionML=[ENU=Has Payment Export Error;
                                                              ESM=Tiene error exportaci¢n pagos;
                                                              FRC=PrÇsente erreur exportation paiement;
                                                              ENC=Has Payment Export Error];
                                                   Editable=No }
    { 480 ;   ;Dimension Set ID    ;Integer       ;TableRelation="Dimension Set Entry";
                                                   OnValidate=BEGIN
                                                                DimMgt.UpdateGlobalDimFromDimSetID("Dimension Set ID","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code");
                                                              END;

                                                   OnLookup=BEGIN
                                                              ShowDimensions;
                                                            END;

                                                   CaptionML=[ENU=Dimension Set ID;
                                                              ESM=Id. grupo dimensiones;
                                                              FRC=Code ensemble de dimensions;
                                                              ENC=Dimension Set ID];
                                                   Editable=No }
    { 827 ;   ;Credit Card No.     ;Code20        ;ObsoleteState=Removed;
                                                   ObsoleteReason=This field is not needed and it is not used anymore.;
                                                   CaptionML=[ENU=Credit Card No.;
                                                              ESM=Nß tarjeta de crÇdito;
                                                              FRC=N¯ de carte de crÇdit;
                                                              ENC=Credit Card No.] }
    { 1001;   ;Job Task No.        ;Code20        ;TableRelation="Job Task"."Job Task No." WHERE (Job No.=FIELD(Job No.));
                                                   OnValidate=BEGIN
                                                                IF "Job Task No." <> xRec."Job Task No." THEN
                                                                  VALIDATE("Job Planning Line No.",0);
                                                                IF "Job Task No." = '' THEN BEGIN
                                                                  "Job Quantity" := 0;
                                                                  "Job Currency Factor" := 0;
                                                                  "Job Currency Code" := '';
                                                                  "Job Unit Price" := 0;
                                                                  "Job Total Price" := 0;
                                                                  "Job Line Amount" := 0;
                                                                  "Job Line Discount Amount" := 0;
                                                                  "Job Unit Cost" := 0;
                                                                  "Job Total Cost" := 0;
                                                                  "Job Line Discount %" := 0;

                                                                  "Job Unit Price (LCY)" := 0;
                                                                  "Job Total Price (LCY)" := 0;
                                                                  "Job Line Amount (LCY)" := 0;
                                                                  "Job Line Disc. Amount (LCY)" := 0;
                                                                  "Job Unit Cost (LCY)" := 0;
                                                                  "Job Total Cost (LCY)" := 0;
                                                                  EXIT;
                                                                END;

                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  CopyDimensionsFromJobTaskLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Job Task No.;
                                                              ESM=Nß tarea proyecto;
                                                              FRC=N¯ tÉche de projet;
                                                              ENC=Job Task No.] }
    { 1002;   ;Job Unit Price (LCY);Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Price ($);
                                                              ESM=Precio unitario proyecto ($);
                                                              FRC=Prix unitaire du projet ($);
                                                              ENC=Job Unit Price ($)];
                                                   Editable=No;
                                                   AutoFormatType=2 }
    { 1003;   ;Job Total Price (LCY);Decimal      ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Price ($);
                                                              ESM=Precio total proyecto ($);
                                                              FRC=Prix total du projet ($);
                                                              ENC=Job Total Price ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1004;   ;Job Quantity        ;Decimal       ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  IF "Job Planning Line No." <> 0 THEN
                                                                    VALIDATE("Job Planning Line No.");
                                                                  CreateTempJobJnlLine;
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Quantity;
                                                              ESM=Cantidad proyecto;
                                                              FRC=QuantitÇ projet;
                                                              ENC=Job Quantity];
                                                   DecimalPlaces=0:5 }
    { 1005;   ;Job Unit Cost (LCY) ;Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Cost ($);
                                                              ESM=Costo unitario proyecto ($);
                                                              FRC=Coñt unitaire du projet ($);
                                                              ENC=Job Unit Cost ($)];
                                                   Editable=No;
                                                   AutoFormatType=2 }
    { 1006;   ;Job Line Discount % ;Decimal       ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Line Discount %","Job Line Discount %");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Discount %;
                                                              ESM=% dto. l°nea proyecto;
                                                              FRC=% escompte de ligne de projet;
                                                              ENC=Job Line Discount %];
                                                   AutoFormatType=1 }
    { 1007;   ;Job Line Disc. Amount (LCY);Decimal;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Line Discount Amount (LCY)","Job Line Disc. Amount (LCY)");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Job Line Disc. Amount ($);
                                                              ESM=Importe dto. l°nea proyecto ($);
                                                              FRC=Montant d'escompte de ligne de projet ($);
                                                              ENC=Job Line Disc. Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1008;   ;Job Unit Of Measure Code;Code10    ;TableRelation="Unit of Measure";
                                                   CaptionML=[ENU=Job Unit Of Measure Code;
                                                              ESM=C¢d. unidad medida proyecto;
                                                              FRC=Code d'unitÇ de mesure du projet;
                                                              ENC=Job Unit Of Measure Code] }
    { 1009;   ;Job Line Type       ;Option        ;OnValidate=BEGIN
                                                                IF "Job Planning Line No." <> 0 THEN
                                                                  ERROR(Text019,FIELDCAPTION("Job Line Type"),FIELDCAPTION("Job Planning Line No."));
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Type;
                                                              ESM=Tipo l°nea proyecto;
                                                              FRC=Type ligne de projet;
                                                              ENC=Job Line Type];
                                                   OptionCaptionML=[ENU=" ,Budget,Billable,Both Budget and Billable";
                                                                    ESM=" ,Presupuesto,Facturable,Presupuesto y Facturable";
                                                                    FRC=" ,Budget,Facturable,Budget et Facturable";
                                                                    ENC=" ,Budget,Billable,Both Budget and Billable"];
                                                   OptionString=[ ,Budget,Billable,Both Budget and Billable] }
    { 1010;   ;Job Unit Price      ;Decimal       ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Unit Price","Job Unit Price");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Price;
                                                              ESM=Precio unitario proyecto;
                                                              FRC=Prix unitaire du projet;
                                                              ENC=Job Unit Price];
                                                   AutoFormatType=2;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1011;   ;Job Total Price     ;Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Price;
                                                              ESM=Precio total proyecto;
                                                              FRC=Prix total du projet;
                                                              ENC=Job Total Price];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1012;   ;Job Unit Cost       ;Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Unit Cost;
                                                              ESM=Costo unitario proyecto;
                                                              FRC=Coñt unitaire du projet;
                                                              ENC=Job Unit Cost];
                                                   Editable=No;
                                                   AutoFormatType=2;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1013;   ;Job Total Cost      ;Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Cost;
                                                              ESM=Costo total proyecto;
                                                              FRC=Coñt total du projet;
                                                              ENC=Job Total Cost];
                                                   Editable=No;
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1014;   ;Job Line Discount Amount;Decimal   ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Line Discount Amount","Job Line Discount Amount");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Discount Amount;
                                                              ESM=Importe dto. l°nea proyecto;
                                                              FRC=Montant d'escompte de ligne de projet;
                                                              ENC=Job Line Discount Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1015;   ;Job Line Amount     ;Decimal       ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Line Amount","Job Line Amount");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Amount;
                                                              ESM=Importe l°nea proyecto;
                                                              FRC=Montant de ligne de projet;
                                                              ENC=Job Line Amount];
                                                   AutoFormatType=1;
                                                   AutoFormatExpr="Job Currency Code" }
    { 1016;   ;Job Total Cost (LCY);Decimal       ;AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Total Cost ($);
                                                              ESM=Costo total proyecto ($);
                                                              FRC=Coñt total du projet ($);
                                                              ENC=Job Total Cost ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1017;   ;Job Line Amount (LCY);Decimal      ;OnValidate=BEGIN
                                                                IF JobTaskIsSet THEN BEGIN
                                                                  CreateTempJobJnlLine;
                                                                  TempJobJnlLine.VALIDATE("Line Amount (LCY)","Job Line Amount (LCY)");
                                                                  UpdatePricesFromJobJnlLine;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Line Amount ($);
                                                              ESM=Importe l°nea proyecto ($);
                                                              FRC=Montant de ligne de projet ($);
                                                              ENC=Job Line Amount ($)];
                                                   Editable=No;
                                                   AutoFormatType=1 }
    { 1018;   ;Job Currency Factor ;Decimal       ;CaptionML=[ENU=Job Currency Factor;
                                                              ESM=Factor divisa proyecto;
                                                              FRC=Facteur devise du projet;
                                                              ENC=Job Currency Factor] }
    { 1019;   ;Job Currency Code   ;Code10        ;OnValidate=BEGIN
                                                                IF ("Job Currency Code" <> xRec."Job Currency Code") OR ("Job Currency Code" <> '') THEN
                                                                  IF JobTaskIsSet THEN BEGIN
                                                                    CreateTempJobJnlLine;
                                                                    UpdatePricesFromJobJnlLine;
                                                                  END;
                                                              END;

                                                   CaptionML=[ENU=Job Currency Code;
                                                              ESM=C¢digo divisa proyecto;
                                                              FRC=Code devise du projet;
                                                              ENC=Job Currency Code] }
    { 1020;   ;Job Planning Line No.;Integer      ;OnValidate=VAR
                                                                JobPlanningLine@1000 : Record 1003;
                                                              BEGIN
                                                                IF "Job Planning Line No." <> 0 THEN BEGIN
                                                                  JobPlanningLine.GET("Job No.","Job Task No.","Job Planning Line No.");
                                                                  JobPlanningLine.TESTFIELD("Job No.","Job No.");
                                                                  JobPlanningLine.TESTFIELD("Job Task No.","Job Task No.");
                                                                  JobPlanningLine.TESTFIELD(Type,JobPlanningLine.Type::"G/L Account");
                                                                  JobPlanningLine.TESTFIELD("No.","Account No.");
                                                                  JobPlanningLine.TESTFIELD("Usage Link",TRUE);
                                                                  JobPlanningLine.TESTFIELD("System-Created Entry",FALSE);
                                                                  "Job Line Type" := JobPlanningLine."Line Type" + 1;
                                                                  VALIDATE("Job Remaining Qty.",JobPlanningLine."Remaining Qty." - "Job Quantity");
                                                                END ELSE
                                                                  VALIDATE("Job Remaining Qty.",0);
                                                              END;

                                                   OnLookup=VAR
                                                              JobPlanningLine@1000 : Record 1003;
                                                            BEGIN
                                                              JobPlanningLine.SETRANGE("Job No.","Job No.");
                                                              JobPlanningLine.SETRANGE("Job Task No.","Job Task No.");
                                                              JobPlanningLine.SETRANGE(Type,JobPlanningLine.Type::"G/L Account");
                                                              JobPlanningLine.SETRANGE("No.","Account No.");
                                                              JobPlanningLine.SETRANGE("Usage Link",TRUE);
                                                              JobPlanningLine.SETRANGE("System-Created Entry",FALSE);

                                                              IF PAGE.RUNMODAL(0,JobPlanningLine) = ACTION::LookupOK THEN
                                                                VALIDATE("Job Planning Line No.",JobPlanningLine."Line No.");
                                                            END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Planning Line No.;
                                                              ESM=Nß l°nea planificaci¢n proyecto;
                                                              FRC=N¯ ligne planification projet;
                                                              ENC=Job Planning Line No.];
                                                   BlankZero=Yes }
    { 1030;   ;Job Remaining Qty.  ;Decimal       ;OnValidate=VAR
                                                                JobPlanningLine@1000 : Record 1003;
                                                              BEGIN
                                                                IF ("Job Remaining Qty." <> 0) AND ("Job Planning Line No." = 0) THEN
                                                                  ERROR(Text018,FIELDCAPTION("Job Remaining Qty."),FIELDCAPTION("Job Planning Line No."));

                                                                IF "Job Planning Line No." <> 0 THEN BEGIN
                                                                  JobPlanningLine.GET("Job No.","Job Task No.","Job Planning Line No.");
                                                                  IF JobPlanningLine.Quantity >= 0 THEN BEGIN
                                                                    IF "Job Remaining Qty." < 0 THEN
                                                                      "Job Remaining Qty." := 0;
                                                                  END ELSE BEGIN
                                                                    IF "Job Remaining Qty." > 0 THEN
                                                                      "Job Remaining Qty." := 0;
                                                                  END;
                                                                END;
                                                              END;

                                                   AccessByPermission=TableData 167=R;
                                                   CaptionML=[ENU=Job Remaining Qty.;
                                                              ESM=Cdad. pendiente proyecto;
                                                              FRC=QuantitÇ travail Ö accomplir;
                                                              ENC=Job Remaining Qty.];
                                                   DecimalPlaces=0:5 }
    { 1200;   ;Direct Debit Mandate ID;Code35     ;TableRelation=IF (Account Type=CONST(Customer)) "SEPA Direct Debit Mandate" WHERE (Customer No.=FIELD(Account No.));
                                                   OnValidate=VAR
                                                                SEPADirectDebitMandate@1000 : Record 1230;
                                                              BEGIN
                                                                IF "Direct Debit Mandate ID" = '' THEN
                                                                  EXIT;
                                                                TESTFIELD("Account Type","Account Type"::Customer);
                                                                SEPADirectDebitMandate.GET("Direct Debit Mandate ID");
                                                                SEPADirectDebitMandate.TESTFIELD("Customer No.","Account No.");
                                                                "Recipient Bank Account" := SEPADirectDebitMandate."Customer Bank Account Code";
                                                              END;

                                                   CaptionML=[ENU=Direct Debit Mandate ID;
                                                              ESM=Id. de orden de domiciliaci¢n de adeudo directo;
                                                              FRC=ID mandat de prÇlävement;
                                                              ENC=Direct Debit Mandate ID] }
    { 1220;   ;Data Exch. Entry No.;Integer       ;TableRelation="Data Exch.";
                                                   CaptionML=[ENU=Data Exch. Entry No.;
                                                              ESM=N.ß mov. intercambio de datos;
                                                              FRC=N¯ Çcriture Çchange donnÇes;
                                                              ENC=Data Exch. Entry No.];
                                                   Editable=No }
    { 1221;   ;Payer Information   ;Text50        ;CaptionML=[ENU=Payer Information;
                                                              ESM=Informaci¢n del pagador;
                                                              FRC=Informations payeur;
                                                              ENC=Payer Information] }
    { 1222;   ;Transaction Information;Text100    ;CaptionML=[ENU=Transaction Information;
                                                              ESM=Informaci¢n de la transacci¢n;
                                                              FRC=Informations transaction;
                                                              ENC=Transaction Information] }
    { 1223;   ;Data Exch. Line No. ;Integer       ;CaptionML=[ENU=Data Exch. Line No.;
                                                              ESM=N.ß l°nea intercambio de datos;
                                                              FRC=N¯ ligne Çchange donnÇes;
                                                              ENC=Data Exch. Line No.];
                                                   Editable=No }
    { 1224;   ;Applied Automatically;Boolean      ;CaptionML=[ENU=Applied Automatically;
                                                              ESM=Aplicado autom†ticamente;
                                                              FRC=AffectÇ automatiquement;
                                                              ENC=Applied Automatically] }
    { 1700;   ;Deferral Code       ;Code10        ;TableRelation="Deferral Template"."Deferral Code";
                                                   OnValidate=VAR
                                                                DeferralUtilities@1002 : Codeunit 1720;
                                                              BEGIN
                                                                IF "Deferral Code" <> '' THEN
                                                                  TESTFIELD("Account Type","Account Type"::"G/L Account");

                                                                DeferralUtilities.DeferralCodeOnValidate("Deferral Code",DeferralDocType::"G/L","Journal Template Name","Journal Batch Name",
                                                                  0,'',"Line No.",GetDeferralAmount,"Posting Date",Description,"Currency Code");
                                                              END;

                                                   CaptionML=[ENU=Deferral Code;
                                                              ESM=C¢digo de fraccionamiento;
                                                              FRC=Code Çchelonnement;
                                                              ENC=Deferral Code] }
    { 1701;   ;Deferral Line No.   ;Integer       ;CaptionML=[ENU=Deferral Line No.;
                                                              ESM=Nß l°nea fraccionamiento;
                                                              FRC=N¯ ligne Çchelonnement;
                                                              ENC=Deferral Line No.] }
    { 5050;   ;Campaign No.        ;Code20        ;TableRelation=Campaign;
                                                   OnValidate=BEGIN
                                                                CreateDim(
                                                                  DATABASE::Campaign,"Campaign No.",
                                                                  DimMgt.TypeToTableID1("Account Type"),"Account No.",
                                                                  DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
                                                                  DATABASE::Job,"Job No.",
                                                                  DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code");
                                                              END;

                                                   CaptionML=[ENU=Campaign No.;
                                                              ESM=Nß campa§a;
                                                              FRC=N¯ promotion;
                                                              ENC=Campaign No.] }
    { 5400;   ;Prod. Order No.     ;Code20        ;CaptionML=[ENU=Prod. Order No.;
                                                              ESM=Nß orden producci¢n;
                                                              FRC=N¯ bon de prod.;
                                                              ENC=Prod. Order No.];
                                                   Editable=No }
    { 5600;   ;FA Posting Date     ;Date          ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Posting Date;
                                                              ESM=A/F Fecha registro;
                                                              FRC=Date report immo.;
                                                              ENC=FA Posting Date] }
    { 5601;   ;FA Posting Type     ;Option        ;OnValidate=BEGIN
                                                                IF  NOT (("Account Type" = "Account Type"::"Fixed Asset") OR
                                                                         ("Bal. Account Type" = "Bal. Account Type"::"Fixed Asset")) AND
                                                                   ("FA Posting Type" = "FA Posting Type"::" ")
                                                                THEN BEGIN
                                                                  "FA Posting Date" := 0D;
                                                                  "Salvage Value" := 0;
                                                                  "No. of Depreciation Days" := 0;
                                                                  "Depr. until FA Posting Date" := FALSE;
                                                                  "Depr. Acquisition Cost" := FALSE;
                                                                  "Maintenance Code" := '';
                                                                  "Insurance No." := '';
                                                                  "Budgeted FA No." := '';
                                                                  "Duplicate in Depreciation Book" := '';
                                                                  "Use Duplication List" := FALSE;
                                                                  "FA Reclassification Entry" := FALSE;
                                                                  "FA Error Entry No." := 0;
                                                                END;

                                                                IF "FA Posting Type" <> "FA Posting Type"::"Acquisition Cost" THEN
                                                                  TESTFIELD("Insurance No.",'');
                                                                IF "FA Posting Type" <> "FA Posting Type"::Maintenance THEN
                                                                  TESTFIELD("Maintenance Code",'');
                                                                GetFAVATSetup;
                                                                GetFAAddCurrExchRate;
                                                              END;

                                                   AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Posting Type;
                                                              ESM=A/F Tipo registro;
                                                              FRC=Type de report immo.;
                                                              ENC=FA Posting Type];
                                                   OptionCaptionML=[ENU=" ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Disposal,Maintenance";
                                                                    ESM=" ,Costo,Amortizaci¢n,Depreciaci¢n,Revaluaci¢n,Adecuaci¢n,Provisi¢n,Venta/Baja,Mantenimiento.";
                                                                    FRC=" ,Coñt acquisition,Amortissement,DÇvaluation,ApprÇciation,Param. 1,Param 2,Cession,Maintenance";
                                                                    ENC=" ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Disposal,Maintenance"];
                                                   OptionString=[ ,Acquisition Cost,Depreciation,Write-Down,Appreciation,Custom 1,Custom 2,Disposal,Maintenance] }
    { 5602;   ;Depreciation Book Code;Code10      ;TableRelation="Depreciation Book";
                                                   OnValidate=VAR
                                                                FADeprBook@1000 : Record 5612;
                                                              BEGIN
                                                                IF "Depreciation Book Code" = '' THEN
                                                                  EXIT;

                                                                IF ("Account No." <> '') AND
                                                                   ("Account Type" = "Account Type"::"Fixed Asset")
                                                                THEN BEGIN
                                                                  FADeprBook.GET("Account No.","Depreciation Book Code");
                                                                  "Posting Group" := FADeprBook."FA Posting Group";
                                                                END;

                                                                IF ("Bal. Account No." <> '') AND
                                                                   ("Bal. Account Type" = "Bal. Account Type"::"Fixed Asset")
                                                                THEN BEGIN
                                                                  FADeprBook.GET("Bal. Account No.","Depreciation Book Code");
                                                                  "Posting Group" := FADeprBook."FA Posting Group";
                                                                END;
                                                                GetFAVATSetup;
                                                                GetFAAddCurrExchRate;
                                                              END;

                                                   CaptionML=[ENU=Depreciation Book Code;
                                                              ESM=C¢d. libro amortizaci¢n;
                                                              FRC=Code registre amortissement;
                                                              ENC=Depreciation Book Code] }
    { 5603;   ;Salvage Value       ;Decimal       ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Salvage Value;
                                                              ESM=Valor residual;
                                                              FRC=Valeur rÇsiduelle;
                                                              ENC=Salvage Value];
                                                   AutoFormatType=1 }
    { 5604;   ;No. of Depreciation Days;Integer   ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=No. of Depreciation Days;
                                                              ESM=Nß d°as amortizaci¢n;
                                                              FRC=Nombre de jours amort.;
                                                              ENC=No. of Depreciation Days];
                                                   BlankZero=Yes }
    { 5605;   ;Depr. until FA Posting Date;Boolean;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Depr. until FA Posting Date;
                                                              ESM=A/F Amort. hasta fecha reg.;
                                                              FRC=Amort. jusqu'Ö date report;
                                                              ENC=Depr. until FA Posting Date] }
    { 5606;   ;Depr. Acquisition Cost;Boolean     ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Depr. Acquisition Cost;
                                                              ESM=Depr. de costo de adquisici¢n;
                                                              FRC=Amortissement coñt acquisition;
                                                              ENC=Depr. Acquisition Cost] }
    { 5609;   ;Maintenance Code    ;Code10        ;TableRelation=Maintenance;
                                                   OnValidate=BEGIN
                                                                IF "Maintenance Code" <> '' THEN
                                                                  TESTFIELD("FA Posting Type","FA Posting Type"::Maintenance);
                                                              END;

                                                   CaptionML=[ENU=Maintenance Code;
                                                              ESM=C¢d. mantenimiento;
                                                              FRC=Code entretien;
                                                              ENC=Maintenance Code] }
    { 5610;   ;Insurance No.       ;Code20        ;TableRelation=Insurance;
                                                   OnValidate=BEGIN
                                                                IF "Insurance No." <> '' THEN
                                                                  TESTFIELD("FA Posting Type","FA Posting Type"::"Acquisition Cost");
                                                              END;

                                                   CaptionML=[ENU=Insurance No.;
                                                              ESM=Nß seguro;
                                                              FRC=N¯ assurance;
                                                              ENC=Insurance No.] }
    { 5611;   ;Budgeted FA No.     ;Code20        ;TableRelation="Fixed Asset";
                                                   OnValidate=VAR
                                                                FA@1000 : Record 5600;
                                                              BEGIN
                                                                IF "Budgeted FA No." <> '' THEN BEGIN
                                                                  FA.GET("Budgeted FA No.");
                                                                  FA.TESTFIELD("Budgeted Asset",TRUE);
                                                                END;
                                                              END;

                                                   CaptionML=[ENU=Budgeted FA No.;
                                                              ESM=A/F Nß pptdo.;
                                                              FRC=N¯ immo. budgÇtÇe;
                                                              ENC=Budgeted FA No.] }
    { 5612;   ;Duplicate in Depreciation Book;Code10;
                                                   TableRelation="Depreciation Book";
                                                   OnValidate=BEGIN
                                                                "Use Duplication List" := FALSE;
                                                              END;

                                                   CaptionML=[ENU=Duplicate in Depreciation Book;
                                                              ESM=Duplicado en libro amort.;
                                                              FRC=Registre amortiss. en double;
                                                              ENC=Duplicate in Depreciation Book] }
    { 5613;   ;Use Duplication List;Boolean       ;OnValidate=BEGIN
                                                                "Duplicate in Depreciation Book" := '';
                                                              END;

                                                   AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=Use Duplication List;
                                                              ESM=Utilizar lista duplicados;
                                                              FRC=Utiliser liste duplication;
                                                              ENC=Use Duplication List] }
    { 5614;   ;FA Reclassification Entry;Boolean  ;AccessByPermission=TableData 5600=R;
                                                   CaptionML=[ENU=FA Reclassification Entry;
                                                              ESM=A/F Mov. reclasificaci¢n;
                                                              FRC=êcritures reclass. immo.;
                                                              ENC=FA Reclassification Entry] }
    { 5615;   ;FA Error Entry No.  ;Integer       ;TableRelation="FA Ledger Entry";
                                                   CaptionML=[ENU=FA Error Entry No.;
                                                              ESM=A/F Nß mov. anulado;
                                                              FRC=N¯ Çcriture erreur immo.;
                                                              ENC=FA Error Entry No.];
                                                   BlankZero=Yes }
    { 5616;   ;Index Entry         ;Boolean       ;CaptionML=[ENU=Index Entry;
                                                              ESM=Mov. valor ajuste;
                                                              FRC=êcritures rÇÇvaluation;
                                                              ENC=Index Entry] }
    { 5617;   ;Source Line No.     ;Integer       ;CaptionML=[ENU=Source Line No.;
                                                              ESM=Nß l°n. origen;
                                                              FRC=N¯ de ligne source;
                                                              ENC=Source Line No.] }
    { 5618;   ;Comment             ;Text250       ;CaptionML=[ENU=Comment;
                                                              ESM=Comentario;
                                                              FRC=Commentaire;
                                                              ENC=Comment] }
    { 5701;   ;Check Exported      ;Boolean       ;CaptionML=[ENU=Check Exported;
                                                              ESM=Cheque exportado;
                                                              FRC=Chäque exportÇ;
                                                              ENC=Cheque Exported] }
    { 5702;   ;Check Transmitted   ;Boolean       ;CaptionML=[ENU=Check Transmitted;
                                                              ESM=Cheque transmitido;
                                                              FRC=Chäque transmis;
                                                              ENC=Cheque Transmitted] }
    { 8000;   ;Id                  ;GUID          ;CaptionML=[ENU=Id;
                                                              ESM=Id.;
                                                              FRC="Code ";
                                                              ENC=Id] }
    { 8001;   ;Account Id          ;GUID          ;TableRelation="G/L Account".Id;
                                                   OnValidate=BEGIN
                                                                UpdateAccountNo;
                                                              END;

                                                   CaptionML=[ENU=Account Id;
                                                              ESM=Id. de cuenta;
                                                              FRC=Code Compte;
                                                              ENC=Account Id] }
    { 8002;   ;Customer Id         ;GUID          ;TableRelation=Customer.Id;
                                                   OnValidate=BEGIN
                                                                UpdateCustomerNo;
                                                              END;

                                                   CaptionML=[ENU=Customer Id;
                                                              ESM=Id. de cliente;
                                                              FRC=Code client;
                                                              ENC=Customer Id] }
    { 8003;   ;Applies-to Invoice Id;GUID         ;TableRelation="Sales Invoice Header".Id;
                                                   OnValidate=BEGIN
                                                                UpdateAppliesToInvoiceNo;
                                                              END;

                                                   CaptionML=[ENU=Applies-to Invoice Id;
                                                              ESM=Liq. por id. de factura;
                                                              FRC=Code facture rÇfÇrence;
                                                              ENC=Applies-to Invoice Id] }
    { 8004;   ;Contact Graph Id    ;Text250       ;CaptionML=[ENU=Contact Graph Id;
                                                              ESM=Id. de Graph de contacto;
                                                              FRC=Code Graph Contact;
                                                              ENC=Contact Graph Id] }
    { 8005;   ;Last Modified DateTime;DateTime    ;CaptionML=[ENU=Last Modified DateTime;
                                                              ESM=DateTime de £ltima modificaci¢n;
                                                              FRC=Date-heure derniäre modification;
                                                              ENC=Last Modified DateTime] }
    { 8006;   ;Journal Batch Id    ;GUID          ;TableRelation="Gen. Journal Batch".Id;
                                                   OnValidate=BEGIN
                                                                UpdateJournalBatchName;
                                                              END;

                                                   CaptionML=[ENU=Journal Batch Id;
                                                              ESM=Id. secci¢n diario;
                                                              FRC=Code lot journal;
                                                              ENC=Journal Batch Id] }
    { 8007;   ;Payment Method Id   ;GUID          ;TableRelation="Payment Method".Id;
                                                   OnValidate=BEGIN
                                                                UpdatePaymentMethodCode;
                                                              END;

                                                   CaptionML=[ENU=Payment Method Id;
                                                              ESM=Id. de forma pago;
                                                              FRC=Code de mode de räglement;
                                                              ENC=Payment Method Id] }
    { 10006;  ;Export File Name    ;Text30        ;CaptionML=[ENU=Export File Name;
                                                              ESM=Export. nomb. arch.;
                                                              FRC=Nom du fichier d'exportation;
                                                              ENC=Export File Name];
                                                   Editable=No }
    { 10011;  ;Tax Jurisdiction Code;Code10       ;TableRelation="Tax Jurisdiction";
                                                   CaptionML=[ENU=Tax Jurisdiction Code;
                                                              ESM=C¢d. jurisdicci¢n fiscal;
                                                              FRC=Code de juridiction fiscale;
                                                              ENC=Tax Jurisdiction Code];
                                                   Editable=Yes }
    { 10012;  ;Tax Type            ;Option        ;CaptionML=[ENU=Tax Type;
                                                              ESM=Tipo impto.;
                                                              FRC=Type de taxe;
                                                              ENC=Tax Type];
                                                   OptionCaptionML=[ENU=Sales and Use Tax,Excise Tax,Sales Tax Only,Use Tax Only;
                                                                    ESM=Impuesto de las ventas y sobre servicios,Impto. consumo,S¢lo impuesto de las ventas,S¢lo impto. sobre servicios;
                                                                    FRC=Taxe de vente et de service,Taxe d'accise,Taxe de vente uniquement,Taxe de service uniquement;
                                                                    ENC=Sales and Use Tax,Excise Tax,Sales Tax Only,Use Tax Only];
                                                   OptionString=Sales and Use Tax,Excise Tax,Sales Tax Only,Use Tax Only }
    { 10015;  ;Tax Exemption No.   ;Text30        ;CaptionML=[ENU=Tax Exemption No.;
                                                              ESM=Nß exenci¢n fisc.;
                                                              FRC=N¯ d'exonÇration fiscale;
                                                              ENC=Tax Exemption No.] }
    { 10018;  ;STE Transaction ID  ;Text20        ;CaptionML=[ENU=STE Transaction ID;
                                                              ESM=Id. transacci¢n STE;
                                                              FRC=ID de transaction STE;
                                                              ENC=STE Transaction ID];
                                                   Editable=No }
    { 10020;  ;IRS 1099 Code       ;Code10        ;TableRelation="IRS 1099 Form-Box";
                                                   OnValidate=BEGIN
                                                                IF "IRS 1099 Code" <> '' THEN BEGIN
                                                                  IF "Account Type" = "Account Type"::Vendor THEN
                                                                    "IRS 1099 Amount" := Amount
                                                                  ELSE
                                                                    "IRS 1099 Amount" := -Amount;
                                                                END ELSE
                                                                  "IRS 1099 Amount" := 0;
                                                              END;

                                                   CaptionML=[ENU=IRS 1099 Code;
                                                              ESM=C¢d. form. 1099 de IRS;
                                                              FRC=Code IRS 1099;
                                                              ENC=IRS 1099 Code] }
    { 10021;  ;IRS 1099 Amount     ;Decimal       ;CaptionML=[ENU=IRS 1099 Amount;
                                                              ESM=Imp. form. 1099 de IRS;
                                                              FRC=Montant IRS 1099;
                                                              ENC=IRS 1099 Amount] }
    { 10030;  ;Foreign Exchange Indicator;Option  ;CaptionML=[ENU=Foreign Exchange Indicator;
                                                              ESM=Indicador de divisa extranjera;
                                                              FRC=Indicateur de devise Çtrangäre;
                                                              ENC=Foreign Exchange Indicator];
                                                   OptionCaptionML=[ENU=" ,FV,VF,FF";
                                                                    ESM=" ,FV,VF,FF";
                                                                    FRC=" ,FV,VF,FF";
                                                                    ENC=" ,FV,VF,FF"];
                                                   OptionString=[ ,FV,VF,FF] }
    { 10031;  ;Foreign Exchange Ref.Indicator;Option;
                                                   CaptionML=[ENU=Foreign Exchange Ref.Indicator;
                                                              ESM=Indicador de referencia de divisa extranjera;
                                                              FRC=Indicateur de rÇf. de la devise Çtrangäre;
                                                              ENC=Foreign Exchange Ref.Indicator];
                                                   OptionCaptionML=[ENU=" ,1,2,3";
                                                                    ESM=" ,1,2,3";
                                                                    FRC=" ,1,2,3";
                                                                    ENC=" ,1,2,3"];
                                                   OptionString=[ ,1,2,3] }
    { 10032;  ;Foreign Exchange Reference;Code20  ;CaptionML=[ENU=Foreign Exchange Reference;
                                                              ESM=Referencia de divisa extranjera;
                                                              FRC=RÇfÇrence de la devise Çtrangäre;
                                                              ENC=Foreign Exchange Reference] }
    { 10033;  ;Gateway Operator OFAC Scr.Inc;Option;
                                                   CaptionML=[ENU=Gateway Operator OFAC Scr.Inc;
                                                              ESM=Indicador de filtrado OFAC de operador de gateway;
                                                              FRC=Indic. filtr. OFAC opÇrateur de passerelle;
                                                              ENC=Gateway Operator OFAC Scr.Inc];
                                                   OptionCaptionML=[ENU=" ,0,1";
                                                                    ESM=" ,0,1";
                                                                    FRC=" ,0,1";
                                                                    ENC=" ,0,1"];
                                                   OptionString=[ ,0,1] }
    { 10034;  ;Secondary OFAC Scr.Indicator;Option;CaptionML=[ENU=Secondary OFAC Scr.Indicator;
                                                              ESM=Indicador de filtrado OFAC secundario;
                                                              FRC=Indicateur filtr. OFAC secondaire;
                                                              ENC=Secondary OFAC Scr.Indicator];
                                                   OptionCaptionML=[ENU=" ,0,1";
                                                                    ESM=" ,0,1";
                                                                    FRC=" ,0,1";
                                                                    ENC=" ,0,1"];
                                                   OptionString=[ ,0,1] }
    { 10035;  ;Origin. DFI ID Qualifier;Option    ;CaptionML=[ENU=Origin. DFI ID Qualifier;
                                                              ESM=Calificador Id. genÇrico original;
                                                              FRC=Description code DFI origine;
                                                              ENC=Origin. DFI ID Qualifier];
                                                   OptionCaptionML=[ENU=" ,01,02,03";
                                                                    ESM=" ,01,02,03";
                                                                    FRC=" ,01,02,03";
                                                                    ENC=" ,01,02,03"];
                                                   OptionString=[ ,01,02,03] }
    { 10036;  ;Receiv. DFI ID Qualifier;Option    ;CaptionML=[ENU=Receiv. DFI ID Qualifier;
                                                              ESM=Calificador Id. genÇrico deudor;
                                                              FRC=Description code DFI rÇcept.;
                                                              ENC=Receiv. DFI ID Qualifier];
                                                   OptionCaptionML=[ENU=" ,01,02,03";
                                                                    ESM=" ,01,02,03";
                                                                    FRC=" ,01,02,03";
                                                                    ENC=" ,01,02,03"];
                                                   OptionString=[ ,01,02,03] }
    { 10037;  ;Transaction Type Code;Option       ;InitValue=BUS;
                                                   CaptionML=[ENU=Transaction Type Code;
                                                              ESM=C¢digo de tipo de transacci¢n;
                                                              FRC=Code de type de transaction;
                                                              ENC=Transaction Type Code];
                                                   OptionCaptionML=[ENU=ANN,BUS,DEP,LOA,MIS,MOR,PEN,RLS,SAL,TAX;
                                                                    ESM=ANN,BUS,DEP,LOA,MIS,MOR,PEN,RLS,SAL,TAX;
                                                                    FRC=ANN,BUS,DEP,LOA,MIS,MOR,PEN,RLS,SAL,TAX;
                                                                    ENC=ANN,BUS,DEP,LOA,MIS,MOR,PEN,RLS,SAL,TAX];
                                                   OptionString=ANN,BUS,DEP,LOA,MIS,MOR,PEN,RLS,SAL,TAX }
    { 10038;  ;Transaction Code    ;Code3         ;CaptionML=[ENU=Transaction Code;
                                                              ESM=C¢digo de transacci¢n;
                                                              FRC=Code de transaction;
                                                              ENC=Transaction Code] }
    { 10039;  ;Company Entry Description;Text10   ;CaptionML=[ENU=Company Entry Description;
                                                              ESM=Descripci¢n de movimiento de empresa;
                                                              FRC=Description Çcriture compagnie;
                                                              ENC=Company Entry Description] }
    { 10040;  ;Payment Related Information 1;Text80;
                                                   CaptionML=[ENU=Payment Related Information 1;
                                                              ESM=Informaci¢n relacionada con el pago 1;
                                                              FRC=Informations liÇes au paiement 1;
                                                              ENC=Payment Related Information 1] }
    { 10041;  ;Payment Related Information 2;Text52;
                                                   CaptionML=[ENU=Payment Related Information 2;
                                                              ESM=Informaci¢n relacionada con el pago 2;
                                                              FRC=Informations liÇes au paiement 2;
                                                              ENC=Payment Related Information 2] }
    { 10045;  ;GST/HST             ;Option        ;CaptionML=[ENU=GST/HST;
                                                              ESM=GST/HST;
                                                              FRC=TPS/TVH;
                                                              ENC=GST/HST];
                                                   OptionCaptionML=[ENU=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate";
                                                                    ESM=" ,Adquisici¢n,Autoevaluaci¢n,Devoluci¢n,Devoluciones de vivienda nueva,Devoluci¢n de pensiones";
                                                                    FRC=" ,Acquisition,Auto-Çvaluation,Remise,Remises pour habitation neuve,Remise pour retraite";
                                                                    ENC=" ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate"];
                                                   OptionString=[ ,Acquisition,Self Assessment,Rebate,New Housing Rebates,Pension Rebate] }
    { 50000;  ;Expense Code        ;Code20        ;TableRelation=Expense;
                                                   DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Expense Code }
  }
  KEYS
  {
    {    ;Journal Template Name,Journal Batch Name,Line No.;
                                                   SumIndexFields=Balance (LCY),Amount;
                                                   MaintainSIFTIndex=No;
                                                   Clustered=Yes }
    {    ;Journal Template Name,Journal Batch Name,Posting Date,Document No.;
                                                   MaintainSQLIndex=No }
    {    ;Account Type,Account No.,Applies-to Doc. Type,Applies-to Doc. No. }
    {    ;Document No.                             }
    {    ;Incoming Document Entry No.              }
    {    ;Document No.,Posting Date,Source Code   ;SumIndexFields=VAT Amount (LCY),Bal. VAT Amount (LCY);
                                                   MaintainSQLIndex=No }
  }
  FIELDGROUPS
  {
  }
  CODE
  {
    VAR
      Text000@1000 : TextConst '@@@="%1=Account Type,%2=Balance Account Type";ENU=%1 or %2 must be a G/L Account or Bank Account.;ESM=%1 o %2 deben ser tipo Cuenta o Banco.;FRC=%1 ou %2 doit àtre un Compte du grand livre ou un compte bancaire.;ENC=%1 or %2 must be a G/L Account or Bank Account.';
      Text001@1001 : TextConst 'ENU=You must not specify %1 when %2 is %3.;ESM=No se debe especificar %1 cuando %2 es %3.;FRC=Vous ne devez pas spÇcifier %1 lorsque %2 est %3.;ENC=You must not specify %1 when %2 is %3.';
      Text002@1002 : TextConst 'ENU=cannot be specified without %1;ESM=no se puede especificar sin %1;FRC=ne peut àtre spÇcifiÇ sans %1;ENC=cannot be specified without %1';
      ChangeCurrencyQst@1003 : TextConst '@@@="%1=FromCurrencyCode, %2=ToCurrencyCode";ENU=The Currency Code in the Gen. Journal Line will be changed from %1 to %2.\\Do you want to continue?;ESM=El C¢d. divisa de L°n. diario general debe cambiarse de %1 a %2.\\®Quiere continuar?;FRC=Le Code devise dans la Ligne journal gÇnÇral va passer de %1 Ö %2.\\Voulez-vous continuer?;ENC=The Currency Code in the Gen. Journal Line will be changed from %1 to %2.\\Do you want to continue?';
      UpdateInterruptedErr@1005 : TextConst 'ENU=The update has been interrupted to respect the warning.;ESM=Se ha interrumpido la actualizaci¢n para respetar la advertencia.;FRC=La mise Ö jour a ÇtÇ interrompue pour respecter l''avertissement.;ENC=The update has been interrupted to respect the warning.';
      Text006@1006 : TextConst 'ENU=The %1 option can only be used internally in the system.;ESM=La opci¢n %1 es de uso interno del sistema.;FRC=L''option %1 ne peur àtre utilisÇe Ö l''intÇrieur du systäme.;ENC=The %1 option can only be used internally in the system.';
      Text007@1007 : TextConst '@@@="%1=Account Type,%2=Balance Account Type";ENU=%1 or %2 must be a bank account.;ESM=%1 o %2 debe ser de tipo Banco.;FRC=%1 ou %2 doit àtre un compte bancaire.;ENC=%1 or %2 must be a bank account.';
      Text008@1008 : TextConst 'ENU=" must be 0 when %1 is %2.";ESM=" debe ser 0 cuando %1 es %2.";FRC=" doit àtre 0 lorsque %1 est %2.";ENC=" must be 0 when %1 is %2."';
      Text009@1009 : TextConst 'ENU=USD;ESM=$;FRC=$;ENC=CAD';
      Text011@1011 : TextConst 'ENU=%1 must be negative.;ESM=El %1 debe ser negativo.;FRC=%1 doit àtre nÇgatif.;ENC=%1 must be negative.';
      Text012@1012 : TextConst 'ENU=%1 must be positive.;ESM=El %1 debe ser positivo.;FRC=%1 doit àtre positif.;ENC=%1 must be positive.';
      Text013@1013 : TextConst 'ENU=The %1 must not be more than %2.;ESM=%1 no debe ser m†s que %2.;FRC=La %1 ne doit pas àtre supÇrieure Ö %2.;ENC=The %1 must not be more than %2.';
      GenJnlTemplate@1014 : Record 80;
      GenJnlBatch@1015 : Record 232;
      GenJnlLine@1016 : Record 81;
      Currency@1022 : Record 4;
      CurrExchRate@1023 : Record 330;
      PaymentTerms@1024 : Record 3;
      CustLedgEntry@1025 : Record 21;
      VendLedgEntry@1026 : Record 25;
      EmplLedgEntry@1020 : Record 5222;
      GenJnlAlloc@1027 : Record 221;
      VATPostingSetup@1028 : Record 325;
      GenBusPostingGrp@1035 : Record 250;
      GenProdPostingGrp@1036 : Record 251;
      GLSetup@1037 : Record 98;
      Job@1060 : Record 167;
      SourceCodeSetup@1017 : Record 242;
      TempJobJnlLine@1059 : TEMPORARY Record 210;
      TaxArea@1020000 : Record 318;
      SalespersonPurchaser@1932 : Record 13;
      NoSeriesMgt@1040 : Codeunit 396;
      CustCheckCreditLimit@1041 : Codeunit 312;
      SalesTaxCalculate@1042 : Codeunit 398;
      GenJnlApply@1043 : Codeunit 225;
      GenJnlShowCTEntries@1039 : Codeunit 16;
      CustEntrySetApplID@1044 : Codeunit 101;
      VendEntrySetApplID@1045 : Codeunit 111;
      EmplEntrySetApplID@1029 : Codeunit 112;
      DimMgt@1046 : Codeunit 408;
      PaymentToleranceMgt@1053 : Codeunit 426;
      DeferralUtilities@1051 : Codeunit 1720;
      ApprovalsMgmt@1069 : Codeunit 1535;
      Window@1004 : Dialog;
      DeferralDocType@1050 : 'Purchase,Sales,G/L';
      CurrencyCode@1052 : Code[10];
      Text014@1054 : TextConst '@@@="%1=Caption of Table Customer, %2=Customer No, %3=Caption of field Bill-to Customer No, %4=Value of Bill-to customer no.";ENU=The %1 %2 has a %3 %4.\\Do you still want to use %1 %2 in this journal line?;ESM=%1 %2 tiene %3 %4.\\®Todav°a quiere utilizar %1 %2 en esta l°nea del diario?;FRC=Le %1 %2 a un %3 %4.\\DÇsirez-vous toujours utiliser %1 %2 sur cette ligne de journal?;ENC=The %1 %2 has a %3 %4.\\Do you still want to use %1 %2 in this journal line?';
      TemplateFound@1056 : Boolean;
      Text015@1058 : TextConst 'ENU=You are not allowed to apply and post an entry to an entry with an earlier posting date.\\Instead, post %1 %2 and then apply it to %3 %4.;ESM=No tiene permiso para aplicar ni registrar un movimiento con una fecha de registro anterior.\\En su lugar, registre %1 %2 y, a continuaci¢n, apl°quelo a %3 %4.;FRC=Vous n''avez pas l''autorisation d''affecter et de reporter une Çcriture dans une Çcriture avec date de report antÇrieure.\\Reportez plutìt %1 %2 puis affectez-le Ö %3 %4.;ENC=You are not allowed to apply and post an entry to an entry with an earlier posting date.\\Instead, post %1 %2 and then apply it to %3 %4.';
      CurrencyDate@1061 : Date;
      Text016@1062 : TextConst 'ENU=%1 must be G/L Account or Bank Account.;ESM=%1 deber°a ser una cuenta o banco.;FRC=%1 doit àtre un compte GL ou un compte bancaire.;ENC=%1 must be G/L Account or Bank Account.';
      HideValidationDialog@1064 : Boolean;
      Text018@1066 : TextConst 'ENU=%1 can only be set when %2 is set.;ESM=Solo se puede establecer %1 cuando se establece %2.;FRC=%1 ne peut àtre dÇterminÇ que si %2 est dÇfini.;ENC=%1 can only be set when %2 is set.';
      Text019@1067 : TextConst 'ENU=%1 cannot be changed when %2 is set.;ESM=%1 no se puede cambiar cuando se establece %2.;FRC=%1 ne peut pas àtre modifiÇ si %2 est dÇfini.;ENC=%1 cannot be changed when %2 is set.';
      GLSetupRead@1019 : Boolean;
      ExportAgainQst@1038 : TextConst 'ENU=One or more of the selected lines have already been exported. Do you want to export them again?;ESM=Una o m†s de las l°neas seleccionadas ya se han exportado. ®Desea repetir la exportaci¢n?;FRC=Une ou plusieurs des lignes sÇlectionnÇes ont dÇjÖ ÇtÇ exportÇes. Souhaitez-vous les exporter Ö nouveauˇ?;ENC=One or more of the selected lines have already been exported. Do you want to export them again?';
      NothingToExportErr@1021 : TextConst 'ENU=There is nothing to export.;ESM=No hay nada que exportar.;FRC=Il n''y a rien Ö exporter.;ENC=There is nothing to export.';
      NotExistErr@1068 : TextConst '@@@="%1=Document number";ENU=Document number %1 does not exist or is already closed.;ESM=El n£mero de documento %1 no existe o ya est† cerrado.;FRC=Le numÇro de document %1 n''existe pas ou est dÇjÖ fermÇ.;ENC=Document number %1 does not exist or is already closed.';
      DocNoFilterErr@1047 : TextConst 'ENU=The document numbers cannot be renumbered while there is an active filter on the Document No. field.;ESM=Los n£meros de documento no se pueden volver a enumerar mientras haya un filtro activo en el campo Nß documento.;FRC=Les numÇros de document ne peuvent pas àtre modifiÇs lorsqu''un filtre est actif sur le champ N¯ document.;ENC=The document numbers cannot be renumbered while there is an active filter on the Document No. field.';
      DueDateMsg@1150 : TextConst 'ENU=This posting date will cause an overdue payment.;ESM=Esta fecha de registro resultar† en un pago vencido.;FRC=Cette date de report va entraåner un paiement Çchu.;ENC=This posting date will cause an overdue payment.';
      CalcPostDateMsg@1169 : TextConst 'ENU=Processing payment journal lines #1##########;ESM=Procesando l°ns. diario pagos #1##########;FRC=Traitement lignes journal paiement #1##########;ENC=Processing payment journal lines #1##########';
      NoEntriesToVoidErr@1018 : TextConst 'ENU=There are no entries to void.;ESM=No hay entradas para anular.;FRC=Il n''existe aucune entrÇe Ö annuler.;ENC=There are no entries to void.';
      OnlyLocalCurrencyForEmployeeErr@1030 : TextConst 'ENU=The value of the Currency Code field must be empty. General journal lines in foreign currency are not supported for employee account type.;ESM=El valor del campo C¢d. divisa debe estar vac°o. No se admiten l°neas del diario general en la divisa extranjera para el tipo de cuenta de empleado.;FRC=La valeur du champ Code devise doit àtre vide. Les lignes journal gÇnÇral dans la devise Çtrangäre ne sont pas prises en charge pour le type de compte de l''employÇ.;ENC=The value of the Currency Code field must be empty. General journal lines in foreign currency are not supported for employee account type.';
      AccTypeNotSupportedErr@1031 : TextConst 'ENU=You cannot specify a deferral code for this type of account.;ESM=No se puede especificar un c¢digo de fraccionamiento para este tipo de cuenta.;FRC=Vous ne pouvez pas spÇcifier de code de report pour ce type de compte.;ENC=You cannot specify a deferral code for this type of account.';
      SalespersonPurchPrivacyBlockErr@1933 : TextConst '@@@="%1 = salesperson / purchaser code.";ENU=Privacy Blocked must not be true for Salesperson / Purchaser %1.;ESM=La opci¢n Privacidad bloqueada no debe ser verdadera para el Vendedor/Comprador %1.;FRC=Le champ ConfidentialitÇ bloquÇe ne doit pas avoir la valeur true pour le reprÇsentant/l''acheteur %1.;ENC=Privacy Blocked must not be true for Salesperson / Purchaser %1.';
      BlockedErr@1033 : TextConst '@@@="%1=Blocked field value,%2=Account Type,%3=Account No.";ENU=The Blocked field must not be %1 for %2 %3.;ESM=El campo Bloqueado no debe ser %1 para %2 %3.;FRC=Le champ BloquÇ ne doit pas àtre %1 pour %2 %3.;ENC=The Blocked field must not be %1 for %2 %3.';
      BlockedEmplErr@1032 : TextConst '@@@="%1 = Employee no. ";ENU=You cannot export file because employee %1 is blocked due to privacy.;ESM=No puede exportar el archivo porque el empleado %1 est† bloqueado por motivos de privacidad.;FRC=Vous ne pouvez pas exporter le fichier, car l''employÇ %1 est bloquÇ pour des raisons de confidentialitÇ.;ENC=You cannot export file because employee %1 is blocked due to privacy.';
      VATCalculationTypeErr@1020001 : TextConst '@@@="%1=FIELDCAPTION(""VAT Calculation Type"")";ENU=The %1 field must contain Normal Tax, Reverse Charge Tax, or Sales Tax.;ESM=El campo %1 debe contener el IVA normal, el IVA de reversi¢n o los impuestos sobre las ventas.;FRC=Le champ %1 doit contenir TVA normale, Frais renversÇs TVA ou Taxe de vente.;ENC=The %1 field must contain Normal Tax, Reverse Charge Tax, or Sales Tax.';

    [External]
    PROCEDURE EmptyLine@5() : Boolean;
    BEGIN
      EXIT(
        ("Account No." = '') AND (Amount = 0) AND
        (("Bal. Account No." = '') OR NOT "System-Created Entry"));
    END;

    [External]
    PROCEDURE UpdateLineBalance@2();
    BEGIN
      IF ((Amount > 0) AND (NOT Correction)) OR
         ((Amount < 0) AND Correction)
      THEN BEGIN
        "Debit Amount" := Amount;
        "Credit Amount" := 0
      END ELSE
        IF Amount <> 0 THEN BEGIN
          "Debit Amount" := 0;
          "Credit Amount" := -Amount;
        END;
      IF "Currency Code" = '' THEN
        "Amount (LCY)" := Amount;
      CASE TRUE OF
        ("Account No." <> '') AND ("Bal. Account No." <> ''):
          "Balance (LCY)" := 0;
        "Bal. Account No." <> '':
          "Balance (LCY)" := -"Amount (LCY)";
        ELSE
          "Balance (LCY)" := "Amount (LCY)";
      END;

      OnUpdateLineBalanceOnAfterAssignBalanceLCY("Balance (LCY)");

      CLEAR(GenJnlAlloc);
      GenJnlAlloc.UpdateAllocations(Rec);

      UpdateSalesPurchLCY;

      IF ("Deferral Code" <> '') AND (Amount <> xRec.Amount) AND ((Amount <> 0) AND (xRec.Amount <> 0)) THEN
        VALIDATE("Deferral Code");
    END;

    [External]
    PROCEDURE SetUpNewLine@9(LastGenJnlLine@1000 : Record 81;Balance@1001 : Decimal;BottomLine@1002 : Boolean);
    BEGIN
      GenJnlTemplate.GET("Journal Template Name");
      GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
      GenJnlLine.SETRANGE("Journal Template Name","Journal Template Name");
      GenJnlLine.SETRANGE("Journal Batch Name","Journal Batch Name");
      IF GenJnlLine.FINDFIRST THEN BEGIN
        "Posting Date" := LastGenJnlLine."Posting Date";
        "Document Date" := LastGenJnlLine."Posting Date";
        "Document No." := LastGenJnlLine."Document No.";
        IF BottomLine AND
           (Balance - LastGenJnlLine."Balance (LCY)" = 0) AND
           NOT LastGenJnlLine.EmptyLine AND (GenJnlTemplate.Type <> GenJnlTemplate.Type::"Sales Tax")
        THEN
          IncrementDocumentNo(GenJnlBatch,"Document No.");
      END ELSE BEGIN
        "Posting Date" := WORKDATE;
        "Document Date" := WORKDATE;
        IF GenJnlBatch."No. Series" <> '' THEN BEGIN
          CLEAR(NoSeriesMgt);
          "Document No." := NoSeriesMgt.TryGetNextNo(GenJnlBatch."No. Series","Posting Date");
        END;
      END;
      IF GenJnlTemplate.Recurring THEN
        "Recurring Method" := LastGenJnlLine."Recurring Method";
      CASE GenJnlTemplate.Type OF
        GenJnlTemplate.Type::Payments:
          BEGIN
            "Account Type" := "Account Type"::Vendor;
            "Document Type" := "Document Type"::Payment;
          END;
        ELSE BEGIN
          "Account Type" := LastGenJnlLine."Account Type";
          "Document Type" := LastGenJnlLine."Document Type";
        END;
      END;
      "Source Code" := GenJnlTemplate."Source Code";
      "Reason Code" := GenJnlBatch."Reason Code";
      "Posting No. Series" := GenJnlBatch."Posting No. Series";
      "Bal. Account Type" := GenJnlBatch."Bal. Account Type";
      IF ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"Fixed Asset"]) AND
         ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor,"Bal. Account Type"::"Fixed Asset"])
      THEN
        "Account Type" := "Account Type"::"G/L Account";
      VALIDATE("Bal. Account No.",GenJnlBatch."Bal. Account No.");
      Description := '';
      IF GenJnlBatch."Suggest Balancing Amount" THEN
        SuggestBalancingAmount(LastGenJnlLine,BottomLine);

      UpdateJournalBatchID;

      OnAfterSetupNewLine(Rec,GenJnlTemplate,GenJnlBatch,LastGenJnlLine,Balance,BottomLine);
    END;

    [External]
    PROCEDURE InitNewLine@94(PostingDate@1000 : Date;DocumentDate@1001 : Date;PostingDescription@1002 : Text[50];ShortcutDim1Code@1003 : Code[20];ShortcutDim2Code@1004 : Code[20];DimSetID@1005 : Integer;ReasonCode@1006 : Code[10]);
    BEGIN
      INIT;
      "Posting Date" := PostingDate;
      "Document Date" := DocumentDate;
      Description := PostingDescription;
      "Shortcut Dimension 1 Code" := ShortcutDim1Code;
      "Shortcut Dimension 2 Code" := ShortcutDim2Code;
      "Dimension Set ID" := DimSetID;
      "Reason Code" := ReasonCode;
    END;

    [External]
    PROCEDURE CheckDocNoOnLines@78();
    VAR
      GenJnlBatch@1002 : Record 232;
      GenJnlLine@1001 : Record 81;
      LastDocNo@1003 : Code[20];
    BEGIN
      GenJnlLine.COPYFILTERS(Rec);

      IF NOT GenJnlLine.FINDSET THEN
        EXIT;
      GenJnlBatch.GET(GenJnlLine."Journal Template Name",GenJnlLine."Journal Batch Name");
      IF GenJnlBatch."No. Series" = '' THEN
        EXIT;

      CLEAR(NoSeriesMgt);
      REPEAT
        GenJnlLine.CheckDocNoBasedOnNoSeries(LastDocNo,GenJnlBatch."No. Series",NoSeriesMgt);
        LastDocNo := GenJnlLine."Document No.";
      UNTIL GenJnlLine.NEXT = 0;
    END;

    [External]
    PROCEDURE CheckDocNoBasedOnNoSeries@74(LastDocNo@1002 : Code[20];NoSeriesCode@1000 : Code[20];VAR NoSeriesMgtInstance@1001 : Codeunit 396);
    BEGIN
      IF (NoSeriesCode = '') OR "Check Printed" THEN
        EXIT;

      IF (LastDocNo = '') OR ("Document No." <> LastDocNo) THEN
        IF "Document No." <> NoSeriesMgtInstance.GetNextNo(NoSeriesCode,"Posting Date",FALSE) THEN
          NoSeriesMgtInstance.TestManualWithDocumentNo(NoSeriesCode,"Document No.");  // allow use of manual document numbers.
    END;

    [External]
    PROCEDURE RenumberDocumentNo@68();
    VAR
      GenJnlLine2@1006 : Record 81;
      DocNo@1003 : Code[20];
      FirstDocNo@1008 : Code[20];
      FirstTempDocNo@1009 : Code[20];
      LastTempDocNo@1010 : Code[20];
    BEGIN
      TESTFIELD("Check Printed",FALSE);

      GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
      IF GenJnlBatch."No. Series" = '' THEN
        EXIT;
      IF GETFILTER("Document No.") <> '' THEN
        ERROR(DocNoFilterErr);
      CLEAR(NoSeriesMgt);
      FirstDocNo := NoSeriesMgt.TryGetNextNo(GenJnlBatch."No. Series","Posting Date");
      FirstTempDocNo := 'RENUMBERED-000000001';
      // step1 - renumber to non-existing document number
      DocNo := FirstTempDocNo;
      GenJnlLine2 := Rec;
      GenJnlLine2.RESET;
      RenumberDocNoOnLines(DocNo,GenJnlLine2);
      LastTempDocNo := DocNo;

      // step2 - renumber to real document number (within Filter)
      DocNo := FirstDocNo;
      GenJnlLine2.COPYFILTERS(Rec);
      GenJnlLine2 := Rec;
      RenumberDocNoOnLines(DocNo,GenJnlLine2);

      // step3 - renumber to real document number (outside filter)
      DocNo := INCSTR(DocNo);
      GenJnlLine2.RESET;
      GenJnlLine2.SETRANGE("Document No.",FirstTempDocNo,LastTempDocNo);
      RenumberDocNoOnLines(DocNo,GenJnlLine2);

      GET("Journal Template Name","Journal Batch Name","Line No.");
    END;

    LOCAL PROCEDURE RenumberDocNoOnLines@69(VAR DocNo@1000 : Code[20];VAR GenJnlLine2@1001 : Record 81);
    VAR
      LastGenJnlLine@1002 : Record 81;
      GenJnlLine3@1005 : Record 81;
      PrevDocNo@1004 : Code[20];
      FirstDocNo@1006 : Code[20];
      First@1003 : Boolean;
    BEGIN
      FirstDocNo := DocNo;
      WITH GenJnlLine2 DO BEGIN
        SETCURRENTKEY("Journal Template Name","Journal Batch Name","Document No.");
        SETRANGE("Journal Template Name","Journal Template Name");
        SETRANGE("Journal Batch Name","Journal Batch Name");
        LastGenJnlLine.INIT;
        First := TRUE;
        IF FINDSET THEN BEGIN
          REPEAT
            IF "Document No." = FirstDocNo THEN
              EXIT;
            IF NOT First AND (("Document No." <> PrevDocNo) OR ("Bal. Account No." <> '')) AND NOT LastGenJnlLine.EmptyLine THEN
              DocNo := INCSTR(DocNo);
            PrevDocNo := "Document No.";
            IF "Document No." <> '' THEN BEGIN
              IF "Applies-to ID" = "Document No." THEN
                RenumberAppliesToID(GenJnlLine2,"Document No.",DocNo);
              RenumberAppliesToDocNo(GenJnlLine2,"Document No.",DocNo);
            END;
            GenJnlLine3.GET("Journal Template Name","Journal Batch Name","Line No.");
            GenJnlLine3."Document No." := DocNo;
            GenJnlLine3.MODIFY;
            First := FALSE;
            LastGenJnlLine := GenJnlLine2
          UNTIL NEXT = 0
        END
      END
    END;

    LOCAL PROCEDURE RenumberAppliesToID@70(GenJnlLine2@1002 : Record 81;OriginalAppliesToID@1000 : Code[50];NewAppliesToID@1001 : Code[50]);
    VAR
      CustLedgEntry@1003 : Record 21;
      CustLedgEntry2@1009 : Record 21;
      VendLedgEntry@1004 : Record 25;
      VendLedgEntry2@1010 : Record 25;
      AccType@1005 : Option;
      AccNo@1006 : Code[20];
    BEGIN
      GetAccTypeAndNo(GenJnlLine2,AccType,AccNo);
      CASE AccType OF
        "Account Type"::Customer:
          BEGIN
            CustLedgEntry.SETRANGE("Customer No.",AccNo);
            CustLedgEntry.SETRANGE("Applies-to ID",OriginalAppliesToID);
            IF CustLedgEntry.FINDSET THEN
              REPEAT
                CustLedgEntry2.GET(CustLedgEntry."Entry No.");
                CustLedgEntry2."Applies-to ID" := NewAppliesToID;
                CODEUNIT.RUN(CODEUNIT::"Cust. Entry-Edit",CustLedgEntry2);
              UNTIL CustLedgEntry.NEXT = 0;
          END;
        "Account Type"::Vendor:
          BEGIN
            VendLedgEntry.SETRANGE("Vendor No.",AccNo);
            VendLedgEntry.SETRANGE("Applies-to ID",OriginalAppliesToID);
            IF VendLedgEntry.FINDSET THEN
              REPEAT
                VendLedgEntry2.GET(VendLedgEntry."Entry No.");
                VendLedgEntry2."Applies-to ID" := NewAppliesToID;
                CODEUNIT.RUN(CODEUNIT::"Vend. Entry-Edit",VendLedgEntry2);
              UNTIL VendLedgEntry.NEXT = 0;
          END;
        ELSE
          EXIT
      END;
      GenJnlLine2."Applies-to ID" := NewAppliesToID;
      GenJnlLine2.MODIFY;
    END;

    LOCAL PROCEDURE RenumberAppliesToDocNo@71(GenJnlLine2@1002 : Record 81;OriginalAppliesToDocNo@1001 : Code[20];NewAppliesToDocNo@1000 : Code[20]);
    BEGIN
      GenJnlLine2.RESET;
      GenJnlLine2.SETRANGE("Journal Template Name",GenJnlLine2."Journal Template Name");
      GenJnlLine2.SETRANGE("Journal Batch Name",GenJnlLine2."Journal Batch Name");
      GenJnlLine2.SETRANGE("Applies-to Doc. Type",GenJnlLine2."Document Type");
      GenJnlLine2.SETRANGE("Applies-to Doc. No.",OriginalAppliesToDocNo);
      GenJnlLine2.MODIFYALL("Applies-to Doc. No.",NewAppliesToDocNo);
    END;

    LOCAL PROCEDURE CheckVATInAlloc@1();
    BEGIN
      IF "Gen. Posting Type" <> 0 THEN BEGIN
        GenJnlAlloc.RESET;
        GenJnlAlloc.SETRANGE("Journal Template Name","Journal Template Name");
        GenJnlAlloc.SETRANGE("Journal Batch Name","Journal Batch Name");
        GenJnlAlloc.SETRANGE("Journal Line No.","Line No.");
        IF GenJnlAlloc.FIND('-') THEN
          REPEAT
            GenJnlAlloc.CheckVAT(Rec);
          UNTIL GenJnlAlloc.NEXT = 0;
      END;
    END;

    LOCAL PROCEDURE SetCurrencyCode@4(AccType2@1000 : 'G/L Account,Customer,Vendor,Bank Account';AccNo2@1001 : Code[20]) : Boolean;
    VAR
      BankAcc@1002 : Record 270;
    BEGIN
      "Currency Code" := '';
      IF AccNo2 <> '' THEN
        IF AccType2 = AccType2::"Bank Account" THEN
          IF BankAcc.GET(AccNo2) THEN
            "Currency Code" := BankAcc."Currency Code";
      EXIT("Currency Code" <> '');
    END;

    [External]
    PROCEDURE SetCurrencyFactor@130(CurrencyCode@1000 : Code[10];CurrencyFactor@1001 : Decimal);
    BEGIN
      "Currency Code" := CurrencyCode;
      IF "Currency Code" = '' THEN
        "Currency Factor" := 1
      ELSE
        "Currency Factor" := CurrencyFactor;
    END;

    LOCAL PROCEDURE GetCurrency@3();
    BEGIN
      IF "Additional-Currency Posting" =
         "Additional-Currency Posting"::"Additional-Currency Amount Only"
      THEN BEGIN
        IF GLSetup."Additional Reporting Currency" = '' THEN
          ReadGLSetup;
        CurrencyCode := GLSetup."Additional Reporting Currency";
      END ELSE
        CurrencyCode := "Currency Code";

      IF CurrencyCode = '' THEN BEGIN
        CLEAR(Currency);
        Currency.InitRoundingPrecision
      END ELSE
        IF CurrencyCode <> Currency.Code THEN BEGIN
          Currency.GET(CurrencyCode);
          Currency.TESTFIELD("Amount Rounding Precision");
        END;
    END;

    [External]
    PROCEDURE UpdateSource@6();
    VAR
      SourceExists1@1000 : Boolean;
      SourceExists2@1001 : Boolean;
    BEGIN
      SourceExists1 := ("Account Type" <> "Account Type"::"G/L Account") AND ("Account No." <> '');
      SourceExists2 := ("Bal. Account Type" <> "Bal. Account Type"::"G/L Account") AND ("Bal. Account No." <> '');
      CASE TRUE OF
        SourceExists1 AND NOT SourceExists2:
          BEGIN
            "Source Type" := "Account Type";
            "Source No." := "Account No.";
          END;
        SourceExists2 AND NOT SourceExists1:
          BEGIN
            "Source Type" := "Bal. Account Type";
            "Source No." := "Bal. Account No.";
          END;
        ELSE BEGIN
          "Source Type" := "Source Type"::" ";
          "Source No." := '';
        END;
      END;
    END;

    LOCAL PROCEDURE CheckGLAcc@7(GLAcc@1000 : Record 15);
    BEGIN
      GLAcc.CheckGLAcc;
      IF GLAcc."Direct Posting" OR ("Journal Template Name" = '') OR "System-Created Entry" THEN
        EXIT;
      IF "Posting Date" <> 0D THEN
        IF "Posting Date" = CLOSINGDATE("Posting Date") THEN
          EXIT;

      CheckDirectPosting(GLAcc);
    END;

    LOCAL PROCEDURE CheckICPartner@128(ICPartnerCode@1000 : Code[20];AccountType@1001 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner';AccountNo@1002 : Code[20]);
    VAR
      ICPartner@1003 : Record 413;
    BEGIN
      IF ICPartnerCode <> '' THEN BEGIN
        IF GenJnlTemplate.GET("Journal Template Name") THEN;
        IF (ICPartnerCode <> '') AND ICPartner.GET(ICPartnerCode) THEN BEGIN
          ICPartner.CheckICPartnerIndirect(FORMAT(AccountType),AccountNo);
          "IC Partner Code" := ICPartnerCode;
        END;
      END;
    END;

    LOCAL PROCEDURE CheckDirectPosting@217(VAR GLAccount@1001 : Record 15);
    VAR
      IsHandled@1000 : Boolean;
    BEGIN
      IsHandled := FALSE;
      OnBeforeCheckDirectPosting(GLAccount,IsHandled,Rec);
      IF IsHandled THEN
        EXIT;

      GLAccount.TESTFIELD("Direct Posting",TRUE);

      OnAfterCheckDirectPosting(GLAccount,Rec);
    END;

    [External]
    PROCEDURE GetFAAddCurrExchRate@8();
    VAR
      DeprBook@1000 : Record 5611;
      FADeprBook@1003 : Record 5612;
      FANo@1001 : Code[20];
      UseFAAddCurrExchRate@1002 : Boolean;
    BEGIN
      "FA Add.-Currency Factor" := 0;
      IF ("FA Posting Type" <> "FA Posting Type"::" ") AND
         ("Depreciation Book Code" <> '')
      THEN BEGIN
        IF "Account Type" = "Account Type"::"Fixed Asset" THEN
          FANo := "Account No.";
        IF "Bal. Account Type" = "Bal. Account Type"::"Fixed Asset" THEN
          FANo := "Bal. Account No.";
        IF FANo <> '' THEN BEGIN
          DeprBook.GET("Depreciation Book Code");
          CASE "FA Posting Type" OF
            "FA Posting Type"::"Acquisition Cost":
              UseFAAddCurrExchRate := DeprBook."Add-Curr Exch Rate - Acq. Cost";
            "FA Posting Type"::Depreciation:
              UseFAAddCurrExchRate := DeprBook."Add.-Curr. Exch. Rate - Depr.";
            "FA Posting Type"::"Write-Down":
              UseFAAddCurrExchRate := DeprBook."Add-Curr Exch Rate -Write-Down";
            "FA Posting Type"::Appreciation:
              UseFAAddCurrExchRate := DeprBook."Add-Curr. Exch. Rate - Apprec.";
            "FA Posting Type"::"Custom 1":
              UseFAAddCurrExchRate := DeprBook."Add-Curr. Exch Rate - Custom 1";
            "FA Posting Type"::"Custom 2":
              UseFAAddCurrExchRate := DeprBook."Add-Curr. Exch Rate - Custom 2";
            "FA Posting Type"::Disposal:
              UseFAAddCurrExchRate := DeprBook."Add.-Curr. Exch. Rate - Disp.";
            "FA Posting Type"::Maintenance:
              UseFAAddCurrExchRate := DeprBook."Add.-Curr. Exch. Rate - Maint.";
          END;
          IF UseFAAddCurrExchRate THEN BEGIN
            FADeprBook.GET(FANo,"Depreciation Book Code");
            FADeprBook.TESTFIELD("FA Add.-Currency Factor");
            "FA Add.-Currency Factor" := FADeprBook."FA Add.-Currency Factor";
          END;
        END;
      END;
    END;

    [External]
    PROCEDURE GetShowCurrencyCode@10(CurrencyCode@1000 : Code[10]) : Code[10];
    BEGIN
      IF CurrencyCode <> '' THEN
        EXIT(CurrencyCode);

      EXIT(Text009);
    END;

    [External]
    PROCEDURE ClearCustVendApplnEntry@11();
    VAR
      TempCustLedgEntry@1000 : TEMPORARY Record 21;
      TempVendLedgEntry@1001 : TEMPORARY Record 25;
      TempEmplLedgEntry@1002 : TEMPORARY Record 5222;
      AccType@1004 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';
      AccNo@1005 : Code[20];
    BEGIN
      GetAccTypeAndNo(Rec,AccType,AccNo);
      CASE AccType OF
        AccType::Customer:
          IF xRec."Applies-to ID" <> '' THEN BEGIN
            IF FindFirstCustLedgEntryWithAppliesToID(AccNo,xRec."Applies-to ID") THEN BEGIN
              ClearCustApplnEntryFields;
              TempCustLedgEntry.DELETEALL;
              CustEntrySetApplID.SetApplId(CustLedgEntry,TempCustLedgEntry,'');
            END
          END ELSE
            IF xRec."Applies-to Doc. No." <> '' THEN
              IF FindFirstCustLedgEntryWithAppliesToDocNo(AccNo,xRec."Applies-to Doc. No.") THEN BEGIN
                ClearCustApplnEntryFields;
                CODEUNIT.RUN(CODEUNIT::"Cust. Entry-Edit",CustLedgEntry);
              END;
        AccType::Vendor:
          IF xRec."Applies-to ID" <> '' THEN BEGIN
            IF FindFirstVendLedgEntryWithAppliesToID(AccNo,xRec."Applies-to ID") THEN BEGIN
              ClearVendApplnEntryFields;
              TempVendLedgEntry.DELETEALL;
              VendEntrySetApplID.SetApplId(VendLedgEntry,TempVendLedgEntry,'');
            END
          END ELSE
            IF xRec."Applies-to Doc. No." <> '' THEN
              IF FindFirstVendLedgEntryWithAppliesToDocNo(AccNo,xRec."Applies-to Doc. No.") THEN BEGIN
                ClearVendApplnEntryFields;
                CODEUNIT.RUN(CODEUNIT::"Vend. Entry-Edit",VendLedgEntry);
              END;
        AccType::Employee:
          IF xRec."Applies-to ID" <> '' THEN BEGIN
            IF FindFirstEmplLedgEntryWithAppliesToID(AccNo,xRec."Applies-to ID") THEN BEGIN
              ClearEmplApplnEntryFields;
              TempEmplLedgEntry.DELETEALL;
              EmplEntrySetApplID.SetApplId(EmplLedgEntry,TempEmplLedgEntry,'');
            END
          END ELSE
            IF xRec."Applies-to Doc. No." <> '' THEN
              IF FindFirstEmplLedgEntryWithAppliesToDocNo(AccNo,xRec."Applies-to Doc. No.") THEN BEGIN
                ClearEmplApplnEntryFields;
                CODEUNIT.RUN(CODEUNIT::"Empl. Entry-Edit",EmplLedgEntry);
              END;
      END;
    END;

    LOCAL PROCEDURE ClearCustApplnEntryFields@56();
    BEGIN
      CustLedgEntry."Accepted Pmt. Disc. Tolerance" := FALSE;
      CustLedgEntry."Accepted Payment Tolerance" := 0;
      CustLedgEntry."Amount to Apply" := 0;

      OnAfterClearCustApplnEntryFields(CustLedgEntry);
    END;

    LOCAL PROCEDURE ClearVendApplnEntryFields@57();
    BEGIN
      VendLedgEntry."Accepted Pmt. Disc. Tolerance" := FALSE;
      VendLedgEntry."Accepted Payment Tolerance" := 0;
      VendLedgEntry."Amount to Apply" := 0;

      OnAfterClearVendApplnEntryFields(VendLedgEntry);
    END;

    LOCAL PROCEDURE ClearEmplApplnEntryFields@193();
    BEGIN
      EmplLedgEntry."Amount to Apply" := 0;

      OnAfterClearEmplApplnEntryFields(EmplLedgEntry);
    END;

    [External]
    PROCEDURE CheckFixedCurrency@12() : Boolean;
    VAR
      CurrExchRate@1000 : Record 330;
    BEGIN
      CurrExchRate.SETRANGE("Currency Code","Currency Code");
      CurrExchRate.SETRANGE("Starting Date",0D,"Posting Date");

      IF NOT CurrExchRate.FINDLAST THEN
        EXIT(FALSE);

      IF CurrExchRate."Relational Currency Code" = '' THEN
        EXIT(
          CurrExchRate."Fix Exchange Rate Amount" =
          CurrExchRate."Fix Exchange Rate Amount"::Both);

      IF CurrExchRate."Fix Exchange Rate Amount" <>
         CurrExchRate."Fix Exchange Rate Amount"::Both
      THEN
        EXIT(FALSE);

      CurrExchRate.SETRANGE("Currency Code",CurrExchRate."Relational Currency Code");
      IF CurrExchRate.FINDLAST THEN
        EXIT(
          CurrExchRate."Fix Exchange Rate Amount" =
          CurrExchRate."Fix Exchange Rate Amount"::Both);

      EXIT(FALSE);
    END;

    [External]
    PROCEDURE CreateDim@13(Type1@1000 : Integer;No1@1001 : Code[20];Type2@1002 : Integer;No2@1003 : Code[20];Type3@1004 : Integer;No3@1005 : Code[20];Type4@1006 : Integer;No4@1007 : Code[20];Type5@1008 : Integer;No5@1009 : Code[20]);
    VAR
      TableID@1010 : ARRAY [10] OF Integer;
      No@1011 : ARRAY [10] OF Code[20];
    BEGIN
      TableID[1] := Type1;
      No[1] := No1;
      TableID[2] := Type2;
      No[2] := No2;
      TableID[3] := Type3;
      No[3] := No3;
      TableID[4] := Type4;
      No[4] := No4;
      TableID[5] := Type5;
      No[5] := No5;
      OnAfterCreateDimTableIDs(Rec,CurrFieldNo,TableID,No);

      "Shortcut Dimension 1 Code" := '';
      "Shortcut Dimension 2 Code" := '';
      "Dimension Set ID" :=
        DimMgt.GetRecDefaultDimID(
          Rec,CurrFieldNo,TableID,No,"Source Code","Shortcut Dimension 1 Code","Shortcut Dimension 2 Code",0,0);
    END;

    [External]
    PROCEDURE ValidateShortcutDimCode@14(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20]);
    BEGIN
      TESTFIELD("Check Printed",FALSE);
      DimMgt.ValidateShortcutDimValues(FieldNumber,ShortcutDimCode,"Dimension Set ID");
    END;

    LOCAL PROCEDURE ValidateAmount@223(ShouldCheckPaymentTolerance@1000 : Boolean);
    BEGIN
      GetCurrency;
      IF "Currency Code" = '' THEN
        "Amount (LCY)" := Amount
      ELSE
        "Amount (LCY)" := ROUND(
            CurrExchRate.ExchangeAmtFCYToLCY("Posting Date","Currency Code",Amount,"Currency Factor"));
      OnValidateAmountOnAfterAssignAmountLCY("Amount (LCY)");

      Amount := ROUND(Amount,Currency."Amount Rounding Precision");
      IF (CurrFieldNo <> 0) AND
         (CurrFieldNo <> FIELDNO("Applies-to Doc. No.")) AND
         ((("Account Type" = "Account Type"::Customer) AND
           ("Account No." <> '') AND (Amount > 0) AND
           (CurrFieldNo <> FIELDNO("Bal. Account No."))) OR
          (("Bal. Account Type" = "Bal. Account Type"::Customer) AND
           ("Bal. Account No." <> '') AND (Amount < 0) AND
           (CurrFieldNo <> FIELDNO("Account No."))))
      THEN
        CustCheckCreditLimit.GenJnlLineCheck(Rec);

      VALIDATE("VAT %");
      VALIDATE("Bal. VAT %");
      IF ("Document Type" = "Document Type"::" ") OR
         ("Document Type" = "Document Type"::Invoice) OR
         ("Document Type" = "Document Type"::"Credit Memo")
      THEN
        VALIDATE("IRS 1099 Code")
      ELSE
        "IRS 1099 Amount" := 0;
      UpdateLineBalance;
      IF "Deferral Code" <> '' THEN
        VALIDATE("Deferral Code");

      IF (Amount <> xRec.Amount) AND
         (CurrFieldNo <> 0)
      THEN BEGIN
        IF ("Applies-to Doc. No." <> '') OR ("Applies-to ID" <> '') THEN
          SetApplyToAmount;
        IF ShouldCheckPaymentTolerance THEN
          IF (xRec.Amount <> 0) OR (xRec."Applies-to Doc. No." <> '') OR (xRec."Applies-to ID" <> '') THEN
            PaymentToleranceMgt.PmtTolGenJnl(Rec);
      END;

      IF JobTaskIsSet THEN BEGIN
        CreateTempJobJnlLine;
        UpdatePricesFromJobJnlLine;
      END;
    END;

    [External]
    PROCEDURE LookupShortcutDimCode@18(FieldNumber@1000 : Integer;VAR ShortcutDimCode@1001 : Code[20]);
    BEGIN
      TESTFIELD("Check Printed",FALSE);
      DimMgt.LookupDimValueCode(FieldNumber,ShortcutDimCode);
      DimMgt.ValidateShortcutDimValues(FieldNumber,ShortcutDimCode,"Dimension Set ID");
    END;

    [External]
    PROCEDURE ShowShortcutDimCode@15(VAR ShortcutDimCode@1000 : ARRAY [8] OF Code[20]);
    BEGIN
      DimMgt.GetShortcutDimensions("Dimension Set ID",ShortcutDimCode);
    END;

    [External]
    PROCEDURE ShowDimensions@26();
    BEGIN
      "Dimension Set ID" :=
        DimMgt.EditDimensionSet2(
          "Dimension Set ID",STRSUBSTNO('%1 %2 %3',"Journal Template Name","Journal Batch Name","Line No."),
          "Shortcut Dimension 1 Code","Shortcut Dimension 2 Code");
    END;

    [External]
    PROCEDURE GetFAVATSetup@17();
    VAR
      LocalGLAcc@1000 : Record 15;
      FAPostingGr@1001 : Record 5606;
      FABalAcc@1002 : Boolean;
    BEGIN
      IF CurrFieldNo = 0 THEN
        EXIT;
      IF ("Account Type" <> "Account Type"::"Fixed Asset") AND
         ("Bal. Account Type" <> "Bal. Account Type"::"Fixed Asset")
      THEN
        EXIT;
      FABalAcc := ("Bal. Account Type" = "Bal. Account Type"::"Fixed Asset");
      IF NOT FABalAcc THEN BEGIN
        ClearPostingGroups;
        "Tax Group Code" := '';
        VALIDATE("VAT Prod. Posting Group");
      END;
      IF FABalAcc THEN BEGIN
        ClearBalancePostingGroups;
        "Bal. Tax Group Code" := '';
        VALIDATE("Bal. VAT Prod. Posting Group");
      END;
      IF CopyVATSetupToJnlLines THEN
        IF (("FA Posting Type" = "FA Posting Type"::"Acquisition Cost") OR
            ("FA Posting Type" = "FA Posting Type"::Disposal) OR
            ("FA Posting Type" = "FA Posting Type"::Maintenance)) AND
           ("Posting Group" <> '')
        THEN
          IF FAPostingGr.GET("Posting Group") THEN BEGIN
            CASE "FA Posting Type" OF
              "FA Posting Type"::"Acquisition Cost":
                LocalGLAcc.GET(FAPostingGr.GetAcquisitionCostAccount);
              "FA Posting Type"::Disposal:
                LocalGLAcc.GET(FAPostingGr.GetAcquisitionCostAccountOnDisposal);
              "FA Posting Type"::Maintenance:
                LocalGLAcc.GET(FAPostingGr.GetMaintenanceExpenseAccount);
            END;
            LocalGLAcc.CheckGLAcc;
            IF NOT FABalAcc THEN BEGIN
              "Gen. Posting Type" := LocalGLAcc."Gen. Posting Type";
              "Gen. Bus. Posting Group" := LocalGLAcc."Gen. Bus. Posting Group";
              "Gen. Prod. Posting Group" := LocalGLAcc."Gen. Prod. Posting Group";
              "VAT Bus. Posting Group" := LocalGLAcc."VAT Bus. Posting Group";
              "VAT Prod. Posting Group" := LocalGLAcc."VAT Prod. Posting Group";
              "Tax Group Code" := LocalGLAcc."Tax Group Code";
              VALIDATE("VAT Prod. Posting Group");
            END ELSE BEGIN;
              "Bal. Gen. Posting Type" := LocalGLAcc."Gen. Posting Type";
              "Bal. Gen. Bus. Posting Group" := LocalGLAcc."Gen. Bus. Posting Group";
              "Bal. Gen. Prod. Posting Group" := LocalGLAcc."Gen. Prod. Posting Group";
              "Bal. VAT Bus. Posting Group" := LocalGLAcc."VAT Bus. Posting Group";
              "Bal. VAT Prod. Posting Group" := LocalGLAcc."VAT Prod. Posting Group";
              "Bal. Tax Group Code" := LocalGLAcc."Tax Group Code";
              VALIDATE("Bal. VAT Prod. Posting Group");
            END;
          END;
    END;

    LOCAL PROCEDURE GetFADeprBook@114(FANo@1003 : Code[20]);
    VAR
      FASetup@1000 : Record 5603;
      FADeprBook@1001 : Record 5612;
      DefaultFADeprBook@1002 : Record 5612;
    BEGIN
      IF "Depreciation Book Code" = '' THEN BEGIN
        FASetup.GET;

        DefaultFADeprBook.SETRANGE("FA No.",FANo);
        DefaultFADeprBook.SETRANGE("Default FA Depreciation Book",TRUE);

        CASE TRUE OF
          DefaultFADeprBook.FINDFIRST:
            "Depreciation Book Code" := DefaultFADeprBook."Depreciation Book Code";
          FADeprBook.GET(FANo,FASetup."Default Depr. Book"):
            "Depreciation Book Code" := FASetup."Default Depr. Book";
          ELSE
            "Depreciation Book Code" := '';
        END;
      END;

      IF "Depreciation Book Code" <> '' THEN BEGIN
        FADeprBook.GET(FANo,"Depreciation Book Code");
        "Posting Group" := FADeprBook."FA Posting Group";
      END;
    END;

    [External]
    PROCEDURE GetTemplate@16();
    BEGIN
      IF NOT TemplateFound THEN
        GenJnlTemplate.GET("Journal Template Name");
      TemplateFound := TRUE;
    END;

    LOCAL PROCEDURE UpdateSalesPurchLCY@19();
    BEGIN
      "Sales/Purch. (LCY)" := 0;
      IF (NOT "System-Created Entry") AND ("Document Type" IN ["Document Type"::Invoice,"Document Type"::"Credit Memo"]) THEN BEGIN
        IF ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor]) AND
           (("Bal. Account No." <> '') OR ("Recurring Method" <> "Recurring Method"::" "))
        THEN
          "Sales/Purch. (LCY)" := "Amount (LCY)" + "Bal. VAT Amount (LCY)";
        IF ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor]) AND ("Account No." <> '') THEN
          "Sales/Purch. (LCY)" := -("Amount (LCY)" - "VAT Amount (LCY)");
      END;
    END;

    [External]
    PROCEDURE LookUpAppliesToDocCust@35(AccNo@1000 : Code[20]);
    VAR
      ApplyCustEntries@1002 : Page 232;
    BEGIN
      OnBeforeLookUpAppliesToDocCust(Rec,AccNo);

      CLEAR(CustLedgEntry);
      CustLedgEntry.SETCURRENTKEY("Customer No.",Open,Positive,"Due Date");
      IF AccNo <> '' THEN
        CustLedgEntry.SETRANGE("Customer No.",AccNo);
      CustLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        CustLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        CustLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF CustLedgEntry.ISEMPTY THEN BEGIN
          CustLedgEntry.SETRANGE("Document Type");
          CustLedgEntry.SETRANGE("Document No.");
        END;
      END;
      IF "Applies-to ID" <> '' THEN BEGIN
        CustLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
        IF CustLedgEntry.ISEMPTY THEN
          CustLedgEntry.SETRANGE("Applies-to ID");
      END;
      IF "Applies-to Doc. Type" <> "Applies-to Doc. Type"::" " THEN BEGIN
        CustLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        IF CustLedgEntry.ISEMPTY THEN
          CustLedgEntry.SETRANGE("Document Type");
      END;
      IF Amount <> 0 THEN BEGIN
        CustLedgEntry.SETRANGE(Positive,Amount < 0);
        IF CustLedgEntry.ISEMPTY THEN
          CustLedgEntry.SETRANGE(Positive);
      END;
      ApplyCustEntries.SetGenJnlLine(Rec,GenJnlLine.FIELDNO("Applies-to Doc. No."));
      ApplyCustEntries.SETTABLEVIEW(CustLedgEntry);
      ApplyCustEntries.SETRECORD(CustLedgEntry);
      ApplyCustEntries.LOOKUPMODE(TRUE);
      IF ApplyCustEntries.RUNMODAL = ACTION::LookupOK THEN BEGIN
        ApplyCustEntries.GETRECORD(CustLedgEntry);
        IF AccNo = '' THEN BEGIN
          AccNo := CustLedgEntry."Customer No.";
          IF "Bal. Account Type" = "Bal. Account Type"::Customer THEN
            VALIDATE("Bal. Account No.",AccNo)
          ELSE
            VALIDATE("Account No.",AccNo);
        END;
        SetAmountWithCustLedgEntry;
        UpdateDocumentTypeAndAppliesTo(CustLedgEntry."Document Type",CustLedgEntry."Document No.");
      END;
    END;

    [External]
    PROCEDURE LookUpAppliesToDocVend@36(AccNo@1000 : Code[20]);
    VAR
      ApplyVendEntries@1001 : Page 233;
    BEGIN
      OnBeforeLookUpAppliesToDocVend(Rec,AccNo);

      CLEAR(VendLedgEntry);
      VendLedgEntry.SETCURRENTKEY("Vendor No.",Open,Positive,"Due Date");
      IF AccNo <> '' THEN
        VendLedgEntry.SETRANGE("Vendor No.",AccNo);
      VendLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        VendLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        VendLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF VendLedgEntry.ISEMPTY THEN BEGIN
          VendLedgEntry.SETRANGE("Document Type");
          VendLedgEntry.SETRANGE("Document No.");
        END;
      END;
      IF "Applies-to ID" <> '' THEN BEGIN
        VendLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
        IF VendLedgEntry.ISEMPTY THEN
          VendLedgEntry.SETRANGE("Applies-to ID");
      END;
      IF "Applies-to Doc. Type" <> "Applies-to Doc. Type"::" " THEN BEGIN
        VendLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        IF VendLedgEntry.ISEMPTY THEN
          VendLedgEntry.SETRANGE("Document Type");
      END;
      IF  "Applies-to Doc. No." <> ''THEN BEGIN
        VendLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF VendLedgEntry.ISEMPTY THEN
          VendLedgEntry.SETRANGE("Document No.");
      END;
      IF Amount <> 0 THEN BEGIN
        VendLedgEntry.SETRANGE(Positive,Amount < 0);
        IF VendLedgEntry.ISEMPTY THEN;
        VendLedgEntry.SETRANGE(Positive);
      END;
      ApplyVendEntries.SetGenJnlLine(Rec,GenJnlLine.FIELDNO("Applies-to Doc. No."));
      ApplyVendEntries.SETTABLEVIEW(VendLedgEntry);
      ApplyVendEntries.SETRECORD(VendLedgEntry);
      ApplyVendEntries.LOOKUPMODE(TRUE);
      IF ApplyVendEntries.RUNMODAL = ACTION::LookupOK THEN BEGIN
        ApplyVendEntries.GETRECORD(VendLedgEntry);
        IF AccNo = '' THEN BEGIN
          AccNo := VendLedgEntry."Vendor No.";
          IF "Bal. Account Type" = "Bal. Account Type"::Vendor THEN
            VALIDATE("Bal. Account No.",AccNo)
          ELSE
            VALIDATE("Account No.",AccNo);
        END;
        SetAmountWithVendLedgEntry;
        UpdateDocumentTypeAndAppliesTo(VendLedgEntry."Document Type",VendLedgEntry."Document No.");
      END;
    END;

    [External]
    PROCEDURE LookUpAppliesToDocEmpl@171(AccNo@1000 : Code[20]);
    VAR
      ApplyEmplEntries@1001 : Page 234;
    BEGIN
      OnBeforeLookUpAppliesToDocEmpl(Rec,AccNo);

      CLEAR(EmplLedgEntry);
      EmplLedgEntry.SETCURRENTKEY("Employee No.",Open,Positive);
      IF AccNo <> '' THEN
        EmplLedgEntry.SETRANGE("Employee No.",AccNo);
      EmplLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        EmplLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        EmplLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF EmplLedgEntry.ISEMPTY THEN BEGIN
          EmplLedgEntry.SETRANGE("Document Type");
          EmplLedgEntry.SETRANGE("Document No.");
        END;
      END;
      IF "Applies-to ID" <> '' THEN BEGIN
        EmplLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
        IF EmplLedgEntry.ISEMPTY THEN
          EmplLedgEntry.SETRANGE("Applies-to ID");
      END;
      IF "Applies-to Doc. Type" <> "Applies-to Doc. Type"::" " THEN BEGIN
        EmplLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        IF EmplLedgEntry.ISEMPTY THEN
          EmplLedgEntry.SETRANGE("Document Type");
      END;
      IF  "Applies-to Doc. No." <> '' THEN BEGIN
        EmplLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF EmplLedgEntry.ISEMPTY THEN
          EmplLedgEntry.SETRANGE("Document No.");
      END;
      IF Amount <> 0 THEN BEGIN
        EmplLedgEntry.SETRANGE(Positive,Amount < 0);
        IF EmplLedgEntry.ISEMPTY THEN;
        EmplLedgEntry.SETRANGE(Positive);
      END;
      ApplyEmplEntries.SetGenJnlLine(Rec,GenJnlLine.FIELDNO("Applies-to Doc. No."));
      ApplyEmplEntries.SETTABLEVIEW(EmplLedgEntry);
      ApplyEmplEntries.SETRECORD(EmplLedgEntry);
      ApplyEmplEntries.LOOKUPMODE(TRUE);
      IF ApplyEmplEntries.RUNMODAL = ACTION::LookupOK THEN BEGIN
        ApplyEmplEntries.GETRECORD(EmplLedgEntry);
        IF AccNo = '' THEN BEGIN
          AccNo := EmplLedgEntry."Employee No.";
          IF "Bal. Account Type" = "Bal. Account Type"::Employee THEN
            VALIDATE("Bal. Account No.",AccNo)
          ELSE
            VALIDATE("Account No.",AccNo);
        END;
        SetAmountWithEmplLedgEntry;
        UpdateDocumentTypeAndAppliesTo(EmplLedgEntry."Document Type",EmplLedgEntry."Document No.");
      END;
    END;

    [External]
    PROCEDURE SetApplyToAmount@20();
    BEGIN
      CASE "Account Type" OF
        "Account Type"::Customer:
          BEGIN
            CustLedgEntry.SETCURRENTKEY("Document No.");
            CustLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
            CustLedgEntry.SETRANGE("Customer No.","Account No.");
            CustLedgEntry.SETRANGE(Open,TRUE);
            IF CustLedgEntry.FIND('-') THEN
              IF CustLedgEntry."Amount to Apply" = 0 THEN BEGIN
                CustLedgEntry.CALCFIELDS("Remaining Amount");
                CustLedgEntry."Amount to Apply" := CustLedgEntry."Remaining Amount";
                CODEUNIT.RUN(CODEUNIT::"Cust. Entry-Edit",CustLedgEntry);
              END;
          END;
        "Account Type"::Vendor:
          BEGIN
            VendLedgEntry.SETCURRENTKEY("Document No.");
            VendLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
            VendLedgEntry.SETRANGE("Vendor No.","Account No.");
            VendLedgEntry.SETRANGE(Open,TRUE);
            IF VendLedgEntry.FIND('-') THEN
              IF VendLedgEntry."Amount to Apply" = 0 THEN  BEGIN
                VendLedgEntry.CALCFIELDS("Remaining Amount");
                VendLedgEntry."Amount to Apply" := VendLedgEntry."Remaining Amount";
                CODEUNIT.RUN(CODEUNIT::"Vend. Entry-Edit",VendLedgEntry);
              END;
          END;
        "Account Type"::Employee:
          BEGIN
            EmplLedgEntry.SETCURRENTKEY("Document No.");
            EmplLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
            EmplLedgEntry.SETRANGE("Employee No.","Account No.");
            EmplLedgEntry.SETRANGE(Open,TRUE);
            IF EmplLedgEntry.FIND('-') THEN
              IF EmplLedgEntry."Amount to Apply" = 0 THEN BEGIN
                EmplLedgEntry.CALCFIELDS("Remaining Amount");
                EmplLedgEntry."Amount to Apply" := EmplLedgEntry."Remaining Amount";
                CODEUNIT.RUN(CODEUNIT::"Empl. Entry-Edit",EmplLedgEntry);
              END;
          END;
      END;
    END;

    [External]
    PROCEDURE ValidateApplyRequirements@21(TempGenJnlLine@1000 : TEMPORARY Record 81);
    BEGIN
      IF (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Customer) OR
         (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Vendor) OR
         (TempGenJnlLine."Bal. Account Type" = TempGenJnlLine."Bal. Account Type"::Vendor)
      THEN
        CODEUNIT.RUN(CODEUNIT::"Exchange Acc. G/L Journal Line",TempGenJnlLine);

      CASE TempGenJnlLine."Account Type" OF
        TempGenJnlLine."Account Type"::Customer:
          IF TempGenJnlLine."Applies-to ID" <> '' THEN BEGIN
            CustLedgEntry.SETCURRENTKEY("Customer No.","Applies-to ID",Open);
            CustLedgEntry.SETRANGE("Customer No.",TempGenJnlLine."Account No.");
            CustLedgEntry.SETRANGE("Applies-to ID",TempGenJnlLine."Applies-to ID");
            CustLedgEntry.SETRANGE(Open,TRUE);
            IF CustLedgEntry.FIND('-') THEN
              REPEAT
                IF TempGenJnlLine."Posting Date" < CustLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    CustLedgEntry."Document Type",CustLedgEntry."Document No.");
              UNTIL CustLedgEntry.NEXT = 0;
          END ELSE
            IF TempGenJnlLine."Applies-to Doc. No." <> '' THEN BEGIN
              CustLedgEntry.SETCURRENTKEY("Document No.");
              CustLedgEntry.SETRANGE("Document No.",TempGenJnlLine."Applies-to Doc. No.");
              IF TempGenJnlLine."Applies-to Doc. Type" <> TempGenJnlLine."Applies-to Doc. Type"::" " THEN
                CustLedgEntry.SETRANGE("Document Type",TempGenJnlLine."Applies-to Doc. Type");
              CustLedgEntry.SETRANGE("Customer No.",TempGenJnlLine."Account No.");
              CustLedgEntry.SETRANGE(Open,TRUE);
              IF CustLedgEntry.FIND('-') THEN
                IF TempGenJnlLine."Posting Date" < CustLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    CustLedgEntry."Document Type",CustLedgEntry."Document No.");
            END;
        TempGenJnlLine."Account Type"::Vendor:
          IF TempGenJnlLine."Applies-to ID" <> '' THEN BEGIN
            VendLedgEntry.SETCURRENTKEY("Vendor No.","Applies-to ID",Open);
            VendLedgEntry.SETRANGE("Vendor No.",TempGenJnlLine."Account No.");
            VendLedgEntry.SETRANGE("Applies-to ID",TempGenJnlLine."Applies-to ID");
            VendLedgEntry.SETRANGE(Open,TRUE);
            IF VendLedgEntry.FINDSET THEN
              REPEAT
                IF TempGenJnlLine."Posting Date" < VendLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    VendLedgEntry."Document Type",VendLedgEntry."Document No.");
              UNTIL VendLedgEntry.NEXT = 0;
          END ELSE
            IF TempGenJnlLine."Applies-to Doc. No." <> '' THEN BEGIN
              VendLedgEntry.SETCURRENTKEY("Document No.");
              VendLedgEntry.SETRANGE("Document No.",TempGenJnlLine."Applies-to Doc. No.");
              IF TempGenJnlLine."Applies-to Doc. Type" <> TempGenJnlLine."Applies-to Doc. Type"::" " THEN
                VendLedgEntry.SETRANGE("Document Type",TempGenJnlLine."Applies-to Doc. Type");
              VendLedgEntry.SETRANGE("Vendor No.",TempGenJnlLine."Account No.");
              VendLedgEntry.SETRANGE(Open,TRUE);
              IF VendLedgEntry.FIND('-') THEN
                IF TempGenJnlLine."Posting Date" < VendLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    VendLedgEntry."Document Type",VendLedgEntry."Document No.");
            END;
        TempGenJnlLine."Account Type"::Employee:
          IF TempGenJnlLine."Applies-to ID" <> '' THEN BEGIN
            EmplLedgEntry.SETCURRENTKEY("Employee No.","Applies-to ID",Open);
            EmplLedgEntry.SETRANGE("Employee No.",TempGenJnlLine."Account No.");
            EmplLedgEntry.SETRANGE("Applies-to ID",TempGenJnlLine."Applies-to ID");
            EmplLedgEntry.SETRANGE(Open,TRUE);
            IF EmplLedgEntry.FINDSET THEN
              REPEAT
                IF TempGenJnlLine."Posting Date" < EmplLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    EmplLedgEntry."Document Type",EmplLedgEntry."Document No.");
              UNTIL EmplLedgEntry.NEXT = 0;
          END ELSE
            IF TempGenJnlLine."Applies-to Doc. No." <> '' THEN BEGIN
              EmplLedgEntry.SETCURRENTKEY("Document No.");
              EmplLedgEntry.SETRANGE("Document No.",TempGenJnlLine."Applies-to Doc. No.");
              IF TempGenJnlLine."Applies-to Doc. Type" <> EmplLedgEntry."Applies-to Doc. Type"::" " THEN
                EmplLedgEntry.SETRANGE("Document Type",TempGenJnlLine."Applies-to Doc. Type");
              EmplLedgEntry.SETRANGE("Employee No.",TempGenJnlLine."Account No.");
              EmplLedgEntry.SETRANGE(Open,TRUE);
              IF EmplLedgEntry.FIND('-') THEN
                IF TempGenJnlLine."Posting Date" < EmplLedgEntry."Posting Date" THEN
                  ERROR(
                    Text015,TempGenJnlLine."Document Type",TempGenJnlLine."Document No.",
                    EmplLedgEntry."Document Type",EmplLedgEntry."Document No.");
            END;
      END;

      OnAfterValidateApplyRequirements(TempGenJnlLine);
    END;

    LOCAL PROCEDURE UpdateCountryCodeAndVATRegNo@25(No@1000 : Code[20]);
    VAR
      Cust@1001 : Record 18;
      Vend@1002 : Record 23;
    BEGIN
      IF No = '' THEN BEGIN
        "Country/Region Code" := '';
        "VAT Registration No." := '';
        EXIT;
      END;

      ReadGLSetup;
      CASE TRUE OF
        ("Account Type" = "Account Type"::Customer) OR ("Bal. Account Type" = "Bal. Account Type"::Customer):
          BEGIN
            Cust.GET(No);
            "Country/Region Code" := Cust."Country/Region Code";
            "VAT Registration No." := Cust."VAT Registration No.";
          END;
        ("Account Type" = "Account Type"::Vendor) OR ("Bal. Account Type" = "Bal. Account Type"::Vendor):
          BEGIN
            Vend.GET(No);
            "Country/Region Code" := Vend."Country/Region Code";
            "VAT Registration No." := Vend."VAT Registration No.";
          END;
      END;
    END;

    [External]
    PROCEDURE JobTaskIsSet@28() : Boolean;
    BEGIN
      EXIT(("Job No." <> '') AND ("Job Task No." <> '') AND ("Account Type" = "Account Type"::"G/L Account"));
    END;

    [External]
    PROCEDURE CreateTempJobJnlLine@27();
    VAR
      TmpJobJnlOverallCurrencyFactor@1001 : Decimal;
    BEGIN
      OnBeforeCreateTempJobJnlLine(TempJobJnlLine,Rec,xRec,CurrFieldNo);

      TESTFIELD("Posting Date");
      CLEAR(TempJobJnlLine);
      TempJobJnlLine.DontCheckStdCost;
      TempJobJnlLine.VALIDATE("Job No.","Job No.");
      TempJobJnlLine.VALIDATE("Job Task No.","Job Task No.");
      IF CurrFieldNo <> FIELDNO("Posting Date") THEN
        TempJobJnlLine.VALIDATE("Posting Date","Posting Date")
      ELSE
        TempJobJnlLine.VALIDATE("Posting Date",xRec."Posting Date");
      TempJobJnlLine.VALIDATE(Type,TempJobJnlLine.Type::"G/L Account");
      IF "Job Currency Code" <> '' THEN BEGIN
        IF "Posting Date" = 0D THEN
          CurrencyDate := WORKDATE
        ELSE
          CurrencyDate := "Posting Date";

        IF "Currency Code" = "Job Currency Code" THEN
          "Job Currency Factor" := "Currency Factor"
        ELSE
          "Job Currency Factor" := CurrExchRate.ExchangeRate(CurrencyDate,"Job Currency Code");
        TempJobJnlLine.SetCurrencyFactor("Job Currency Factor");
      END;
      TempJobJnlLine.VALIDATE("No.","Account No.");
      TempJobJnlLine.VALIDATE(Quantity,"Job Quantity");

      IF "Currency Factor" = 0 THEN BEGIN
        IF "Job Currency Factor" = 0 THEN
          TmpJobJnlOverallCurrencyFactor := 1
        ELSE
          TmpJobJnlOverallCurrencyFactor := "Job Currency Factor";
      END ELSE BEGIN
        IF "Job Currency Factor" = 0 THEN
          TmpJobJnlOverallCurrencyFactor := 1 / "Currency Factor"
        ELSE
          TmpJobJnlOverallCurrencyFactor := "Job Currency Factor" / "Currency Factor"
      END;

      IF "Job Quantity" <> 0 THEN
        TempJobJnlLine.VALIDATE("Unit Cost",((Amount - "VAT Amount") * TmpJobJnlOverallCurrencyFactor) / "Job Quantity");

      IF (xRec."Account No." = "Account No.") AND (xRec."Job Task No." = "Job Task No.") AND ("Job Unit Price" <> 0) THEN BEGIN
        IF TempJobJnlLine."Cost Factor" = 0 THEN
          TempJobJnlLine."Unit Price" := xRec."Job Unit Price";
        TempJobJnlLine."Line Amount" := xRec."Job Line Amount";
        TempJobJnlLine."Line Discount %" := xRec."Job Line Discount %";
        TempJobJnlLine."Line Discount Amount" := xRec."Job Line Discount Amount";
        TempJobJnlLine.VALIDATE("Unit Price");
      END;

      OnAfterCreateTempJobJnlLine(TempJobJnlLine,Rec,xRec,CurrFieldNo);
    END;

    [External]
    PROCEDURE UpdatePricesFromJobJnlLine@22();
    BEGIN
      "Job Unit Price" := TempJobJnlLine."Unit Price";
      "Job Total Price" := TempJobJnlLine."Total Price";
      "Job Line Amount" := TempJobJnlLine."Line Amount";
      "Job Line Discount Amount" := TempJobJnlLine."Line Discount Amount";
      "Job Unit Cost" := TempJobJnlLine."Unit Cost";
      "Job Total Cost" := TempJobJnlLine."Total Cost";
      "Job Line Discount %" := TempJobJnlLine."Line Discount %";

      "Job Unit Price (LCY)" := TempJobJnlLine."Unit Price (LCY)";
      "Job Total Price (LCY)" := TempJobJnlLine."Total Price (LCY)";
      "Job Line Amount (LCY)" := TempJobJnlLine."Line Amount (LCY)";
      "Job Line Disc. Amount (LCY)" := TempJobJnlLine."Line Discount Amount (LCY)";
      "Job Unit Cost (LCY)" := TempJobJnlLine."Unit Cost (LCY)";
      "Job Total Cost (LCY)" := TempJobJnlLine."Total Cost (LCY)";

      OnAfterUpdatePricesFromJobJnlLine(Rec,TempJobJnlLine);
    END;

    [External]
    PROCEDURE SetHideValidation@23(NewHideValidationDialog@1000 : Boolean);
    BEGIN
      HideValidationDialog := NewHideValidationDialog;
    END;

    LOCAL PROCEDURE GetDefaultICPartnerGLAccNo@1058() : Code[20];
    VAR
      GLAcc@1001 : Record 15;
      GLAccNo@1002 : Code[20];
    BEGIN
      IF "IC Partner Code" <> '' THEN BEGIN
        IF "Account Type" = "Account Type"::"G/L Account" THEN
          GLAccNo := "Account No."
        ELSE
          GLAccNo := "Bal. Account No.";
        IF GLAcc.GET(GLAccNo) THEN
          EXIT(GLAcc."Default IC Partner G/L Acc. No")
      END;
    END;

    [External]
    PROCEDURE IsApplied@30() : Boolean;
    BEGIN
      IF "Applies-to Doc. No." <> '' THEN
        EXIT(TRUE);
      IF "Applies-to ID" <> '' THEN
        EXIT(TRUE);
      EXIT(FALSE);
    END;

    [External]
    PROCEDURE DataCaption@29() : Text[250];
    VAR
      GenJnlBatch@1000 : Record 232;
    BEGIN
      IF GenJnlBatch.GET("Journal Template Name","Journal Batch Name") THEN
        EXIT(GenJnlBatch.Name + '-' + GenJnlBatch.Description);
    END;

    LOCAL PROCEDURE ReadGLSetup@31();
    BEGIN
      IF NOT GLSetupRead THEN BEGIN
        GLSetup.GET;
        GLSetupRead := TRUE;
      END;
    END;

    [External]
    PROCEDURE GetCustLedgerEntry@33();
    BEGIN
      IF ("Account Type" = "Account Type"::Customer) AND ("Account No." = '') AND
         ("Applies-to Doc. No." <> '') AND (Amount = 0)
      THEN BEGIN
        CustLedgEntry.RESET;
        CustLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        CustLedgEntry.SETRANGE(Open,TRUE);
        IF NOT CustLedgEntry.FINDFIRST THEN
          ERROR(NotExistErr,"Applies-to Doc. No.");

        VALIDATE("Account No.",CustLedgEntry."Customer No.");
        CustLedgEntry.CALCFIELDS("Remaining Amount");

        IF "Posting Date" <= CustLedgEntry."Pmt. Discount Date" THEN
          Amount := -(CustLedgEntry."Remaining Amount" - CustLedgEntry."Remaining Pmt. Disc. Possible")
        ELSE
          Amount := -CustLedgEntry."Remaining Amount";

        IF "Currency Code" <> CustLedgEntry."Currency Code" THEN
          UpdateCurrencyCode(CustLedgEntry."Currency Code");

        SetAppliesToFields(
          CustLedgEntry."Document Type",CustLedgEntry."Document No.",CustLedgEntry."External Document No.");

        GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
        IF GenJnlBatch."Bal. Account No." <> '' THEN BEGIN
          "Bal. Account Type" := GenJnlBatch."Bal. Account Type";
          VALIDATE("Bal. Account No.",GenJnlBatch."Bal. Account No.");
        END ELSE
          VALIDATE(Amount);
      END;
    END;

    [External]
    PROCEDURE GetVendLedgerEntry@37();
    BEGIN
      IF ("Account Type" = "Account Type"::Vendor) AND ("Account No." = '') AND
         ("Applies-to Doc. No." <> '') AND (Amount = 0)
      THEN BEGIN
        VendLedgEntry.RESET;
        VendLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        VendLedgEntry.SETRANGE(Open,TRUE);
        IF NOT VendLedgEntry.FINDFIRST THEN
          ERROR(NotExistErr,"Applies-to Doc. No.");

        VALIDATE("Account No.",VendLedgEntry."Vendor No.");
        VendLedgEntry.CALCFIELDS("Remaining Amount");

        IF "Posting Date" <= VendLedgEntry."Pmt. Discount Date" THEN
          Amount := -(VendLedgEntry."Remaining Amount" - VendLedgEntry."Remaining Pmt. Disc. Possible")
        ELSE
          Amount := -VendLedgEntry."Remaining Amount";

        IF "Currency Code" <> VendLedgEntry."Currency Code" THEN
          UpdateCurrencyCode(VendLedgEntry."Currency Code");

        SetAppliesToFields(
          VendLedgEntry."Document Type",VendLedgEntry."Document No.",VendLedgEntry."External Document No.");

        GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
        IF GenJnlBatch."Bal. Account No." <> '' THEN BEGIN
          "Bal. Account Type" := GenJnlBatch."Bal. Account Type";
          VALIDATE("Bal. Account No.",GenJnlBatch."Bal. Account No.");
        END ELSE
          VALIDATE(Amount);
      END;
    END;

    [External]
    PROCEDURE GetEmplLedgerEntry@183();
    BEGIN
      IF ("Account Type" = "Account Type"::Employee) AND ("Account No." = '') AND
         ("Applies-to Doc. No." <> '') AND (Amount = 0)
      THEN BEGIN
        EmplLedgEntry.RESET;
        EmplLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        EmplLedgEntry.SETRANGE(Open,TRUE);
        IF NOT EmplLedgEntry.FINDFIRST THEN
          ERROR(NotExistErr,"Applies-to Doc. No.");

        VALIDATE("Account No.",EmplLedgEntry."Employee No.");
        EmplLedgEntry.CALCFIELDS("Remaining Amount");

        Amount := -EmplLedgEntry."Remaining Amount";

        SetAppliesToFields(EmplLedgEntry."Document Type",EmplLedgEntry."Document No.",'');

        GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
        IF GenJnlBatch."Bal. Account No." <> '' THEN BEGIN
          "Bal. Account Type" := GenJnlBatch."Bal. Account Type";
          VALIDATE("Bal. Account No.",GenJnlBatch."Bal. Account No.");
        END ELSE
          VALIDATE(Amount);
      END;
    END;

    LOCAL PROCEDURE UpdateCurrencyCode@143(NewCurrencyCode@1000 : Code[10]);
    VAR
      FromCurrencyCode@1002 : Code[10];
      ToCurrencyCode@1001 : Code[10];
    BEGIN
      FromCurrencyCode := GetShowCurrencyCode("Currency Code");
      ToCurrencyCode := GetShowCurrencyCode(NewCurrencyCode);
      IF NOT CONFIRM(STRSUBSTNO(ChangeCurrencyQst,FromCurrencyCode,ToCurrencyCode),TRUE) THEN
        ERROR(UpdateInterruptedErr);
      VALIDATE("Currency Code",NewCurrencyCode);
    END;

    LOCAL PROCEDURE SetAppliesToFields@140(DocType@1000 : Option;DocNo@1001 : Code[20];ExtDocNo@1002 : Code[35]);
    BEGIN
      UpdateDocumentTypeAndAppliesTo(DocType,DocNo);

      IF ("Applies-to Doc. Type" = "Applies-to Doc. Type"::Invoice) AND
         ("Document Type" = "Document Type"::Payment)
      THEN
        "Applies-to Ext. Doc. No." := ExtDocNo;
    END;

    LOCAL PROCEDURE CustVendAccountNosModified@32() : Boolean;
    BEGIN
      EXIT(
        (("Bal. Account No." <> xRec."Bal. Account No.") AND
         ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor])) OR
        (("Account No." <> xRec."Account No.") AND
         ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor])))
    END;

    LOCAL PROCEDURE CheckPaymentTolerance@34();
    BEGIN
      IF Amount <> 0 THEN
        IF ("Bal. Account No." <> xRec."Bal. Account No.") OR ("Account No." <> xRec."Account No.") THEN
          PaymentToleranceMgt.PmtTolGenJnl(Rec);
    END;

    [External]
    PROCEDURE IncludeVATAmount@38() : Boolean;
    BEGIN
      EXIT(
        ("VAT Posting" = "VAT Posting"::"Manual VAT Entry") AND
        ("VAT Calculation Type" <> "VAT Calculation Type"::"Reverse Charge VAT"));
    END;

    [External]
    PROCEDURE ConvertAmtFCYToLCYForSourceCurrency@39(Amount@1000 : Decimal) : Decimal;
    VAR
      Currency@1001 : Record 4;
      CurrExchRate@1003 : Record 330;
      CurrencyFactor@1002 : Decimal;
    BEGIN
      IF (Amount = 0) OR ("Source Currency Code" = '') THEN
        EXIT(Amount);

      Currency.GET("Source Currency Code");
      CurrencyFactor := CurrExchRate.ExchangeRate("Posting Date","Source Currency Code");
      EXIT(
        ROUND(
          CurrExchRate.ExchangeAmtFCYToLCY(
            "Posting Date","Source Currency Code",Amount,CurrencyFactor),
          Currency."Amount Rounding Precision"));
    END;

    [External]
    PROCEDURE MatchSingleLedgerEntry@40();
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Match General Journal Lines",Rec);
    END;

    [External]
    PROCEDURE GetStyle@41() : Text;
    BEGIN
      IF "Applied Automatically" THEN
        EXIT('Favorable')
    END;

    [External]
    PROCEDURE GetOverdueDateInteractions@75(VAR OverdueWarningText@1001 : Text) : Text;
    VAR
      DueDate@1000 : Date;
    BEGIN
      DueDate := GetAppliesToDocDueDate;
      OverdueWarningText := '';
      IF (DueDate <> 0D) AND (DueDate < "Posting Date") THEN BEGIN
        OverdueWarningText := DueDateMsg;
        EXIT('Unfavorable');
      END;
      EXIT('');
    END;

    [External]
    PROCEDURE ClearDataExchangeEntries@42(DeleteHeaderEntries@1002 : Boolean);
    VAR
      DataExchField@1001 : Record 1221;
      GenJournalLine@1000 : Record 81;
    BEGIN
      IF "Data Exch. Entry No." = 0 THEN
        EXIT;

      DataExchField.DeleteRelatedRecords("Data Exch. Entry No.","Data Exch. Line No.");

      GenJournalLine.SETRANGE("Journal Template Name","Journal Template Name");
      GenJournalLine.SETRANGE("Journal Batch Name","Journal Batch Name");
      GenJournalLine.SETRANGE("Data Exch. Entry No.","Data Exch. Entry No.");
      GenJournalLine.SETFILTER("Line No.",'<>%1',"Line No.");
      IF GenJournalLine.ISEMPTY OR DeleteHeaderEntries THEN
        DataExchField.DeleteRelatedRecords("Data Exch. Entry No.",0);
    END;

    [External]
    PROCEDURE ClearAppliedGenJnlLine@49();
    VAR
      GenJournalLine@1000 : Record 81;
    BEGIN
      IF "Applies-to Doc. No." = '' THEN
        EXIT;
      GenJournalLine.SETRANGE("Journal Template Name","Journal Template Name");
      GenJournalLine.SETRANGE("Journal Batch Name","Journal Batch Name");
      GenJournalLine.SETFILTER("Line No.",'<>%1',"Line No.");
      GenJournalLine.SETRANGE("Document Type","Applies-to Doc. Type");
      GenJournalLine.SETRANGE("Document No.","Applies-to Doc. No.");
      GenJournalLine.MODIFYALL("Applied Automatically",FALSE);
      GenJournalLine.MODIFYALL("Account Type",GenJournalLine."Account Type"::"G/L Account");
      GenJournalLine.MODIFYALL("Account No.",'');
    END;

    [External]
    PROCEDURE GetIncomingDocumentURL@50() : Text[1000];
    VAR
      IncomingDocument@1000 : Record 130;
    BEGIN
      IF "Incoming Document Entry No." = 0 THEN
        EXIT('');

      IncomingDocument.GET("Incoming Document Entry No.");
      EXIT(IncomingDocument.GetURL);
    END;

    [External]
    PROCEDURE InsertPaymentFileError@64(Text@1001 : Text);
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      PaymentJnlExportErrorText.CreateNew(Rec,Text,'','');
    END;

    [External]
    PROCEDURE InsertPaymentFileErrorWithDetails@83(ErrorText@1001 : Text;AddnlInfo@1002 : Text;ExtSupportInfo@1003 : Text);
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      PaymentJnlExportErrorText.CreateNew(Rec,ErrorText,AddnlInfo,ExtSupportInfo);
    END;

    [External]
    PROCEDURE DeletePaymentFileBatchErrors@67();
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      PaymentJnlExportErrorText.DeleteJnlBatchErrors(Rec);
    END;

    [External]
    PROCEDURE DeletePaymentFileErrors@61();
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      PaymentJnlExportErrorText.DeleteJnlLineErrors(Rec);
    END;

    [External]
    PROCEDURE HasPaymentFileErrors@24() : Boolean;
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      EXIT(PaymentJnlExportErrorText.JnlLineHasErrors(Rec));
    END;

    [External]
    PROCEDURE HasPaymentFileErrorsInBatch@65() : Boolean;
    VAR
      PaymentJnlExportErrorText@1000 : Record 1228;
    BEGIN
      EXIT(PaymentJnlExportErrorText.JnlBatchHasErrors(Rec));
    END;

    LOCAL PROCEDURE UpdateDescription@43(Name@1000 : Text[50]);
    BEGIN
      IF NOT IsAdHocDescription THEN
        Description := Name;
    END;

    LOCAL PROCEDURE IsAdHocDescription@44() : Boolean;
    VAR
      GLAccount@1000 : Record 15;
      Customer@1001 : Record 18;
      Vendor@1002 : Record 23;
      BankAccount@1003 : Record 270;
      FixedAsset@1004 : Record 5600;
      ICPartner@1005 : Record 413;
      Employee@1006 : Record 5200;
    BEGIN
      IF Description = '' THEN
        EXIT(FALSE);
      IF xRec."Account No." = '' THEN
        EXIT(TRUE);

      CASE xRec."Account Type" OF
        xRec."Account Type"::"G/L Account":
          EXIT(GLAccount.GET(xRec."Account No.") AND (GLAccount.Name <> Description));
        xRec."Account Type"::Customer:
          EXIT(Customer.GET(xRec."Account No.") AND (Customer.Name <> Description));
        xRec."Account Type"::Vendor:
          EXIT(Vendor.GET(xRec."Account No.") AND (Vendor.Name <> Description));
        xRec."Account Type"::"Bank Account":
          EXIT(BankAccount.GET(xRec."Account No.") AND (BankAccount.Name <> Description));
        xRec."Account Type"::"Fixed Asset":
          EXIT(FixedAsset.GET(xRec."Account No.") AND (FixedAsset.Description <> Description));
        xRec."Account Type"::"IC Partner":
          EXIT(ICPartner.GET(xRec."Account No.") AND (ICPartner.Name <> Description));
        xRec."Account Type"::Employee:
          EXIT(Employee.GET(xRec."Account No.") AND (Employee.FullName <> Description));
      END;
      EXIT(FALSE);
    END;

    [External]
    PROCEDURE GetAppliesToDocEntryNo@63() : Integer;
    VAR
      CustLedgEntry@1000 : Record 21;
      VendLedgEntry@1001 : Record 25;
      AccType@1003 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';
      AccNo@1002 : Code[20];
    BEGIN
      GetAccTypeAndNo(Rec,AccType,AccNo);
      CASE AccType OF
        AccType::Customer:
          BEGIN
            GetAppliesToDocCustLedgEntry(CustLedgEntry,AccNo);
            EXIT(CustLedgEntry."Entry No.");
          END;
        AccType::Vendor:
          BEGIN
            GetAppliesToDocVendLedgEntry(VendLedgEntry,AccNo);
            EXIT(VendLedgEntry."Entry No.");
          END;
        AccType::Employee:
          BEGIN
            GetAppliesToDocEmplLedgEntry(EmplLedgEntry,AccNo);
            EXIT(EmplLedgEntry."Entry No.");
          END;
      END;
    END;

    [External]
    PROCEDURE GetAppliesToDocDueDate@62() : Date;
    VAR
      CustLedgEntry@1000 : Record 21;
      VendLedgEntry@1001 : Record 25;
      AccType@1003 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset';
      AccNo@1002 : Code[20];
    BEGIN
      GetAccTypeAndNo(Rec,AccType,AccNo);
      CASE AccType OF
        AccType::Customer:
          BEGIN
            GetAppliesToDocCustLedgEntry(CustLedgEntry,AccNo);
            EXIT(CustLedgEntry."Due Date");
          END;
        AccType::Vendor:
          BEGIN
            GetAppliesToDocVendLedgEntry(VendLedgEntry,AccNo);
            EXIT(VendLedgEntry."Due Date");
          END;
      END;
    END;

    LOCAL PROCEDURE GetAppliesToDocCustLedgEntry@60(VAR CustLedgEntry@1000 : Record 21;AccNo@1001 : Code[20]);
    BEGIN
      CustLedgEntry.SETRANGE("Customer No.",AccNo);
      CustLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        CustLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        CustLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF CustLedgEntry.FINDFIRST THEN;
      END ELSE
        IF "Applies-to ID" <> '' THEN BEGIN
          CustLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
          IF CustLedgEntry.FINDFIRST THEN;
        END;
    END;

    LOCAL PROCEDURE GetAppliesToDocVendLedgEntry@53(VAR VendLedgEntry@1000 : Record 25;AccNo@1001 : Code[20]);
    BEGIN
      VendLedgEntry.SETRANGE("Vendor No.",AccNo);
      VendLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        VendLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        VendLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF VendLedgEntry.FINDFIRST THEN;
      END ELSE
        IF "Applies-to ID" <> '' THEN BEGIN
          VendLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
          IF VendLedgEntry.FINDFIRST THEN;
        END;
    END;

    LOCAL PROCEDURE GetAppliesToDocEmplLedgEntry@180(VAR EmplLedgEntry@1000 : Record 5222;AccNo@1001 : Code[20]);
    BEGIN
      EmplLedgEntry.SETRANGE("Employee No.",AccNo);
      EmplLedgEntry.SETRANGE(Open,TRUE);
      IF "Applies-to Doc. No." <> '' THEN BEGIN
        EmplLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
        EmplLedgEntry.SETRANGE("Document No.","Applies-to Doc. No.");
        IF EmplLedgEntry.FINDFIRST THEN;
      END ELSE
        IF "Applies-to ID" <> '' THEN BEGIN
          EmplLedgEntry.SETRANGE("Applies-to ID","Applies-to ID");
          IF EmplLedgEntry.FINDFIRST THEN;
        END;
    END;

    LOCAL PROCEDURE SetJournalLineFieldsFromApplication@51();
    VAR
      AccType@1005 : 'G/L Account,Customer,Vendor,Bank Account,Fixed Asset,IC Partner,Employee';
      AccNo@1004 : Code[20];
    BEGIN
      "Exported to Payment File" := FALSE;
      GetAccTypeAndNo(Rec,AccType,AccNo);
      CASE AccType OF
        AccType::Customer:
          IF "Applies-to ID" <> '' THEN BEGIN
            IF FindFirstCustLedgEntryWithAppliesToID(AccNo,"Applies-to ID") THEN BEGIN
              CustLedgEntry.SETRANGE("Exported to Payment File",TRUE);
              "Exported to Payment File" := CustLedgEntry.FINDFIRST;
            END
          END ELSE
            IF "Applies-to Doc. No." <> '' THEN
              IF FindFirstCustLedgEntryWithAppliesToDocNo(AccNo,"Applies-to Doc. No.") THEN BEGIN
                "Exported to Payment File" := CustLedgEntry."Exported to Payment File";
                "Applies-to Ext. Doc. No." := CustLedgEntry."External Document No.";
              END;
        AccType::Vendor:
          IF "Applies-to ID" <> '' THEN BEGIN
            IF FindFirstVendLedgEntryWithAppliesToID(AccNo,"Applies-to ID") THEN BEGIN
              VendLedgEntry.SETRANGE("Exported to Payment File",TRUE);
              "Exported to Payment File" := VendLedgEntry.FINDFIRST;
            END
          END ELSE
            IF "Applies-to Doc. No." <> '' THEN
              IF FindFirstVendLedgEntryWithAppliesToDocNo(AccNo,"Applies-to Doc. No.") THEN BEGIN
                "Exported to Payment File" := VendLedgEntry."Exported to Payment File";
                "Applies-to Ext. Doc. No." := VendLedgEntry."External Document No.";
              END;
        AccType::Employee:
          IF "Applies-to ID" <> '' THEN BEGIN
            IF FindFirstEmplLedgEntryWithAppliesToID(AccNo,"Applies-to ID") THEN BEGIN
              EmplLedgEntry.SETRANGE("Exported to Payment File",TRUE);
              "Exported to Payment File" := EmplLedgEntry.FINDFIRST;
            END
          END ELSE
            IF "Applies-to Doc. No." <> '' THEN
              IF FindFirstEmplLedgEntryWithAppliesToDocNo(AccNo,"Applies-to Doc. No.") THEN
                "Exported to Payment File" := EmplLedgEntry."Exported to Payment File";
      END;
    END;

    LOCAL PROCEDURE GetAccTypeAndNo@52(GenJnlLine2@1002 : Record 81;VAR AccType@1000 : Option;VAR AccNo@1001 : Code[20]);
    BEGIN
      IF GenJnlLine2."Bal. Account Type" IN
         [GenJnlLine2."Bal. Account Type"::Customer,GenJnlLine2."Bal. Account Type"::Vendor,GenJnlLine2."Bal. Account Type"::Employee]
      THEN BEGIN
        AccType := GenJnlLine2."Bal. Account Type";
        AccNo := GenJnlLine2."Bal. Account No.";
      END ELSE BEGIN
        AccType := GenJnlLine2."Account Type";
        AccNo := GenJnlLine2."Account No.";
      END;
    END;

    LOCAL PROCEDURE FindFirstCustLedgEntryWithAppliesToID@54(AccNo@1000 : Code[20];AppliesToID@1001 : Code[50]) : Boolean;
    BEGIN
      CustLedgEntry.RESET;
      CustLedgEntry.SETCURRENTKEY("Customer No.","Applies-to ID",Open);
      CustLedgEntry.SETRANGE("Customer No.",AccNo);
      CustLedgEntry.SETRANGE("Applies-to ID",AppliesToID);
      CustLedgEntry.SETRANGE(Open,TRUE);
      EXIT(CustLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE FindFirstCustLedgEntryWithAppliesToDocNo@55(AccNo@1000 : Code[20];AppliestoDocNo@1001 : Code[20]) : Boolean;
    BEGIN
      CustLedgEntry.RESET;
      CustLedgEntry.SETCURRENTKEY("Document No.");
      CustLedgEntry.SETRANGE("Document No.",AppliestoDocNo);
      CustLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
      CustLedgEntry.SETRANGE("Customer No.",AccNo);
      CustLedgEntry.SETRANGE(Open,TRUE);
      EXIT(CustLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE FindFirstVendLedgEntryWithAppliesToID@58(AccNo@1000 : Code[20];AppliesToID@1001 : Code[50]) : Boolean;
    BEGIN
      VendLedgEntry.RESET;
      VendLedgEntry.SETCURRENTKEY("Vendor No.","Applies-to ID",Open);
      VendLedgEntry.SETRANGE("Vendor No.",AccNo);
      VendLedgEntry.SETRANGE("Applies-to ID",AppliesToID);
      VendLedgEntry.SETRANGE(Open,TRUE);
      EXIT(VendLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE FindFirstVendLedgEntryWithAppliesToDocNo@59(AccNo@1000 : Code[20];AppliestoDocNo@1001 : Code[20]) : Boolean;
    BEGIN
      VendLedgEntry.RESET;
      VendLedgEntry.SETCURRENTKEY("Document No.");
      VendLedgEntry.SETRANGE("Document No.",AppliestoDocNo);
      VendLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
      VendLedgEntry.SETRANGE("Vendor No.",AccNo);
      VendLedgEntry.SETRANGE(Open,TRUE);
      EXIT(VendLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE FindFirstEmplLedgEntryWithAppliesToID@191(AccNo@1000 : Code[20];AppliesToID@1001 : Code[50]) : Boolean;
    BEGIN
      EmplLedgEntry.RESET;
      EmplLedgEntry.SETCURRENTKEY("Employee No.","Applies-to ID",Open);
      EmplLedgEntry.SETRANGE("Employee No.",AccNo);
      EmplLedgEntry.SETRANGE("Applies-to ID",AppliesToID);
      EmplLedgEntry.SETRANGE(Open,TRUE);
      EXIT(EmplLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE FindFirstEmplLedgEntryWithAppliesToDocNo@190(AccNo@1000 : Code[20];AppliestoDocNo@1001 : Code[20]) : Boolean;
    BEGIN
      EmplLedgEntry.RESET;
      EmplLedgEntry.SETCURRENTKEY("Document No.");
      EmplLedgEntry.SETRANGE("Document No.",AppliestoDocNo);
      EmplLedgEntry.SETRANGE("Document Type","Applies-to Doc. Type");
      EmplLedgEntry.SETRANGE("Employee No.",AccNo);
      EmplLedgEntry.SETRANGE(Open,TRUE);
      EXIT(EmplLedgEntry.FINDFIRST)
    END;

    LOCAL PROCEDURE ClearPostingGroups@45();
    BEGIN
      "Gen. Posting Type" := "Gen. Posting Type"::" ";
      "Gen. Bus. Posting Group" := '';
      "Gen. Prod. Posting Group" := '';
      "VAT Bus. Posting Group" := '';
      "VAT Prod. Posting Group" := '';

      OnAfterClearPostingGroups(Rec);
    END;

    LOCAL PROCEDURE ClearBalancePostingGroups@48();
    BEGIN
      "Bal. Gen. Posting Type" := "Bal. Gen. Posting Type"::" ";
      "Bal. Gen. Bus. Posting Group" := '';
      "Bal. Gen. Prod. Posting Group" := '';
      "Bal. VAT Bus. Posting Group" := '';
      "Bal. VAT Prod. Posting Group" := '';

      OnAfterClearBalPostingGroups(Rec);
    END;

    LOCAL PROCEDURE CleanLine@66();
    BEGIN
      UpdateLineBalance;
      UpdateSource;
      CreateDim(
        DimMgt.TypeToTableID1("Account Type"),"Account No.",
        DimMgt.TypeToTableID1("Bal. Account Type"),"Bal. Account No.",
        DATABASE::Job,"Job No.",
        DATABASE::"Salesperson/Purchaser","Salespers./Purch. Code",
        DATABASE::Campaign,"Campaign No.");
      IF NOT ("Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor]) THEN
        "Recipient Bank Account" := '';
      IF xRec."Account No." <> '' THEN BEGIN
        ClearPostingGroups;
        "Tax Area Code" := '';
        "Tax Liable" := FALSE;
        "Tax Group Code" := '';
        "Bill-to/Pay-to No." := '';
        "Ship-to/Order Address Code" := '';
        "Sell-to/Buy-from No." := '';
        UpdateCountryCodeAndVATRegNo('');
      END;

      CASE "Account Type" OF
        "Account Type"::"G/L Account":
          UpdateAccountID;
        "Account Type"::Customer:
          UpdateCustomerID;
      END;
    END;

    LOCAL PROCEDURE ReplaceDescription@84() : Boolean;
    BEGIN
      IF "Bal. Account No." = '' THEN
        EXIT(TRUE);
      GenJnlBatch.GET("Journal Template Name","Journal Batch Name");
      EXIT(GenJnlBatch."Bal. Account No." <> '');
    END;

    LOCAL PROCEDURE AddCustVendIC@228(AccountType@1000 : Option;AccountNo@1001 : Code[20]) : Boolean;
    BEGIN
      SETRANGE("Account Type",AccountType);
      SETRANGE("Account No.",AccountNo);
      IF NOT ISEMPTY THEN
        EXIT(FALSE);

      RESET;
      IF FINDLAST THEN;
      "Line No." += 10000;

      "Account Type" := AccountType;
      "Account No." := AccountNo;
      INSERT;
      EXIT(TRUE);
    END;

    [External]
    PROCEDURE IsCustVendICAdded@209(GenJournalLine@1000 : Record 81) : Boolean;
    BEGIN
      IF (GenJournalLine."Account No." <> '') AND
         (GenJournalLine."Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::"IC Partner"])
      THEN
        EXIT(AddCustVendIC(GenJournalLine."Account Type",GenJournalLine."Account No."));

      IF (GenJournalLine."Bal. Account No." <> '') AND
         (GenJournalLine."Bal. Account Type" IN ["Bal. Account Type"::Customer,
                                                 "Bal. Account Type"::Vendor,
                                                 "Bal. Account Type"::"IC Partner"])
      THEN
        EXIT(AddCustVendIC(GenJournalLine."Bal. Account Type",GenJournalLine."Bal. Account No."));

      EXIT(FALSE);
    END;

    [External]
    PROCEDURE IsExportedToPaymentFile@1020() : Boolean;
    BEGIN
      EXIT(IsPaymentJournallLineExported OR IsAppliedToVendorLedgerEntryExported);
    END;

    [External]
    PROCEDURE IsPaymentJournallLineExported@80() : Boolean;
    VAR
      GenJnlLine@1001 : Record 81;
      OldFilterGroup@1000 : Integer;
      HasExportedLines@1002 : Boolean;
    BEGIN
      WITH GenJnlLine DO BEGIN
        COPYFILTERS(Rec);
        OldFilterGroup := FILTERGROUP;
        FILTERGROUP := 10;
        SETRANGE("Exported to Payment File",TRUE);
        HasExportedLines := NOT ISEMPTY;
        SETRANGE("Exported to Payment File");
        FILTERGROUP := OldFilterGroup;
      END;
      EXIT(HasExportedLines);
    END;

    [External]
    PROCEDURE IsAppliedToVendorLedgerEntryExported@79() : Boolean;
    VAR
      GenJnlLine@1001 : Record 81;
      VendLedgerEntry@1002 : Record 25;
    BEGIN
      GenJnlLine.COPYFILTERS(Rec);

      IF GenJnlLine.FINDSET THEN
        REPEAT
          IF GenJnlLine.IsApplied THEN BEGIN
            VendLedgerEntry.SETRANGE("Vendor No.",GenJnlLine."Account No.");
            IF GenJnlLine."Applies-to Doc. No." <> '' THEN BEGIN
              VendLedgerEntry.SETRANGE("Document Type",GenJnlLine."Applies-to Doc. Type");
              VendLedgerEntry.SETRANGE("Document No.",GenJnlLine."Applies-to Doc. No.");
            END;
            IF GenJnlLine."Applies-to ID" <> '' THEN
              VendLedgerEntry.SETRANGE("Applies-to ID",GenJnlLine."Applies-to ID");
            VendLedgerEntry.SETRANGE("Exported to Payment File",TRUE);
            IF NOT VendLedgerEntry.ISEMPTY THEN
              EXIT(TRUE);
          END;

          VendLedgerEntry.RESET;
          VendLedgerEntry.SETRANGE("Vendor No.",GenJnlLine."Account No.");
          VendLedgerEntry.SETRANGE("Applies-to Doc. Type",GenJnlLine."Document Type");
          VendLedgerEntry.SETRANGE("Applies-to Doc. No.",GenJnlLine."Document No.");
          VendLedgerEntry.SETRANGE("Exported to Payment File",TRUE);
          IF NOT VendLedgerEntry.ISEMPTY THEN
            EXIT(TRUE);
        UNTIL GenJnlLine.NEXT = 0;

      EXIT(FALSE);
    END;

    LOCAL PROCEDURE ClearAppliedAutomatically@72();
    BEGIN
      IF CurrFieldNo <> 0 THEN
        "Applied Automatically" := FALSE;
    END;

    [External]
    PROCEDURE SetPostingDateAsDueDate@77(DueDate@1002 : Date;DateOffset@1000 : DateFormula) : Boolean;
    VAR
      NewPostingDate@1001 : Date;
    BEGIN
      IF DueDate = 0D THEN
        EXIT(FALSE);

      NewPostingDate := CALCDATE(DateOffset,DueDate);
      IF NewPostingDate < WORKDATE THEN BEGIN
        VALIDATE("Posting Date",WORKDATE);
        EXIT(TRUE);
      END;

      VALIDATE("Posting Date",NewPostingDate);
      EXIT(FALSE);
    END;

    [External]
    PROCEDURE CalculatePostingDate@76();
    VAR
      GenJnlLine@1000 : Record 81;
      EmptyDateFormula@1001 : DateFormula;
    BEGIN
      GenJnlLine.COPY(Rec);
      GenJnlLine.SETRANGE("Journal Template Name","Journal Template Name");
      GenJnlLine.SETRANGE("Journal Batch Name","Journal Batch Name");

      IF GenJnlLine.FINDSET THEN BEGIN
        Window.OPEN(CalcPostDateMsg);
        REPEAT
          EVALUATE(EmptyDateFormula,'<0D>');
          GenJnlLine.SetPostingDateAsDueDate(GenJnlLine.GetAppliesToDocDueDate,EmptyDateFormula);
          GenJnlLine.MODIFY(TRUE);
          Window.UPDATE(1,GenJnlLine."Document No.");
        UNTIL GenJnlLine.NEXT = 0;
        Window.CLOSE;
      END;
    END;

    [External]
    PROCEDURE ImportBankStatement@73();
    VAR
      ProcessGenJnlLines@1000 : Codeunit 1247;
    BEGIN
      ProcessGenJnlLines.ImportBankStatement(Rec);
    END;

    [External]
    PROCEDURE ExportPaymentFile@81();
    VAR
      BankAcc@1000 : Record 270;
    BEGIN
      IF NOT FINDSET THEN
        ERROR(NothingToExportErr);
      SETRANGE("Journal Template Name","Journal Template Name");
      SETRANGE("Journal Batch Name","Journal Batch Name");
      TESTFIELD("Check Printed",FALSE);

      CheckDocNoOnLines;
      IF IsExportedToPaymentFile THEN
        IF NOT CONFIRM(ExportAgainQst) THEN
          EXIT;
      BankAcc.GET("Bal. Account No.");
      IF BankAcc.GetPaymentExportCodeunitID > 0 THEN
        CODEUNIT.RUN(BankAcc.GetPaymentExportCodeunitID,Rec)
      ELSE
        CODEUNIT.RUN(CODEUNIT::"Exp. Launcher Gen. Jnl.",Rec);
    END;

    [External]
    PROCEDURE TotalExportedAmount@85() : Decimal;
    VAR
      CreditTransferEntry@1000 : Record 1206;
    BEGIN
      IF NOT ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::Employee]) THEN
        EXIT(0);
      GenJnlShowCTEntries.SetFiltersOnCreditTransferEntry(Rec,CreditTransferEntry);
      CreditTransferEntry.CALCSUMS("Transfer Amount");
      EXIT(CreditTransferEntry."Transfer Amount");
    END;

    [External]
    PROCEDURE DrillDownExportedAmount@95();
    VAR
      CreditTransferEntry@1000 : Record 1206;
    BEGIN
      IF NOT ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor,"Account Type"::Employee]) THEN
        EXIT;
      GenJnlShowCTEntries.SetFiltersOnCreditTransferEntry(Rec,CreditTransferEntry);
      PAGE.RUN(PAGE::"Credit Transfer Reg. Entries",CreditTransferEntry);
    END;

    LOCAL PROCEDURE CopyDimensionsFromJobTaskLine@82();
    BEGIN
      "Dimension Set ID" := TempJobJnlLine."Dimension Set ID";
      "Shortcut Dimension 1 Code" := TempJobJnlLine."Shortcut Dimension 1 Code";
      "Shortcut Dimension 2 Code" := TempJobJnlLine."Shortcut Dimension 2 Code";
    END;

    [External]
    PROCEDURE CopyDocumentFields@129(DocType@1004 : Option;DocNo@1003 : Code[20];ExtDocNo@1002 : Text[35];SourceCode@1001 : Code[10];NoSeriesCode@1000 : Code[20]);
    BEGIN
      "Document Type" := DocType;
      "Document No." := DocNo;
      "External Document No." := ExtDocNo;
      "Source Code" := SourceCode;
      IF NoSeriesCode <> '' THEN
        "Posting No. Series" := NoSeriesCode;
    END;

    [External]
    PROCEDURE CopyCustLedgEntry@134(CustLedgerEntry@1000 : Record 21);
    BEGIN
      "Document Type" := CustLedgerEntry."Document Type";
      Description := CustLedgerEntry.Description;
      "Shortcut Dimension 1 Code" := CustLedgerEntry."Global Dimension 1 Code";
      "Shortcut Dimension 2 Code" := CustLedgerEntry."Global Dimension 2 Code";
      "Dimension Set ID" := CustLedgerEntry."Dimension Set ID";
      "Posting Group" := CustLedgerEntry."Customer Posting Group";
      "Source Type" := "Source Type"::Customer;
      "Source No." := CustLedgerEntry."Customer No.";

      OnAfterCopyGenJnlLineFromCustLedgEntry(CustLedgEntry,Rec);
    END;

    [External]
    PROCEDURE CopyFromGenJnlAllocation@113(GenJnlAlloc@1000 : Record 221);
    BEGIN
      "Account No." := GenJnlAlloc."Account No.";
      "Shortcut Dimension 1 Code" := GenJnlAlloc."Shortcut Dimension 1 Code";
      "Shortcut Dimension 2 Code" := GenJnlAlloc."Shortcut Dimension 2 Code";
      "Dimension Set ID" := GenJnlAlloc."Dimension Set ID";
      "Gen. Posting Type" := GenJnlAlloc."Gen. Posting Type";
      "Gen. Bus. Posting Group" := GenJnlAlloc."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := GenJnlAlloc."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := GenJnlAlloc."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := GenJnlAlloc."VAT Prod. Posting Group";
      "Tax Area Code" := GenJnlAlloc."Tax Area Code";
      "Tax Liable" := GenJnlAlloc."Tax Liable";
      "Tax Group Code" := GenJnlAlloc."Tax Group Code";
      "Use Tax" := GenJnlAlloc."Use Tax";
      "VAT Calculation Type" := GenJnlAlloc."VAT Calculation Type";
      "VAT Amount" := GenJnlAlloc."VAT Amount";
      "VAT Base Amount" := GenJnlAlloc.Amount - GenJnlAlloc."VAT Amount";
      "VAT %" := GenJnlAlloc."VAT %";
      "Source Currency Amount" := GenJnlAlloc."Additional-Currency Amount";
      Amount := GenJnlAlloc.Amount;
      "Amount (LCY)" := GenJnlAlloc.Amount;

      OnAfterCopyGenJnlLineFromGenJnlAllocation(GenJnlAlloc,Rec);
    END;

    [External]
    PROCEDURE CopyFromInvoicePostBuffer@112(InvoicePostBuffer@1001 : Record 49);
    BEGIN
      "Account No." := InvoicePostBuffer."G/L Account";
      "System-Created Entry" := InvoicePostBuffer."System-Created Entry";
      "Gen. Bus. Posting Group" := InvoicePostBuffer."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := InvoicePostBuffer."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := InvoicePostBuffer."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := InvoicePostBuffer."VAT Prod. Posting Group";
      "Tax Area Code" := InvoicePostBuffer."Tax Area Code";
      "Tax Liable" := InvoicePostBuffer."Tax Liable";
      "Tax Group Code" := InvoicePostBuffer."Tax Group Code";
      "Use Tax" := InvoicePostBuffer."Use Tax";
      Quantity := InvoicePostBuffer.Quantity;
      "VAT %" := InvoicePostBuffer."VAT %";
      "VAT Calculation Type" := InvoicePostBuffer."VAT Calculation Type";
      "VAT Posting" := "VAT Posting"::"Manual VAT Entry";
      "Job No." := InvoicePostBuffer."Job No.";
      "Deferral Code" := InvoicePostBuffer."Deferral Code";
      "Deferral Line No." := InvoicePostBuffer."Deferral Line No.";
      Amount := InvoicePostBuffer.Amount;
      "Source Currency Amount" := InvoicePostBuffer."Amount (ACY)";
      "VAT Base Amount" := InvoicePostBuffer."VAT Base Amount";
      "Source Curr. VAT Base Amount" := InvoicePostBuffer."VAT Base Amount (ACY)";
      "VAT Amount" := InvoicePostBuffer."VAT Amount";
      "Source Curr. VAT Amount" := InvoicePostBuffer."VAT Amount (ACY)";
      "VAT Difference" := InvoicePostBuffer."VAT Difference";
      "VAT Base Before Pmt. Disc." := InvoicePostBuffer."VAT Base Before Pmt. Disc.";

      OnAfterCopyGenJnlLineFromInvPostBuffer(InvoicePostBuffer,Rec);
    END;

    [External]
    PROCEDURE CopyFromInvoicePostBufferFA@111(InvoicePostBuffer@1001 : Record 49);
    BEGIN
      "Account Type" := "Account Type"::"Fixed Asset";
      "FA Posting Date" := InvoicePostBuffer."FA Posting Date";
      "Depreciation Book Code" := InvoicePostBuffer."Depreciation Book Code";
      "Salvage Value" := InvoicePostBuffer."Salvage Value";
      "Depr. until FA Posting Date" := InvoicePostBuffer."Depr. until FA Posting Date";
      "Depr. Acquisition Cost" := InvoicePostBuffer."Depr. Acquisition Cost";
      "Maintenance Code" := InvoicePostBuffer."Maintenance Code";
      "Insurance No." := InvoicePostBuffer."Insurance No.";
      "Budgeted FA No." := InvoicePostBuffer."Budgeted FA No.";
      "Duplicate in Depreciation Book" := InvoicePostBuffer."Duplicate in Depreciation Book";
      "Use Duplication List" := InvoicePostBuffer."Use Duplication List";

      OnAfterCopyGenJnlLineFromInvPostBufferFA(InvoicePostBuffer,Rec);
    END;

    [External]
    PROCEDURE CopyFromPrepmtInvoiceBuffer@110(PrepmtInvLineBuffer@1001 : Record 461);
    BEGIN
      "Account No." := PrepmtInvLineBuffer."G/L Account No.";
      "Gen. Bus. Posting Group" := PrepmtInvLineBuffer."Gen. Bus. Posting Group";
      "Gen. Prod. Posting Group" := PrepmtInvLineBuffer."Gen. Prod. Posting Group";
      "VAT Bus. Posting Group" := PrepmtInvLineBuffer."VAT Bus. Posting Group";
      "VAT Prod. Posting Group" := PrepmtInvLineBuffer."VAT Prod. Posting Group";
      "Tax Area Code" := PrepmtInvLineBuffer."Tax Area Code";
      "Tax Liable" := PrepmtInvLineBuffer."Tax Liable";
      "Tax Group Code" := PrepmtInvLineBuffer."Tax Group Code";
      "Use Tax" := FALSE;
      "VAT Calculation Type" := PrepmtInvLineBuffer."VAT Calculation Type";
      "Job No." := PrepmtInvLineBuffer."Job No.";
      Amount := PrepmtInvLineBuffer.Amount;
      "Source Currency Amount" := PrepmtInvLineBuffer."Amount (ACY)";
      "VAT Base Amount" := PrepmtInvLineBuffer."VAT Base Amount";
      "Source Curr. VAT Base Amount" := PrepmtInvLineBuffer."VAT Base Amount (ACY)";
      "VAT Amount" := PrepmtInvLineBuffer."VAT Amount";
      "Source Curr. VAT Amount" := PrepmtInvLineBuffer."VAT Amount (ACY)";
      "VAT Difference" := PrepmtInvLineBuffer."VAT Difference";
      "VAT Base Before Pmt. Disc." := PrepmtInvLineBuffer."VAT Base Before Pmt. Disc.";

      OnAfterCopyGenJnlLineFromPrepmtInvBuffer(PrepmtInvLineBuffer,Rec);
    END;

    [External]
    PROCEDURE CopyFromPurchHeader@109(PurchHeader@1001 : Record 38);
    BEGIN
      "Source Currency Code" := PurchHeader."Currency Code";
      "Currency Factor" := PurchHeader."Currency Factor";
      Correction := PurchHeader.Correction;
      "VAT Base Discount %" := PurchHeader."VAT Base Discount %";
      "Sell-to/Buy-from No." := PurchHeader."Buy-from Vendor No.";
      "Bill-to/Pay-to No." := PurchHeader."Pay-to Vendor No.";
      "Country/Region Code" := PurchHeader."VAT Country/Region Code";
      "VAT Registration No." := PurchHeader."VAT Registration No.";
      "Source Type" := "Source Type"::Vendor;
      "Source No." := PurchHeader."Pay-to Vendor No.";
      "Posting No. Series" := PurchHeader."Posting No. Series";
      "IC Partner Code" := PurchHeader."Pay-to IC Partner Code";
      "Ship-to/Order Address Code" := PurchHeader."Order Address Code";
      "Salespers./Purch. Code" := PurchHeader."Purchaser Code";
      "On Hold" := PurchHeader."On Hold";
      IF "Account Type" = "Account Type"::Vendor THEN
        "Posting Group" := PurchHeader."Vendor Posting Group";

      OnAfterCopyGenJnlLineFromPurchHeader(PurchHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromPurchHeaderPrepmt@127(PurchHeader@1000 : Record 38);
    BEGIN
      "Source Currency Code" := PurchHeader."Currency Code";
      "VAT Base Discount %" := PurchHeader."VAT Base Discount %";
      "Bill-to/Pay-to No." := PurchHeader."Pay-to Vendor No.";
      "Country/Region Code" := PurchHeader."VAT Country/Region Code";
      "VAT Registration No." := PurchHeader."VAT Registration No.";
      "Source Type" := "Source Type"::Vendor;
      "Source No." := PurchHeader."Pay-to Vendor No.";
      "IC Partner Code" := PurchHeader."Buy-from IC Partner Code";
      "VAT Posting" := "VAT Posting"::"Manual VAT Entry";
      "System-Created Entry" := TRUE;
      Prepayment := TRUE;

      OnAfterCopyGenJnlLineFromPurchHeaderPrepmt(PurchHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromPurchHeaderPrepmtPost@137(PurchHeader@1000 : Record 38;UsePmtDisc@1001 : Boolean);
    BEGIN
      "Account Type" := "Account Type"::Vendor;
      "Account No." := PurchHeader."Pay-to Vendor No.";
      SetCurrencyFactor(PurchHeader."Currency Code",PurchHeader."Currency Factor");
      "Source Currency Code" := PurchHeader."Currency Code";
      "Bill-to/Pay-to No." := PurchHeader."Pay-to Vendor No.";
      "Sell-to/Buy-from No." := PurchHeader."Buy-from Vendor No.";
      "Salespers./Purch. Code" := PurchHeader."Purchaser Code";
      "Source Type" := "Source Type"::Customer;
      "Source No." := PurchHeader."Pay-to Vendor No.";
      "IC Partner Code" := PurchHeader."Buy-from IC Partner Code";
      "System-Created Entry" := TRUE;
      Prepayment := TRUE;
      "Due Date" := PurchHeader."Prepayment Due Date";
      "Payment Terms Code" := PurchHeader."Payment Terms Code";
      IF UsePmtDisc THEN BEGIN
        "Pmt. Discount Date" := PurchHeader."Prepmt. Pmt. Discount Date";
        "Payment Discount %" := PurchHeader."Prepmt. Payment Discount %";
      END;

      OnAfterCopyGenJnlLineFromPurchHeaderPrepmtPost(PurchHeader,Rec,UsePmtDisc);
    END;

    [External]
    PROCEDURE CopyFromPurchHeaderApplyTo@107(PurchHeader@1001 : Record 38);
    BEGIN
      "Applies-to Doc. Type" := PurchHeader."Applies-to Doc. Type";
      "Applies-to Doc. No." := PurchHeader."Applies-to Doc. No.";
      "Applies-to ID" := PurchHeader."Applies-to ID";
      "Allow Application" := PurchHeader."Bal. Account No." = '';

      OnAfterCopyGenJnlLineFromPurchHeaderApplyTo(PurchHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromPurchHeaderPayment@104(PurchHeader@1001 : Record 38);
    BEGIN
      "Due Date" := PurchHeader."Due Date";
      "Payment Terms Code" := PurchHeader."Payment Terms Code";
      "Pmt. Discount Date" := PurchHeader."Pmt. Discount Date";
      "Payment Discount %" := PurchHeader."Payment Discount %";
      "Creditor No." := PurchHeader."Creditor No.";
      "Payment Reference" := PurchHeader."Payment Reference";
      "Payment Method Code" := PurchHeader."Payment Method Code";

      OnAfterCopyGenJnlLineFromPurchHeaderPayment(PurchHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromSalesHeader@103(SalesHeader@1001 : Record 36);
    BEGIN
      "Source Currency Code" := SalesHeader."Currency Code";
      "Currency Factor" := SalesHeader."Currency Factor";
      "VAT Base Discount %" := SalesHeader."VAT Base Discount %";
      Correction := SalesHeader.Correction;
      "EU 3-Party Trade" := SalesHeader."EU 3-Party Trade";
      "Sell-to/Buy-from No." := SalesHeader."Sell-to Customer No.";
      "Bill-to/Pay-to No." := SalesHeader."Bill-to Customer No.";
      "Country/Region Code" := SalesHeader."VAT Country/Region Code";
      "VAT Registration No." := SalesHeader."VAT Registration No.";
      "Source Type" := "Source Type"::Customer;
      "Source No." := SalesHeader."Bill-to Customer No.";
      "Posting No. Series" := SalesHeader."Posting No. Series";
      "Ship-to/Order Address Code" := SalesHeader."Ship-to Code";
      "IC Partner Code" := SalesHeader."Sell-to IC Partner Code";
      "Salespers./Purch. Code" := SalesHeader."Salesperson Code";
      "On Hold" := SalesHeader."On Hold";
      IF "Account Type" = "Account Type"::Customer THEN
        "Posting Group" := SalesHeader."Customer Posting Group";

      OnAfterCopyGenJnlLineFromSalesHeader(SalesHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromSalesHeaderPrepmt@119(SalesHeader@1000 : Record 36);
    BEGIN
      "Source Currency Code" := SalesHeader."Currency Code";
      "VAT Base Discount %" := SalesHeader."VAT Base Discount %";
      "EU 3-Party Trade" := SalesHeader."EU 3-Party Trade";
      "Bill-to/Pay-to No." := SalesHeader."Bill-to Customer No.";
      "Country/Region Code" := SalesHeader."VAT Country/Region Code";
      "VAT Registration No." := SalesHeader."VAT Registration No.";
      "Source Type" := "Source Type"::Customer;
      "Source No." := SalesHeader."Bill-to Customer No.";
      "IC Partner Code" := SalesHeader."Sell-to IC Partner Code";
      "VAT Posting" := "VAT Posting"::"Manual VAT Entry";
      "System-Created Entry" := TRUE;
      Prepayment := TRUE;

      OnAfterCopyGenJnlLineFromSalesHeaderPrepmt(SalesHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromSalesHeaderPrepmtPost@138(SalesHeader@1000 : Record 36;UsePmtDisc@1001 : Boolean);
    BEGIN
      "Account Type" := "Account Type"::Customer;
      "Account No." := SalesHeader."Bill-to Customer No.";
      SetCurrencyFactor(SalesHeader."Currency Code",SalesHeader."Currency Factor");
      "Source Currency Code" := SalesHeader."Currency Code";
      "Sell-to/Buy-from No." := SalesHeader."Sell-to Customer No.";
      "Bill-to/Pay-to No." := SalesHeader."Bill-to Customer No.";
      "Salespers./Purch. Code" := SalesHeader."Salesperson Code";
      "Source Type" := "Source Type"::Customer;
      "Source No." := SalesHeader."Bill-to Customer No.";
      "IC Partner Code" := SalesHeader."Sell-to IC Partner Code";
      "System-Created Entry" := TRUE;
      Prepayment := TRUE;
      "Due Date" := SalesHeader."Prepayment Due Date";
      "Payment Terms Code" := SalesHeader."Prepmt. Payment Terms Code";
      IF UsePmtDisc THEN BEGIN
        "Pmt. Discount Date" := SalesHeader."Prepmt. Pmt. Discount Date";
        "Payment Discount %" := SalesHeader."Prepmt. Payment Discount %";
      END;

      OnAfterCopyGenJnlLineFromSalesHeaderPrepmtPost(SalesHeader,Rec,UsePmtDisc);
    END;

    [External]
    PROCEDURE CopyFromSalesHeaderApplyTo@100(SalesHeader@1001 : Record 36);
    BEGIN
      "Applies-to Doc. Type" := SalesHeader."Applies-to Doc. Type";
      "Applies-to Doc. No." := SalesHeader."Applies-to Doc. No.";
      "Applies-to ID" := SalesHeader."Applies-to ID";
      "Allow Application" := SalesHeader."Bal. Account No." = '';

      OnAfterCopyGenJnlLineFromSalesHeaderApplyTo(SalesHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromSalesHeaderPayment@99(SalesHeader@1001 : Record 36);
    BEGIN
      "Due Date" := SalesHeader."Due Date";
      "Payment Terms Code" := SalesHeader."Payment Terms Code";
      "Payment Method Code" := SalesHeader."Payment Method Code";
      "Pmt. Discount Date" := SalesHeader."Pmt. Discount Date";
      "Payment Discount %" := SalesHeader."Payment Discount %";
      "Direct Debit Mandate ID" := SalesHeader."Direct Debit Mandate ID";

      OnAfterCopyGenJnlLineFromSalesHeaderPayment(SalesHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromServiceHeader@98(ServiceHeader@1001 : Record 5900);
    BEGIN
      "Source Currency Code" := ServiceHeader."Currency Code";
      Correction := ServiceHeader.Correction;
      "VAT Base Discount %" := ServiceHeader."VAT Base Discount %";
      "Sell-to/Buy-from No." := ServiceHeader."Customer No.";
      "Bill-to/Pay-to No." := ServiceHeader."Bill-to Customer No.";
      "Country/Region Code" := ServiceHeader."VAT Country/Region Code";
      "VAT Registration No." := ServiceHeader."VAT Registration No.";
      "Source Type" := "Source Type"::Customer;
      "Source No." := ServiceHeader."Bill-to Customer No.";
      "Posting No. Series" := ServiceHeader."Posting No. Series";
      "Ship-to/Order Address Code" := ServiceHeader."Ship-to Code";
      "EU 3-Party Trade" := ServiceHeader."EU 3-Party Trade";
      "Salespers./Purch. Code" := ServiceHeader."Salesperson Code";

      OnAfterCopyGenJnlLineFromServHeader(ServiceHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromServiceHeaderApplyTo@97(ServiceHeader@1001 : Record 5900);
    BEGIN
      "Applies-to Doc. Type" := ServiceHeader."Applies-to Doc. Type";
      "Applies-to Doc. No." := ServiceHeader."Applies-to Doc. No.";
      "Applies-to ID" := ServiceHeader."Applies-to ID";
      "Allow Application" := ServiceHeader."Bal. Account No." = '';

      OnAfterCopyGenJnlLineFromServHeaderApplyTo(ServiceHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromServiceHeaderPayment@96(ServiceHeader@1001 : Record 5900);
    BEGIN
      "Due Date" := ServiceHeader."Due Date";
      "Payment Terms Code" := ServiceHeader."Payment Terms Code";
      "Payment Method Code" := ServiceHeader."Payment Method Code";
      "Pmt. Discount Date" := ServiceHeader."Pmt. Discount Date";
      "Payment Discount %" := ServiceHeader."Payment Discount %";

      OnAfterCopyGenJnlLineFromServHeaderPayment(ServiceHeader,Rec);
    END;

    [External]
    PROCEDURE CopyFromPaymentCustLedgEntry@205(CustLedgEntry@1000 : Record 21);
    BEGIN
      "Document No." := CustLedgEntry."Document No.";
      "Account Type" := "Account Type"::Customer;
      "Account No." := CustLedgEntry."Customer No.";
      "Shortcut Dimension 1 Code" := CustLedgEntry."Global Dimension 1 Code";
      "Shortcut Dimension 2 Code" := CustLedgEntry."Global Dimension 2 Code";
      "Dimension Set ID" := CustLedgEntry."Dimension Set ID";
      "Posting Group" := CustLedgEntry."Customer Posting Group";
      "Source Type" := "Source Type"::Customer;
      "Source No." := CustLedgEntry."Customer No.";
      "Source Currency Code" := CustLedgEntry."Currency Code";
      "System-Created Entry" := TRUE;
      "Financial Void" := TRUE;
      Correction := TRUE;
    END;

    [External]
    PROCEDURE CopyFromPaymentVendLedgEntry@202(VendLedgEntry@1000 : Record 25);
    BEGIN
      "Document No." := VendLedgEntry."Document No.";
      "Account Type" := "Account Type"::Vendor;
      "Account No." := VendLedgEntry."Vendor No.";
      "Shortcut Dimension 1 Code" := VendLedgEntry."Global Dimension 1 Code";
      "Shortcut Dimension 2 Code" := VendLedgEntry."Global Dimension 2 Code";
      "Dimension Set ID" := VendLedgEntry."Dimension Set ID";
      "Posting Group" := VendLedgEntry."Vendor Posting Group";
      "Source Type" := "Source Type"::Vendor;
      "Source No." := VendLedgEntry."Vendor No.";
      "Source Currency Code" := VendLedgEntry."Currency Code";
      "System-Created Entry" := TRUE;
      "Financial Void" := TRUE;
      Correction := TRUE;
    END;

    LOCAL PROCEDURE CopyVATSetupToJnlLines@256() : Boolean;
    BEGIN
      IF ("Journal Template Name" <> '') AND ("Journal Batch Name" <> '') THEN
        IF GenJnlBatch.GET("Journal Template Name","Journal Batch Name") THEN
          EXIT(GenJnlBatch."Copy VAT Setup to Jnl. Lines");
      EXIT("Copy VAT Setup to Jnl. Lines");
    END;

    LOCAL PROCEDURE SetAmountWithCustLedgEntry@102();
    BEGIN
      OnBeforeSetAmountWithCustLedgEntry(Rec,CustLedgEntry);

      IF "Currency Code" <> CustLedgEntry."Currency Code" THEN
        CheckModifyCurrencyCode(GenJnlLine."Account Type"::Customer,CustLedgEntry."Currency Code");
      IF Amount = 0 THEN BEGIN
        CustLedgEntry.CALCFIELDS("Remaining Amount");
        SetAmountWithRemaining(
          PaymentToleranceMgt.CheckCalcPmtDiscGenJnlCust(Rec,CustLedgEntry,0,FALSE),
          CustLedgEntry."Amount to Apply",CustLedgEntry."Remaining Amount",CustLedgEntry."Remaining Pmt. Disc. Possible");
      END;
    END;

    LOCAL PROCEDURE SetAmountWithVendLedgEntry@91();
    BEGIN
      OnBeforeSetAmountWithVendLedgEntry(Rec,VendLedgEntry);

      IF "Currency Code" <> VendLedgEntry."Currency Code" THEN
        CheckModifyCurrencyCode("Account Type"::Vendor,VendLedgEntry."Currency Code");
      IF Amount = 0 THEN BEGIN
        VendLedgEntry.CALCFIELDS("Remaining Amount");
        SetAmountWithRemaining(
          PaymentToleranceMgt.CheckCalcPmtDiscGenJnlVend(Rec,VendLedgEntry,0,FALSE),
          VendLedgEntry."Amount to Apply",VendLedgEntry."Remaining Amount",VendLedgEntry."Remaining Pmt. Disc. Possible");
      END;
    END;

    LOCAL PROCEDURE SetAmountWithEmplLedgEntry@176();
    BEGIN
      IF Amount = 0 THEN BEGIN
        EmplLedgEntry.CALCFIELDS("Remaining Amount");
        SetAmountWithRemaining(FALSE,EmplLedgEntry."Amount to Apply",EmplLedgEntry."Remaining Amount",0.0);
      END;
    END;

    [External]
    PROCEDURE CheckModifyCurrencyCode@105(AccountType@1000 : Option;CustVendLedgEntryCurrencyCode@1001 : Code[10]);
    BEGIN
      IF Amount = 0 THEN
        UpdateCurrencyCode(CustVendLedgEntryCurrencyCode)
      ELSE
        GenJnlApply.CheckAgainstApplnCurrency(
          "Currency Code",CustVendLedgEntryCurrencyCode,AccountType,TRUE);
    END;

    LOCAL PROCEDURE SetAmountWithRemaining@101(CalcPmtDisc@1000 : Boolean;AmountToApply@1001 : Decimal;RemainingAmount@1002 : Decimal;RemainingPmtDiscPossible@1003 : Decimal);
    BEGIN
      IF AmountToApply <> 0 THEN
        IF CalcPmtDisc AND (ABS(AmountToApply) >= ABS(RemainingAmount - RemainingPmtDiscPossible)) THEN
          Amount := -(RemainingAmount - RemainingPmtDiscPossible)
        ELSE
          Amount := -AmountToApply
      ELSE
        IF CalcPmtDisc THEN
          Amount := -(RemainingAmount - RemainingPmtDiscPossible)
        ELSE
          Amount := -RemainingAmount;
      IF "Bal. Account Type" IN ["Bal. Account Type"::Customer,"Bal. Account Type"::Vendor] THEN
        Amount := -Amount;
      ValidateAmount(FALSE);
    END;

    [External]
    PROCEDURE IsOpenedFromBatch@87() : Boolean;
    VAR
      GenJournalBatch@1002 : Record 232;
      TemplateFilter@1001 : Text;
      BatchFilter@1000 : Text;
    BEGIN
      BatchFilter := GETFILTER("Journal Batch Name");
      IF (BatchFilter = '') AND ("Journal Batch Name" <> '') THEN
        BatchFilter := "Journal Batch Name";

      IF BatchFilter <> '' THEN BEGIN
        TemplateFilter := GETFILTER("Journal Template Name");
        IF (TemplateFilter = '') AND ("Journal Template Name" <> '') THEN BEGIN
          TemplateFilter := "Journal Template Name";
          SETFILTER("Journal Template Name",TemplateFilter);
        END;
        IF TemplateFilter <> '' THEN
          GenJournalBatch.SETFILTER("Journal Template Name",TemplateFilter);
        GenJournalBatch.SETFILTER(Name,BatchFilter);
        GenJournalBatch.FINDFIRST;
      END;

      EXIT((("Journal Batch Name" <> '') AND ("Journal Template Name" = '')) OR (BatchFilter <> ''));
    END;

    [External]
    PROCEDURE GetDeferralAmount@88() DeferralAmount : Decimal;
    BEGIN
      IF "VAT Base Amount" <> 0 THEN
        DeferralAmount := "VAT Base Amount"
      ELSE
        DeferralAmount := Amount;
    END;

    PROCEDURE ShowDeferrals@108(PostingDate@1000 : Date;CurrencyCode@1001 : Code[10]) : Boolean;
    VAR
      DeferralUtilities@1002 : Codeunit 1720;
    BEGIN
      EXIT(
        DeferralUtilities.OpenLineScheduleEdit(
          "Deferral Code",GetDeferralDocType,"Journal Template Name","Journal Batch Name",0,'',"Line No.",
          GetDeferralAmount,PostingDate,Description,CurrencyCode));
    END;

    [External]
    PROCEDURE GetDeferralDocType@106() : Integer;
    BEGIN
      EXIT(DeferralDocType::"G/L");
    END;

    [External]
    PROCEDURE IsForPurchase@86() : Boolean;
    BEGIN
      IF ("Account Type" = "Account Type"::Vendor) OR ("Bal. Account Type" = "Bal. Account Type"::Vendor) THEN
        EXIT(TRUE);

      EXIT(FALSE);
    END;

    [External]
    PROCEDURE IsForSales@89() : Boolean;
    BEGIN
      IF ("Account Type" = "Account Type"::Customer) OR ("Bal. Account Type" = "Bal. Account Type"::Customer) THEN
        EXIT(TRUE);

      EXIT(FALSE);
    END;

    [Integration(TRUE)]
    PROCEDURE OnCheckGenJournalLinePostRestrictions@90();
    BEGIN
    END;

    [Integration(TRUE)]
    PROCEDURE OnCheckGenJournalLinePrintCheckRestrictions@92();
    BEGIN
    END;

    [Integration(TRUE)]
    PROCEDURE OnMoveGenJournalLine@93(ToRecordID@1000 : RecordID);
    BEGIN
    END;

    [External]
    PROCEDURE IncrementDocumentNo@120(GenJnlBatch@1000 : Record 232;VAR LastDocNumber@1002 : Code[20]);
    VAR
      NoSeriesLine@1001 : Record 309;
    BEGIN
      IF GenJnlBatch."No. Series" <> '' THEN BEGIN
        NoSeriesMgt.SetNoSeriesLineFilter(NoSeriesLine,GenJnlBatch."No. Series","Posting Date");
        IF NoSeriesLine."Increment-by No." > 1 THEN
          NoSeriesMgt.IncrementNoText(LastDocNumber,NoSeriesLine."Increment-by No.")
        ELSE
          LastDocNumber := INCSTR(LastDocNumber);
      END ELSE
        LastDocNumber := INCSTR(LastDocNumber);
    END;

    [External]
    PROCEDURE NeedCheckZeroAmount@196() : Boolean;
    BEGIN
      EXIT(
        ("Account No." <> '') AND
        NOT "System-Created Entry" AND
        NOT "Allow Zero-Amount Posting" AND
        ("Account Type" <> "Account Type"::"Fixed Asset"));
    END;

    [External]
    PROCEDURE IsRecurring@199() : Boolean;
    VAR
      GenJournalTemplate@1000 : Record 80;
    BEGIN
      IF "Journal Template Name" <> '' THEN
        IF GenJournalTemplate.GET("Journal Template Name") THEN
          EXIT(GenJournalTemplate.Recurring);

      EXIT(FALSE);
    END;

    LOCAL PROCEDURE SuggestBalancingAmount@46(LastGenJnlLine@1001 : Record 81;BottomLine@1003 : Boolean);
    VAR
      GenJournalLine@1000 : Record 81;
    BEGIN
      IF "Document No." = '' THEN
        EXIT;
      IF GETFILTERS <> '' THEN
        EXIT;

      GenJournalLine.SETRANGE("Journal Template Name",LastGenJnlLine."Journal Template Name");
      GenJournalLine.SETRANGE("Journal Batch Name",LastGenJnlLine."Journal Batch Name");
      IF BottomLine THEN
        GenJournalLine.SETFILTER("Line No.",'<=%1',LastGenJnlLine."Line No.")
      ELSE
        GenJournalLine.SETFILTER("Line No.",'<%1',LastGenJnlLine."Line No.");

      IF GenJournalLine.FINDLAST THEN BEGIN
        IF BottomLine THEN BEGIN
          GenJournalLine.SETRANGE("Document No.",LastGenJnlLine."Document No.");
          GenJournalLine.SETRANGE("Posting Date",LastGenJnlLine."Posting Date");
        END ELSE BEGIN
          GenJournalLine.SETRANGE("Document No.",GenJournalLine."Document No.");
          GenJournalLine.SETRANGE("Posting Date",GenJournalLine."Posting Date");
        END;
        GenJournalLine.SETRANGE("Bal. Account No.",'');
        IF GenJournalLine.FINDFIRST THEN BEGIN
          GenJournalLine.CALCSUMS(Amount);
          "Document No." := GenJournalLine."Document No.";
          "Posting Date" := GenJournalLine."Posting Date";
          VALIDATE(Amount,-GenJournalLine.Amount);
        END;
      END;
    END;

    LOCAL PROCEDURE GetGLAccount@146();
    VAR
      GLAcc@1000 : Record 15;
    BEGIN
      GLAcc.GET("Account No.");
      CheckGLAcc(GLAcc);
      IF ReplaceDescription AND (NOT GLAcc."Omit Default Descr. in Jnl.") THEN
        UpdateDescription(GLAcc.Name)
      ELSE
        IF GLAcc."Omit Default Descr. in Jnl." THEN
          Description := '';
      IF ("Bal. Account No." = '') OR
         ("Bal. Account Type" IN
          ["Bal. Account Type"::"G/L Account","Bal. Account Type"::"Bank Account"])
      THEN BEGIN
        "Posting Group" := '';
        "Salespers./Purch. Code" := '';
        "Payment Terms Code" := '';
      END;
      IF "Bal. Account No." = '' THEN
        "Currency Code" := '';
      IF CopyVATSetupToJnlLines THEN BEGIN
        "Gen. Posting Type" := GLAcc."Gen. Posting Type";
        "Gen. Bus. Posting Group" := GLAcc."Gen. Bus. Posting Group";
        "Gen. Prod. Posting Group" := GLAcc."Gen. Prod. Posting Group";
        "VAT Bus. Posting Group" := GLAcc."VAT Bus. Posting Group";
        "VAT Prod. Posting Group" := GLAcc."VAT Prod. Posting Group";
      END;
      "Tax Area Code" := GLAcc."Tax Area Code";
      "Tax Liable" := GLAcc."Tax Liable";
      "Tax Group Code" := GLAcc."Tax Group Code";
      IF "Posting Date" <> 0D THEN
        IF "Posting Date" = CLOSINGDATE("Posting Date") THEN
          ClearPostingGroups;
      VALIDATE("Deferral Code",GLAcc."Default Deferral Template Code");

      OnAfterAccountNoOnValidateGetGLAccount(Rec,GLAcc);
    END;

    LOCAL PROCEDURE GetGLBalAccount@121();
    VAR
      GLAcc@1000 : Record 15;
    BEGIN
      GLAcc.GET("Bal. Account No.");
      CheckGLAcc(GLAcc);
      IF "Account No." = '' THEN BEGIN
        Description := GLAcc.Name;
        "Currency Code" := '';
      END;
      IF ("Account No." = '') OR
         ("Account Type" IN
          ["Account Type"::"G/L Account","Account Type"::"Bank Account"])
      THEN BEGIN
        "Posting Group" := '';
        "Salespers./Purch. Code" := '';
        "Payment Terms Code" := '';
      END;
      IF CopyVATSetupToJnlLines THEN BEGIN
        "Bal. Gen. Posting Type" := GLAcc."Gen. Posting Type";
        "Bal. Gen. Bus. Posting Group" := GLAcc."Gen. Bus. Posting Group";
        "Bal. Gen. Prod. Posting Group" := GLAcc."Gen. Prod. Posting Group";
        "Bal. VAT Bus. Posting Group" := GLAcc."VAT Bus. Posting Group";
        "Bal. VAT Prod. Posting Group" := GLAcc."VAT Prod. Posting Group";
      END;
      "Bal. Tax Area Code" := GLAcc."Tax Area Code";
      "Bal. Tax Liable" := GLAcc."Tax Liable";
      "Bal. Tax Group Code" := GLAcc."Tax Group Code";
      IF "Posting Date" <> 0D THEN
        IF "Posting Date" = CLOSINGDATE("Posting Date") THEN
          ClearBalancePostingGroups;

      OnAfterAccountNoOnValidateGetGLBalAccount(Rec,GLAcc);
    END;

    LOCAL PROCEDURE GetCustomerAccount@47();
    VAR
      Cust@1000 : Record 18;
    BEGIN
      Cust.GET("Account No.");
      Cust.CheckBlockedCustOnJnls(Cust,"Document Type",FALSE);
      CheckICPartner(Cust."IC Partner Code","Account Type","Account No.");
      UpdateDescription(Cust.Name);
      "Payment Method Code" := Cust."Payment Method Code";
      VALIDATE("Recipient Bank Account",Cust."Preferred Bank Account Code");
      "Posting Group" := Cust."Customer Posting Group";
      SetSalespersonPurchaserCode(Cust."Salesperson Code","Salespers./Purch. Code");
      "Payment Terms Code" := Cust."Payment Terms Code";
      VALIDATE("Bill-to/Pay-to No.","Account No.");
      VALIDATE("Sell-to/Buy-from No.","Account No.");
      IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
        "Currency Code" := Cust."Currency Code";
      ClearPostingGroups;
      IF (Cust."Bill-to Customer No." <> '') AND (Cust."Bill-to Customer No." <> "Account No.") AND
         NOT HideValidationDialog
      THEN
        IF NOT CONFIRM(Text014,FALSE,Cust.TABLECAPTION,Cust."No.",Cust.FIELDCAPTION("Bill-to Customer No."),
             Cust."Bill-to Customer No.")
        THEN
          ERROR('');
      VALIDATE("Payment Terms Code");
      CheckPaymentTolerance;

      OnAfterAccountNoOnValidateGetCustomerAccount(Rec,Cust,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetCustomerBalAccount@122();
    VAR
      Cust@1000 : Record 18;
    BEGIN
      Cust.GET("Bal. Account No.");
      Cust.CheckBlockedCustOnJnls(Cust,"Document Type",FALSE);
      CheckICPartner(Cust."IC Partner Code","Bal. Account Type","Bal. Account No.");
      IF "Account No." = '' THEN
        Description := Cust.Name;
      "Payment Method Code" := Cust."Payment Method Code";
      VALIDATE("Recipient Bank Account",Cust."Preferred Bank Account Code");
      "Posting Group" := Cust."Customer Posting Group";
      SetSalespersonPurchaserCode(Cust."Salesperson Code","Salespers./Purch. Code");
      "Payment Terms Code" := Cust."Payment Terms Code";
      VALIDATE("Bill-to/Pay-to No.","Bal. Account No.");
      VALIDATE("Sell-to/Buy-from No.","Bal. Account No.");
      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
        "Currency Code" := Cust."Currency Code";
      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
        "Currency Code" := Cust."Currency Code";
      ClearBalancePostingGroups;
      IF (Cust."Bill-to Customer No." <> '') AND (Cust."Bill-to Customer No." <> "Bal. Account No.") AND
         NOT HideValidationDialog
      THEN
        IF NOT CONFIRM(Text014,FALSE,Cust.TABLECAPTION,Cust."No.",Cust.FIELDCAPTION("Bill-to Customer No."),
             Cust."Bill-to Customer No.")
        THEN
          ERROR('');
      VALIDATE("Payment Terms Code");
      CheckPaymentTolerance;

      OnAfterAccountNoOnValidateGetCustomerBalAccount(Rec,Cust,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetVendorAccount@115();
    VAR
      Vend@1000 : Record 23;
    BEGIN
      Vend.GET("Account No.");
      Vend.CheckBlockedVendOnJnls(Vend,"Document Type",FALSE);
      CheckICPartner(Vend."IC Partner Code","Account Type","Account No.");
      UpdateDescription(Vend.Name);
      "Payment Method Code" := Vend."Payment Method Code";
      "Creditor No." := Vend."Creditor No.";

      OnGenJnlLineGetVendorAccount(Vend);

      VALIDATE("Recipient Bank Account",Vend."Preferred Bank Account Code");
      "Posting Group" := Vend."Vendor Posting Group";
      SetSalespersonPurchaserCode(Vend."Purchaser Code","Salespers./Purch. Code");
      "Payment Terms Code" := Vend."Payment Terms Code";
      VALIDATE("Bill-to/Pay-to No.","Account No.");
      VALIDATE("Sell-to/Buy-from No.","Account No.");
      IF NOT SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
        "Currency Code" := Vend."Currency Code";
      ClearPostingGroups;
      "IRS 1099 Code" := Vend."IRS 1099 Code";
      "Tax Area Code" := Vend."Tax Area Code";
      IF (Vend."Pay-to Vendor No." <> '') AND (Vend."Pay-to Vendor No." <> "Account No.") AND
         NOT HideValidationDialog
      THEN
        IF NOT CONFIRM(Text014,FALSE,Vend.TABLECAPTION,Vend."No.",Vend.FIELDCAPTION("Pay-to Vendor No."),
             Vend."Pay-to Vendor No.")
        THEN
          ERROR('');
      VALIDATE("Payment Terms Code");
      CheckPaymentTolerance;

      OnAfterAccountNoOnValidateGetVendorAccount(Rec,Vend,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetEmployeeAccount@188();
    VAR
      Employee@1000 : Record 5200;
    BEGIN
      Employee.GET("Account No.");
      Employee.CheckBlockedEmployeeOnJnls(FALSE);
      UpdateDescriptionWithEmployeeName(Employee);
      "Posting Group" := Employee."Employee Posting Group";
      SetSalespersonPurchaserCode(Employee."Salespers./Purch. Code","Salespers./Purch. Code");
      "Currency Code" := '';
      ClearPostingGroups;

      OnAfterAccountNoOnValidateGetEmployeeAccount(Rec,Employee);
    END;

    LOCAL PROCEDURE GetVendorBalAccount@123();
    VAR
      Vend@1000 : Record 23;
    BEGIN
      Vend.GET("Bal. Account No.");
      Vend.CheckBlockedVendOnJnls(Vend,"Document Type",FALSE);
      CheckICPartner(Vend."IC Partner Code","Bal. Account Type","Bal. Account No.");
      IF "Account No." = '' THEN
        Description := Vend.Name;
      "Payment Method Code" := Vend."Payment Method Code";
      VALIDATE("Recipient Bank Account",Vend."Preferred Bank Account Code");
      "Posting Group" := Vend."Vendor Posting Group";
      SetSalespersonPurchaserCode(Vend."Purchaser Code","Salespers./Purch. Code");
      "Payment Terms Code" := Vend."Payment Terms Code";
      VALIDATE("Bill-to/Pay-to No.","Bal. Account No.");
      VALIDATE("Sell-to/Buy-from No.","Bal. Account No.");
      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
        "Currency Code" := Vend."Currency Code";
      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
        "Currency Code" := Vend."Currency Code";
      ClearBalancePostingGroups;
      "IRS 1099 Code" := Vend."IRS 1099 Code";
      IF (Vend."Pay-to Vendor No." <> '') AND (Vend."Pay-to Vendor No." <> "Bal. Account No.") AND
         NOT HideValidationDialog
      THEN
        IF NOT CONFIRM(Text014,FALSE,Vend.TABLECAPTION,Vend."No.",Vend.FIELDCAPTION("Pay-to Vendor No."),
             Vend."Pay-to Vendor No.")
        THEN
          ERROR('');
      VALIDATE("Payment Terms Code");
      CheckPaymentTolerance;

      OnAfterAccountNoOnValidateGetVendorBalAccount(Rec,Vend,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetEmployeeBalAccount@177();
    VAR
      Employee@1000 : Record 5200;
    BEGIN
      Employee.GET("Bal. Account No.");
      Employee.CheckBlockedEmployeeOnJnls(FALSE);
      IF "Account No." = '' THEN
        UpdateDescriptionWithEmployeeName(Employee);
      "Posting Group" := Employee."Employee Posting Group";
      SetSalespersonPurchaserCode(Employee."Salespers./Purch. Code","Salespers./Purch. Code");
      "Currency Code" := '';
      ClearBalancePostingGroups;

      OnAfterAccountNoOnValidateGetEmployeeBalAccount(Rec,Employee,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetBankAccount@116();
    VAR
      BankAcc@1000 : Record 270;
    BEGIN
      BankAcc.GET("Account No.");
      BankAcc.TESTFIELD(Blocked,FALSE);
      IF ReplaceDescription THEN
        UpdateDescription(BankAcc.Name);
      IF ("Bal. Account No." = '') OR
         ("Bal. Account Type" IN
          ["Bal. Account Type"::"G/L Account","Bal. Account Type"::"Bank Account"])
      THEN BEGIN
        "Posting Group" := '';
        "Salespers./Purch. Code" := '';
        "Payment Terms Code" := '';
        "IRS 1099 Code" := '';
      END;
      IF BankAcc."Currency Code" = '' THEN BEGIN
        IF "Bal. Account No." = '' THEN
          "Currency Code" := '';
      END ELSE
        IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
          BankAcc.TESTFIELD("Currency Code","Currency Code")
        ELSE
          "Currency Code" := BankAcc."Currency Code";
      ClearPostingGroups;

      OnAfterAccountNoOnValidateGetBankAccount(Rec,BankAcc,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetBankBalAccount@124();
    VAR
      BankAcc@1000 : Record 270;
    BEGIN
      BankAcc.GET("Bal. Account No.");
      BankAcc.TESTFIELD(Blocked,FALSE);
      IF "Account No." = '' THEN
        Description := BankAcc.Name;

      IF ("Account No." = '') OR
         ("Account Type" IN
          ["Account Type"::"G/L Account","Account Type"::"Bank Account"])
      THEN BEGIN
        "Posting Group" := '';
        "Salespers./Purch. Code" := '';
        "Payment Terms Code" := '';
      END;
      IF BankAcc."Currency Code" = '' THEN
        IF "Account No." = '' THEN
          "Currency Code" := ''
        ELSE
          ClearCurrencyCode
      ELSE
        IF SetCurrencyCode("Bal. Account Type","Bal. Account No.") THEN
          BankAcc.TESTFIELD("Currency Code","Currency Code")
        ELSE
          "Currency Code" := BankAcc."Currency Code";
      ClearBalancePostingGroups;

      OnAfterAccountNoOnValidateGetBankBalAccount(Rec,BankAcc,CurrFieldNo);
    END;

    LOCAL PROCEDURE GetFAAccount@117();
    VAR
      FA@1000 : Record 5600;
    BEGIN
      FA.GET("Account No.");
      FA.TESTFIELD(Blocked,FALSE);
      FA.TESTFIELD(Inactive,FALSE);
      FA.TESTFIELD("Budgeted Asset",FALSE);
      UpdateDescription(FA.Description);
      GetFADeprBook("Account No.");
      GetFAVATSetup;
      GetFAAddCurrExchRate;

      OnAfterAccountNoOnValidateGetFAAccount(Rec,FA);
    END;

    LOCAL PROCEDURE GetFABalAccount@125();
    VAR
      FA@1000 : Record 5600;
    BEGIN
      FA.GET("Bal. Account No.");
      FA.TESTFIELD(Blocked,FALSE);
      FA.TESTFIELD(Inactive,FALSE);
      FA.TESTFIELD("Budgeted Asset",FALSE);
      IF "Account No." = '' THEN
        Description := FA.Description;
      GetFADeprBook("Bal. Account No.");
      GetFAVATSetup;
      GetFAAddCurrExchRate;

      OnAfterAccountNoOnValidateGetFABalAccount(Rec,FA);
    END;

    LOCAL PROCEDURE GetICPartnerAccount@118();
    VAR
      ICPartner@1000 : Record 413;
    BEGIN
      ICPartner.GET("Account No.");
      ICPartner.CheckICPartner;
      UpdateDescription(ICPartner.Name);
      IF ("Bal. Account No." = '') OR ("Bal. Account Type" = "Bal. Account Type"::"G/L Account") THEN
        "Currency Code" := ICPartner."Currency Code";
      IF ("Bal. Account Type" = "Bal. Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
        "Currency Code" := ICPartner."Currency Code";
      ClearPostingGroups;
      "IC Partner Code" := "Account No.";

      OnAfterAccountNoOnValidateGetICPartnerAccount(Rec,ICPartner);
    END;

    LOCAL PROCEDURE GetICPartnerBalAccount@126();
    VAR
      ICPartner@1000 : Record 413;
    BEGIN
      ICPartner.GET("Bal. Account No.");
      IF "Account No." = '' THEN
        Description := ICPartner.Name;

      IF ("Account No." = '') OR ("Account Type" = "Account Type"::"G/L Account") THEN
        "Currency Code" := ICPartner."Currency Code";
      IF ("Account Type" = "Account Type"::"Bank Account") AND ("Currency Code" = '') THEN
        "Currency Code" := ICPartner."Currency Code";
      ClearBalancePostingGroups;
      "IC Partner Code" := "Bal. Account No.";

      OnAfterAccountNoOnValidateGetICPartnerBalAccount(Rec,ICPartner);
    END;

    [External]
    PROCEDURE CreateFAAcquisitionLines@131(VAR FAGenJournalLine@1008 : Record 81);
    VAR
      BalancingGenJnlLine@1006 : Record 81;
      LocalGLAcc@1001 : Record 15;
      FAPostingGr@1000 : Record 5606;
    BEGIN
      TESTFIELD("Journal Template Name");
      TESTFIELD("Journal Batch Name");
      TESTFIELD("Posting Date");
      TESTFIELD("Account Type");
      TESTFIELD("Account No.");
      TESTFIELD("Posting Date");

      // Creating Fixed Asset Line
      FAGenJournalLine.INIT;
      FAGenJournalLine.VALIDATE("Journal Template Name","Journal Template Name");
      FAGenJournalLine.VALIDATE("Journal Batch Name","Journal Batch Name");
      FAGenJournalLine.VALIDATE("Line No.",GetNewLineNo("Journal Template Name","Journal Batch Name"));
      FAGenJournalLine.VALIDATE("Document Type","Document Type");
      FAGenJournalLine.VALIDATE("Document No.",GenerateLineDocNo("Journal Batch Name","Posting Date","Journal Template Name"));
      FAGenJournalLine.VALIDATE("Account Type","Account Type");
      FAGenJournalLine.VALIDATE("Account No.","Account No.");
      FAGenJournalLine.VALIDATE(Amount,Amount);
      FAGenJournalLine.VALIDATE("Posting Date","Posting Date");
      FAGenJournalLine.VALIDATE("FA Posting Type","FA Posting Type"::"Acquisition Cost");
      FAGenJournalLine.VALIDATE("External Document No.","External Document No.");
      FAGenJournalLine.INSERT(TRUE);

      // Creating Balancing Line
      BalancingGenJnlLine.COPY(FAGenJournalLine);
      BalancingGenJnlLine.VALIDATE("Account Type","Bal. Account Type");
      BalancingGenJnlLine.VALIDATE("Account No.","Bal. Account No.");
      BalancingGenJnlLine.VALIDATE(Amount,-Amount);
      BalancingGenJnlLine.VALIDATE("Line No.",GetNewLineNo("Journal Template Name","Journal Batch Name"));
      BalancingGenJnlLine.INSERT(TRUE);

      FAGenJournalLine.TESTFIELD("Posting Group");

      // Inserting additional fields in Fixed Asset line required for acquisition
      IF FAPostingGr.GET(FAGenJournalLine."Posting Group") THEN BEGIN
        LocalGLAcc.GET(FAPostingGr."Acquisition Cost Account");
        LocalGLAcc.CheckGLAcc;
        FAGenJournalLine.VALIDATE("Gen. Posting Type",LocalGLAcc."Gen. Posting Type");
        FAGenJournalLine.VALIDATE("Gen. Bus. Posting Group",LocalGLAcc."Gen. Bus. Posting Group");
        FAGenJournalLine.VALIDATE("Gen. Prod. Posting Group",LocalGLAcc."Gen. Prod. Posting Group");
        FAGenJournalLine.VALIDATE("VAT Bus. Posting Group",LocalGLAcc."VAT Bus. Posting Group");
        FAGenJournalLine.VALIDATE("VAT Prod. Posting Group",LocalGLAcc."VAT Prod. Posting Group");
        FAGenJournalLine.VALIDATE("Tax Group Code",LocalGLAcc."Tax Group Code");
        FAGenJournalLine.VALIDATE("VAT Prod. Posting Group");
        FAGenJournalLine.MODIFY(TRUE)
      END;

      // Inserting Source Code
      IF "Source Code" = '' THEN BEGIN
        GenJnlTemplate.GET("Journal Template Name");
        FAGenJournalLine.VALIDATE("Source Code",GenJnlTemplate."Source Code");
        FAGenJournalLine.MODIFY(TRUE);
        BalancingGenJnlLine.VALIDATE("Source Code",GenJnlTemplate."Source Code");
        BalancingGenJnlLine.MODIFY(TRUE);
      END;
    END;

    LOCAL PROCEDURE GenerateLineDocNo@132(BatchName@1004 : Code[10];PostingDate@1002 : Date;TemplateName@1005 : Code[20]) DocumentNo : Code[20];
    VAR
      GenJournalBatch@1000 : Record 232;
      NoSeriesManagement@1003 : Codeunit 396;
    BEGIN
      GenJournalBatch.GET(TemplateName,BatchName);
      IF GenJournalBatch."No. Series" <> '' THEN
        DocumentNo := NoSeriesManagement.TryGetNextNo(GenJournalBatch."No. Series",PostingDate);
    END;

    LOCAL PROCEDURE GetFilterAccountNo@133() : Code[20];
    BEGIN
      IF GETFILTER("Account No.") <> '' THEN
        IF GETRANGEMIN("Account No.") = GETRANGEMAX("Account No.") THEN
          EXIT(GETRANGEMAX("Account No."));
    END;

    [External]
    PROCEDURE SetAccountNoFromFilter@135();
    VAR
      AccountNo@1000 : Code[20];
    BEGIN
      AccountNo := GetFilterAccountNo;
      IF AccountNo = '' THEN BEGIN
        FILTERGROUP(2);
        AccountNo := GetFilterAccountNo;
        FILTERGROUP(0);
      END;
      IF AccountNo <> '' THEN
        "Account No." := AccountNo;
    END;

    [External]
    PROCEDURE GetNewLineNo@136(TemplateName@1000 : Code[10];BatchName@1001 : Code[10]) : Integer;
    VAR
      GenJournalLine@1002 : Record 81;
    BEGIN
      GenJournalLine.VALIDATE("Journal Template Name",TemplateName);
      GenJournalLine.VALIDATE("Journal Batch Name",BatchName);
      GenJournalLine.SETRANGE("Journal Template Name",TemplateName);
      GenJournalLine.SETRANGE("Journal Batch Name",BatchName);
      IF GenJournalLine.FINDLAST THEN
        EXIT(GenJournalLine."Line No." + 10000);
      EXIT(10000);
    END;

    [External]
    PROCEDURE VoidPaymentFile@139();
    VAR
      TempGenJnlLine@1000 : TEMPORARY Record 81;
      GenJournalLine2@1002 : Record 81;
      VoidTransmitElecPmnts@1001 : Report 9200;
    BEGIN
      TempGenJnlLine.RESET;
      TempGenJnlLine := Rec;
      TempGenJnlLine.SETRANGE("Journal Template Name","Journal Template Name");
      TempGenJnlLine.SETRANGE("Journal Batch Name","Journal Batch Name");
      GenJournalLine2.COPYFILTERS(TempGenJnlLine);
      GenJournalLine2.SETFILTER("Document Type",'Payment|Refund');
      GenJournalLine2.SETFILTER("Bank Payment Type",'Electronic Payment|Electronic Payment-IAT');
      GenJournalLine2.SETRANGE("Exported to Payment File",TRUE);
      GenJournalLine2.SETRANGE("Check Transmitted",FALSE);
      IF NOT GenJournalLine2.FINDFIRST THEN
        ERROR(NoEntriesToVoidErr);

      CLEAR(VoidTransmitElecPmnts);
      VoidTransmitElecPmnts.SetUsageType(1);   // Void
      VoidTransmitElecPmnts.SETTABLEVIEW(TempGenJnlLine);
      IF "Account Type" = "Account Type"::"Bank Account" THEN
        VoidTransmitElecPmnts.SetBankAccountNo("Account No.")
      ELSE
        IF "Bal. Account Type" = "Bal. Account Type"::"Bank Account" THEN
          VoidTransmitElecPmnts.SetBankAccountNo("Bal. Account No.");
      VoidTransmitElecPmnts.RUNMODAL;
    END;

    [External]
    PROCEDURE TransmitPaymentFile@142();
    VAR
      TempGenJnlLine@1000 : TEMPORARY Record 81;
      VoidTransmitElecPmnts@1001 : Report 9200;
    BEGIN
      TempGenJnlLine.RESET;
      TempGenJnlLine := Rec;
      TempGenJnlLine.SETRANGE("Journal Template Name","Journal Template Name");
      TempGenJnlLine.SETRANGE("Journal Batch Name","Journal Batch Name");
      CLEAR(VoidTransmitElecPmnts);
      VoidTransmitElecPmnts.SetUsageType(2);   // Transmit
      VoidTransmitElecPmnts.SETTABLEVIEW(TempGenJnlLine);
      IF "Account Type" = "Account Type"::"Bank Account" THEN
        VoidTransmitElecPmnts.SetBankAccountNo("Account No.")
      ELSE
        IF "Bal. Account Type" = "Bal. Account Type"::"Bank Account" THEN
          VoidTransmitElecPmnts.SetBankAccountNo("Bal. Account No.");
      VoidTransmitElecPmnts.RUNMODAL;
    END;

    LOCAL PROCEDURE SetSalespersonPurchaserCode@933(SalesperPurchCodeToCheck@1000 : Code[20];VAR SalesperPuchCodeToAssign@1001 : Code[20]);
    BEGIN
      IF SalesperPurchCodeToCheck <> '' THEN
        IF SalespersonPurchaser.GET(SalesperPurchCodeToCheck) THEN
          IF SalespersonPurchaser.VerifySalesPersonPurchaserPrivacyBlocked(SalespersonPurchaser) THEN
            SalesperPuchCodeToAssign := ''
          ELSE
            SalesperPuchCodeToAssign := SalesperPurchCodeToCheck;
    END;

    [External]
    PROCEDURE ValidateSalesPersonPurchaserCode@298(GenJournalLine2@1000 : Record 81);
    BEGIN
      IF GenJournalLine2."Salespers./Purch. Code" <> '' THEN
        IF SalespersonPurchaser.GET(GenJournalLine2."Salespers./Purch. Code") THEN
          IF SalespersonPurchaser.VerifySalesPersonPurchaserPrivacyBlocked(SalespersonPurchaser) THEN
            ERROR(SalespersonPurchPrivacyBlockErr,GenJournalLine2."Salespers./Purch. Code");
    END;

    [External]
    PROCEDURE CheckIfPrivacyBlocked@208();
    VAR
      Customer@1002 : Record 18;
      Vendor@1001 : Record 23;
      Employee@1000 : Record 5200;
    BEGIN
      IF FIND('-') THEN BEGIN
        REPEAT
          CASE "Account Type" OF
            "Account Type"::Customer:
              BEGIN
                Customer.GET("Account No.");
                IF Customer."Privacy Blocked" THEN
                  ERROR(Customer.GetPrivacyBlockedGenericErrorText(Customer));
                IF Customer.Blocked = Customer.Blocked::All THEN
                  ERROR(BlockedErr,Customer.Blocked,Customer.TABLECAPTION,Customer."No.");
              END;
            "Account Type"::Vendor:
              BEGIN
                Vendor.GET("Account No.");
                IF Vendor."Privacy Blocked" THEN
                  ERROR(Vendor.GetPrivacyBlockedGenericErrorText(Vendor));
                IF Vendor.Blocked IN [Vendor.Blocked::All,Vendor.Blocked::Payment] THEN
                  ERROR(BlockedErr,Vendor.Blocked,Vendor.TABLECAPTION,Vendor."No.");
              END;
            "Account Type"::Employee:
              BEGIN
                Employee.GET("Account No.");
                IF Employee."Privacy Blocked" THEN
                  ERROR(BlockedEmplErr,Employee."No.");
              END;
          END;
        UNTIL NEXT <= 0;
      END;
    END;

    LOCAL PROCEDURE ClearCurrencyCode@211();
    VAR
      BankAccount@1000 : Record 270;
    BEGIN
      IF (xRec."Bal. Account Type" = xRec."Bal. Account Type"::"Bank Account") AND (xRec."Bal. Account No." <> '') THEN BEGIN
        BankAccount.GET(xRec."Bal. Account No.");
        IF BankAccount."Currency Code" = "Currency Code" THEN
          "Currency Code" := '';
      END;
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterSetupNewLine@161(VAR GenJournalLine@1000 : Record 81;GenJournalTemplate@1001 : Record 80;GenJournalBatch@1002 : Record 232;LastGenJournalLine@1003 : Record 81;Balance@1004 : Decimal;BottomLine@1005 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterClearCustApplnEntryFields@212(VAR CustLedgerEntry@1000 : Record 21);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterClearEmplApplnEntryFields@218(VAR EmployeeLedgerEntry@1000 : Record 5222);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterClearVendApplnEntryFields@213(VAR VendorLedgerEntry@1000 : Record 25);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromCustLedgEntry@181(CustLedgerEntry@1000 : Record 21;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromGenJnlAllocation@182(GenJnlAllocation@1000 : Record 221;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromSalesHeader@160(SalesHeader@1001 : Record 36;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromSalesHeaderPrepmt@195(SalesHeader@1000 : Record 36;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromSalesHeaderPrepmtPost@197(SalesHeader@1000 : Record 36;VAR GenJournalLine@1001 : Record 81;UsePmtDisc@1002 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromSalesHeaderApplyTo@200(SalesHeader@1000 : Record 36;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromSalesHeaderPayment@201(SalesHeader@1000 : Record 36;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPurchHeader@141(PurchaseHeader@1001 : Record 38;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPurchHeaderPrepmt@186(PurchaseHeader@1001 : Record 38;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPurchHeaderPrepmtPost@187(PurchaseHeader@1000 : Record 38;VAR GenJournalLine@1001 : Record 81;UsePmtDisc@1002 : Boolean);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPurchHeaderApplyTo@192(PurchaseHeader@1000 : Record 38;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPurchHeaderPayment@194(PurchaseHeader@1000 : Record 38;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromServHeader@163(ServiceHeader@1001 : Record 5900;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromServHeaderApplyTo@203(ServiceHeader@1001 : Record 5900;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromServHeaderPayment@204(ServiceHeader@1001 : Record 5900;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromInvPostBuffer@144(InvoicePostBuffer@1001 : Record 49;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromInvPostBufferFA@184(InvoicePostBuffer@1000 : Record 49;VAR GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCopyGenJnlLineFromPrepmtInvBuffer@148(PrepmtInvLineBuffer@1001 : Record 461;VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetGLAccount@145(VAR GenJournalLine@1000 : Record 81;VAR GLAccount@1001 : Record 15);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetGLBalAccount@147(VAR GenJournalLine@1000 : Record 81;VAR GLAccount@1001 : Record 15);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetCustomerAccount@149(VAR GenJournalLine@1000 : Record 81;VAR Customer@1001 : Record 18;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetCustomerBalAccount@152(VAR GenJournalLine@1000 : Record 81;VAR Customer@1001 : Record 18;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetVendorAccount@150(VAR GenJournalLine@1000 : Record 81;VAR Vendor@1001 : Record 23;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetVendorBalAccount@153(VAR GenJournalLine@1000 : Record 81;VAR Vendor@1001 : Record 23;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetEmployeeAccount@189(VAR GenJournalLine@1000 : Record 81;VAR Employee@1001 : Record 5200);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetEmployeeBalAccount@179(VAR GenJournalLine@1000 : Record 81;VAR Employee@1001 : Record 5200;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetBankAccount@155(VAR GenJournalLine@1000 : Record 81;VAR BankAccount@1001 : Record 270;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetBankBalAccount@154(VAR GenJournalLine@1000 : Record 81;VAR BankAccount@1001 : Record 270;FieldNo@1002 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetFAAccount@157(VAR GenJournalLine@1000 : Record 81;VAR FixedAsset@1001 : Record 5600);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetFABalAccount@156(VAR GenJournalLine@1000 : Record 81;VAR FixedAsset@1001 : Record 5600);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetICPartnerAccount@159(VAR GenJournalLine@1000 : Record 81;VAR ICPartner@1001 : Record 413);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterAccountNoOnValidateGetICPartnerBalAccount@158(VAR GenJournalLine@1000 : Record 81;VAR ICPartner@1001 : Record 413);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCreateTempJobJnlLine@151(VAR JobJournalLine@1003 : Record 210;GenJournalLine@1002 : Record 81;xGenJournalLine@1001 : Record 81;CurrFieldNo@1000 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeCreateTempJobJnlLine@162(VAR JobJournalLine@1003 : Record 210;GenJournalLine@1000 : Record 81;xGenJournalLine@1002 : Record 81;CurrFieldNo@1001 : Integer);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdatePricesFromJobJnlLine@166(VAR GenJournalLine@1000 : Record 81;JobJournalLine@1001 : Record 210);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCreateDimTableIDs@164(VAR GenJournalLine@1000 : Record 81;FieldNo@1001 : Integer;VAR TableID@1003 : ARRAY [10] OF Integer;VAR No@1002 : ARRAY [10] OF Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterClearPostingGroups@168(VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterClearBalPostingGroups@169(VAR GenJournalLine@1000 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterValidateApplyRequirements@207(TempGenJnlLine@1000 : TEMPORARY Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterCheckDirectPosting@220(VAR GLAccount@1000 : Record 15;GenJournalLine@1001 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnAfterUpdateDocumentTypeAndAppliesToFields@221(VAR GenJournalLine@1000 : Record 81;DocType@1002 : Integer;DocNo@1001 : Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeCheckDirectPosting@219(VAR GLAccount@1000 : Record 15;VAR IsHandled@1001 : Boolean;GenJournalLine@1002 : Record 81);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeLookUpAppliesToDocCust@214(GenJournalLine@1000 : Record 81;AccNo@1001 : Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeLookUpAppliesToDocEmpl@216(GenJournalLine@1001 : Record 81;AccNo@1000 : Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeLookUpAppliesToDocVend@215(GenJournalLine@1001 : Record 81;AccNo@1000 : Code[20]);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeSetAmountWithCustLedgEntry@232(VAR GenJournalLine@1000 : Record 81;VAR CustLedgerEntry@1001 : Record 21);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeSetAmountWithVendLedgEntry@230(VAR GenJournalLine@1000 : Record 81;VAR VendorLedgerEntry@1001 : Record 25);
    BEGIN
    END;

    [Integration(TRUE)]
    LOCAL PROCEDURE OnUpdateLineBalanceOnAfterAssignBalanceLCY@226(VAR BalanceLCY@1000 : Decimal);
    BEGIN
    END;

    [Integration(TRUE)]
    LOCAL PROCEDURE OnValidateAmountOnAfterAssignAmountLCY@222(VAR AmountLCY@1000 : Decimal);
    BEGIN
    END;

    [Integration(TRUE)]
    LOCAL PROCEDURE OnValidateBalVATPctOnAfterAssignBalVATAmountLCY@224(VAR BalVATAmountLCY@1000 : Decimal);
    BEGIN
    END;

    LOCAL PROCEDURE SetLastModifiedDateTime@1165();
    VAR
      DateFilterCalc@1000 : Codeunit 358;
    BEGIN
      "Last Modified DateTime" := DateFilterCalc.ConvertToUtcDateTime(CURRENTDATETIME);
    END;

    LOCAL PROCEDURE UpdateDocumentTypeAndAppliesTo@210(DocType@1000 : Integer;DocNo@1001 : Code[20]);
    BEGIN
      "Applies-to Doc. Type" := DocType;
      "Applies-to Doc. No." := DocNo;
      "Applies-to ID" := '';

      OnAfterUpdateDocumentTypeAndAppliesToFields(Rec,DocType,DocNo);

      IF "Document Type" <> "Document Type"::" " THEN
        EXIT;

      IF NOT ("Account Type" IN ["Account Type"::Customer,"Account Type"::Vendor]) THEN
        EXIT;

      CASE "Applies-to Doc. Type" OF
        "Applies-to Doc. Type"::Payment:
          "Document Type" := "Document Type"::Invoice;
        "Applies-to Doc. Type"::"Credit Memo":
          "Document Type" := "Document Type"::Refund;
        "Applies-to Doc. Type"::Invoice,
        "Applies-to Doc. Type"::Refund:
          "Document Type" := "Document Type"::Payment;
      END;
    END;

    [External]
    PROCEDURE UpdateAccountID@1166();
    VAR
      GLAccount@1000 : Record 15;
    BEGIN
      IF "Account Type" <> "Account Type"::"G/L Account" THEN
        EXIT;

      IF "Account No." = '' THEN BEGIN
        CLEAR("Account Id");
        EXIT;
      END;

      IF NOT GLAccount.GET("Account No.") THEN
        EXIT;

      "Account Id" := GLAccount.Id;
    END;

    LOCAL PROCEDURE UpdateAccountNo@1164();
    VAR
      GLAccount@1001 : Record 15;
    BEGIN
      IF ISNULLGUID("Account Id") THEN
        EXIT;

      GLAccount.SETRANGE(Id,"Account Id");
      IF NOT GLAccount.FINDFIRST THEN
        EXIT;

      "Account No." := GLAccount."No.";
    END;

    [External]
    PROCEDURE UpdateCustomerID@175();
    VAR
      Customer@1000 : Record 18;
    BEGIN
      IF "Account Type" <> "Account Type"::Customer THEN
        EXIT;

      IF "Account No." = '' THEN BEGIN
        CLEAR("Customer Id");
        EXIT;
      END;

      IF NOT Customer.GET("Account No.") THEN
        EXIT;

      "Customer Id" := Customer.Id;
    END;

    LOCAL PROCEDURE UpdateCustomerNo@174();
    VAR
      Customer@1001 : Record 18;
    BEGIN
      IF ISNULLGUID("Customer Id") THEN
        EXIT;

      Customer.SETRANGE(Id,"Customer Id");
      IF NOT Customer.FINDFIRST THEN
        EXIT;

      "Account No." := Customer."No.";
    END;

    [External]
    PROCEDURE UpdateAppliesToInvoiceID@167();
    VAR
      SalesInvoiceHeader@1000 : Record 112;
    BEGIN
      IF "Applies-to Doc. Type" <> "Applies-to Doc. Type"::Invoice THEN
        EXIT;

      IF "Applies-to Doc. No." = '' THEN BEGIN
        CLEAR("Applies-to Invoice Id");
        EXIT;
      END;

      IF NOT SalesInvoiceHeader.GET("Applies-to Doc. No.") THEN
        EXIT;

      "Applies-to Invoice Id" := SalesInvoiceHeader.Id;
    END;

    LOCAL PROCEDURE UpdateAppliesToInvoiceNo@165();
    VAR
      SalesInvoiceHeader@1001 : Record 112;
    BEGIN
      IF ISNULLGUID("Applies-to Invoice Id") THEN
        EXIT;

      SalesInvoiceHeader.SETRANGE(Id,"Applies-to Invoice Id");
      IF NOT SalesInvoiceHeader.FINDFIRST THEN
        EXIT;

      "Applies-to Doc. No." := SalesInvoiceHeader."No.";
    END;

    [External]
    PROCEDURE UpdateGraphContactId@170();
    VAR
      Customer@1003 : Record 18;
      Contact@1002 : Record 5050;
      GraphIntContact@1001 : Codeunit 5461;
      GraphID@1000 : Text[250];
    BEGIN
      IF ISNULLGUID("Customer Id") THEN
        CLEAR("Contact Graph Id");

      Customer.SETRANGE(Id,"Customer Id");
      IF NOT Customer.FINDFIRST THEN
        CLEAR("Contact Graph Id");

      IF NOT GraphIntContact.FindGraphContactIdFromCustomer(GraphID,Customer,Contact) THEN
        CLEAR("Contact Graph Id");

      "Contact Graph Id" := GraphID;
    END;

    [External]
    PROCEDURE UpdateJournalBatchID@173();
    VAR
      GenJournalBatch@1000 : Record 232;
    BEGIN
      IF NOT GenJournalBatch.GET("Journal Template Name","Journal Batch Name") THEN
        EXIT;

      "Journal Batch Id" := GenJournalBatch.Id;
    END;

    LOCAL PROCEDURE UpdateJournalBatchName@172();
    VAR
      GenJournalBatch@1001 : Record 232;
    BEGIN
      GenJournalBatch.SETRANGE(Id,"Journal Batch Id");
      IF NOT GenJournalBatch.FINDFIRST THEN
        EXIT;

      "Journal Batch Name" := GenJournalBatch.Name;
    END;

    [External]
    PROCEDURE UpdatePaymentMethodId@198();
    VAR
      PaymentMethod@1000 : Record 289;
    BEGIN
      IF "Payment Method Code" = '' THEN BEGIN
        CLEAR("Payment Method Id");
        EXIT;
      END;

      IF NOT PaymentMethod.GET("Payment Method Code") THEN
        EXIT;

      "Payment Method Id" := PaymentMethod.Id;
    END;

    LOCAL PROCEDURE UpdatePaymentMethodCode@185();
    VAR
      PaymentMethod@1001 : Record 289;
    BEGIN
      IF ISNULLGUID("Payment Method Id") THEN
        EXIT;

      PaymentMethod.SETRANGE(Id,"Payment Method Id");
      IF NOT PaymentMethod.FINDFIRST THEN
        EXIT;

      "Payment Method Code" := PaymentMethod.Code;
    END;

    LOCAL PROCEDURE UpdateDescriptionWithEmployeeName@178(Employee@1000 : Record 5200);
    BEGIN
      IF STRLEN(Employee.FullName) <= MAXSTRLEN(Description) THEN
        UpdateDescription(COPYSTR(Employee.FullName,1,MAXSTRLEN(Description)))
      ELSE
        UpdateDescription(Employee.Initials);
    END;

    [Integration(TRUE)]
    PROCEDURE OnGenJnlLineGetVendorAccount@1217(Vendor@1213 : Record 23);
    BEGIN
    END;

    PROCEDURE ShowDeferralSchedule@206();
    BEGIN
      IF "Account Type" = "Account Type"::"Fixed Asset" THEN
        ERROR(AccTypeNotSupportedErr);

      ShowDeferrals("Posting Date","Currency Code");
    END;

    BEGIN
    END.
  }
}

OBJECT Table 50000 Expense
{
  OBJECT-PROPERTIES
  {
    Date=01/30/19;
    Time=13:57:56;
    Modified=Yes;
    Version List=FuturisticCAL;
  }
  PROPERTIES
  {
    OnDelete=BEGIN
               UpdateRelatedGLAccounts;
             END;

    LookupPageID=Page50000;
    DrillDownPageID=Page50000;
  }
  FIELDS
  {
    { 1   ;   ;Code                ;Code20        ;DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Code }
    { 2   ;   ;Description         ;Text50        ;DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Description }
    { 3   ;   ;Disabled            ;Boolean       ;DataClassification=ToBeClassified;
                                                   CaptionML=ENU=Disabled }
  }
  KEYS
  {
    {    ;Code                                    ;Clustered=Yes }
  }
  FIELDGROUPS
  {
  }
  CODE
  {

    PROCEDURE CheckExpenseUsed@1240060000(ExpenseCode@1240060000 : Code[20]);
    VAR
      GLAcc@1240060001 : Record 15;
    BEGIN
      IF ExpenseCode = '' THEN
        EXIT;

      GLAcc.RESET;
      GLAcc.FILTERGROUP(9);
      GLAcc.SETRANGE("Expense Code",ExpenseCode);
      OnBeforeOpenExpenseRelatedPage(GLAcc);
      GLAcc.FILTERGROUP(0);
      IF GLAcc.FINDSET THEN
        PAGE.RUNMODAL(0,GLAcc);
    END;

    LOCAL PROCEDURE UpdateRelatedGLAccounts@1240060008();
    VAR
      GLAcc@1240060000 : Record 15;
    BEGIN
      GLAcc.RESET;
      GLAcc.SETRANGE("Expense Code",Code);
      OnBeforeUpdateExpenseInGLAccount(GLAcc);
      IF GLAcc.FINDSET THEN
        GLAcc.MODIFYALL("Expense Code",'');
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeOpenExpenseRelatedPage@1240060013(VAR GLAccount@1240060000 : Record 15);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeUpdateExpenseInGLAccount@1240060014(VAR GLAccount@1240060000 : Record 15);
    BEGIN
    END;

    BEGIN
    END.
  }
}

OBJECT Report 50000 Expense Analysis
{
  OBJECT-PROPERTIES
  {
    Date=02/26/19;
    Time=00:53:57;
    Modified=Yes;
    Version List=FuturisticCAL;
  }
  PROPERTIES
  {
  }
  DATASET
  {
    { 1240060000;;DataItem;                  ;
               DataItemTable=Table50000;
               DataItemTableView=SORTING(Code)
                                 ORDER(Ascending);
               PrintOnlyIfDetail=Yes;
               ReqFilterFields=Code,Disabled }

    { 1240060002;1;Column;Code_Expense       ;
               SourceExpr=Expense.Code }

    { 1240060003;1;Column;Description_Expense;
               SourceExpr=Expense.Description }

    { 1240060014;1;Column;ExecutionDate      ;
               SourceExpr=TODAY }

    { 1240060001;1;DataItem;                 ;
               DataItemTable=Table17;
               DataItemTableView=SORTING(Document No.,Posting Date)
                                 ORDER(Ascending)
                                 WHERE(Expense Code=FILTER(<>''));
               ReqFilterFields=G/L Account No.,Posting Date,Expense Code;
               DataItemLink=Expense Code=FIELD(Code) }

    { 1240060004;2;Column;GLAccountNo_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."G/L Account No." }

    { 1240060005;2;Column;PostingDate_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Posting Date" }

    { 1240060006;2;Column;DocumentType_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Document Type" }

    { 1240060007;2;Column;DocumentNo_GLEntry ;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Document No." }

    { 1240060008;2;Column;Amount_GLEntry     ;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry".Amount }

    { 1240060009;2;Column;GlobalDimension1Code_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Global Dimension 1 Code" }

    { 1240060010;2;Column;GlobalDimension2Code_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Global Dimension 2 Code" }

    { 1240060011;2;Column;GLAccountName_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."G/L Account Name" }

    { 1240060012;2;Column;ExpenseCode_GLEntry;
               IncludeCaption=Yes;
               SourceExpr="G/L Entry"."Expense Code" }

  }
  REQUESTPAGE
  {
    PROPERTIES
    {
    }
    CONTROLS
    {
    }
  }
  LABELS
  {
    { 1240060013;ReportCaption ;CaptionML=ENU=Expense Analysis }
  }
  CODE
  {

    BEGIN
    END.
  }
  RDLDATA
  {
    <?xml version="1.0" encoding="utf-8"?>
<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2016/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
  <AutoRefresh>0</AutoRefresh>
  <DataSources>
    <DataSource Name="DataSource">
      <ConnectionProperties>
        <DataProvider>SQL</DataProvider>
        <ConnectString />
      </ConnectionProperties>
      <rd:SecurityType>None</rd:SecurityType>
      <rd:DataSourceID>f15531b0-a60d-4d66-a5af-e9cc120b44db</rd:DataSourceID>
    </DataSource>
  </DataSources>
  <DataSets>
    <DataSet Name="DataSet_Result">
      <Query>
        <DataSourceName>DataSource</DataSourceName>
        <CommandText />
      </Query>
      <Fields>
        <Field Name="Code_Expense">
          <DataField>Code_Expense</DataField>
        </Field>
        <Field Name="Description_Expense">
          <DataField>Description_Expense</DataField>
        </Field>
        <Field Name="ExecutionDate">
          <DataField>ExecutionDate</DataField>
        </Field>
        <Field Name="GLAccountNo_GLEntry">
          <DataField>GLAccountNo_GLEntry</DataField>
        </Field>
        <Field Name="PostingDate_GLEntry">
          <DataField>PostingDate_GLEntry</DataField>
        </Field>
        <Field Name="DocumentType_GLEntry">
          <DataField>DocumentType_GLEntry</DataField>
        </Field>
        <Field Name="DocumentNo_GLEntry">
          <DataField>DocumentNo_GLEntry</DataField>
        </Field>
        <Field Name="Amount_GLEntry">
          <DataField>Amount_GLEntry</DataField>
        </Field>
        <Field Name="Amount_GLEntryFormat">
          <DataField>Amount_GLEntryFormat</DataField>
        </Field>
        <Field Name="GlobalDimension1Code_GLEntry">
          <DataField>GlobalDimension1Code_GLEntry</DataField>
        </Field>
        <Field Name="GlobalDimension2Code_GLEntry">
          <DataField>GlobalDimension2Code_GLEntry</DataField>
        </Field>
        <Field Name="GLAccountName_GLEntry">
          <DataField>GLAccountName_GLEntry</DataField>
        </Field>
        <Field Name="ExpenseCode_GLEntry">
          <DataField>ExpenseCode_GLEntry</DataField>
        </Field>
      </Fields>
      <rd:DataSetInfo>
        <rd:DataSetName>DataSet</rd:DataSetName>
        <rd:SchemaPath>Report.xsd</rd:SchemaPath>
        <rd:TableName>Result</rd:TableName>
      </rd:DataSetInfo>
    </DataSet>
  </DataSets>
  <ReportSections>
    <ReportSection>
      <Body>
        <ReportItems>
          <Tablix Name="Tablix1">
            <TablixBody>
              <TablixColumns>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1.1625in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1.14167in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
                <TablixColumn>
                  <Width>1in</Width>
                </TablixColumn>
              </TablixColumns>
              <TablixRows>
                <TablixRow>
                  <Height>0.25in</Height>
                  <TablixCells>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox28">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!GLAccountNo_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox28</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox29">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!GLAccountName_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox29</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox30">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!DocumentType_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox30</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox31">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!DocumentNo_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox31</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox32">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!PostingDate_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox32</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingRight>1pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox33">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!GlobalDimension1Code_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Center</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox33</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox34">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!GlobalDimension2Code_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Center</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox34</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox35">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Parameters!Amount_GLEntryCaption.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox35</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                  </TablixCells>
                </TablixRow>
                <TablixRow>
                  <Height>0.25in</Height>
                  <TablixCells>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox49">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!ExpenseCode_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox49</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <BackgroundColor>LightGrey</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                        <ColSpan>8</ColSpan>
                      </CellContents>
                    </TablixCell>
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                  </TablixCells>
                </TablixRow>
                <TablixRow>
                  <Height>0.25in</Height>
                  <TablixCells>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="GLAccountNo_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!GLAccountNo_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>GLAccountNo_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="GLAccountName_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!GLAccountName_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>GLAccountName_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="DocumentType_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!DocumentType_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>DocumentType_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="DocumentNo_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!DocumentNo_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>DocumentNo_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="PostingDate_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!PostingDate_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                    <Format>d</Format>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>PostingDate_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="GlobalDimension1Code_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!GlobalDimension1Code_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Center</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>GlobalDimension1Code_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="GlobalDimension2Code_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!GlobalDimension2Code_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Center</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>GlobalDimension2Code_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Amount_GLEntry">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=Fields!Amount_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>8pt</FontSize>
                                    <Format>=Fields!Amount_GLEntryFormat.Value</Format>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Amount_GLEntry</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                  </TablixCells>
                </TablixRow>
                <TablixRow>
                  <Height>0.25in</Height>
                  <TablixCells>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox40">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">="Total For Expense Code : " + Fields!ExpenseCode_GLEntry.Value</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox40</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <BackgroundColor>LightGrey</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                        <ColSpan>7</ColSpan>
                      </CellContents>
                    </TablixCell>
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell />
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Amount_GLEntry1">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto">=SUM(Fields!Amount_GLEntry.Value)</Value>
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                    <Format>=Fields!Amount_GLEntryFormat.Value</Format>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Amount_GLEntry1</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>Solid</Style>
                            </Border>
                            <BackgroundColor>LightGrey</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                  </TablixCells>
                </TablixRow>
                <TablixRow>
                  <Height>0.06667in</Height>
                  <TablixCells>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox12">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox12</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox13">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox13</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox14">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox14</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox15">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox15</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox16">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox16</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox17">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox17</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox18">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style>
                                <TextAlign>Right</TextAlign>
                              </Style>
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox18</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                    <TablixCell>
                      <CellContents>
                        <Textbox Name="Textbox19">
                          <CanGrow>true</CanGrow>
                          <KeepTogether>true</KeepTogether>
                          <Paragraphs>
                            <Paragraph>
                              <TextRuns>
                                <TextRun>
                                  <Value EvaluationMode="Auto" />
                                  <Style>
                                    <FontSize>9pt</FontSize>
                                    <FontWeight>Bold</FontWeight>
                                  </Style>
                                </TextRun>
                              </TextRuns>
                              <Style />
                            </Paragraph>
                          </Paragraphs>
                          <rd:DefaultName>Textbox19</rd:DefaultName>
                          <Style>
                            <Border>
                              <Style>None</Style>
                            </Border>
                            <BackgroundColor>White</BackgroundColor>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                        </Textbox>
                      </CellContents>
                    </TablixCell>
                  </TablixCells>
                </TablixRow>
              </TablixRows>
            </TablixBody>
            <TablixColumnHierarchy>
              <TablixMembers>
                <TablixMember />
                <TablixMember />
                <TablixMember />
                <TablixMember />
                <TablixMember />
                <TablixMember />
                <TablixMember />
                <TablixMember />
              </TablixMembers>
            </TablixColumnHierarchy>
            <TablixRowHierarchy>
              <TablixMembers>
                <TablixMember>
                  <KeepWithGroup>After</KeepWithGroup>
                  <RepeatOnNewPage>true</RepeatOnNewPage>
                  <KeepTogether>true</KeepTogether>
                </TablixMember>
                <TablixMember>
                  <Group Name="ExpenseCode_GLEntry">
                    <GroupExpressions>
                      <GroupExpression>=Fields!ExpenseCode_GLEntry.Value</GroupExpression>
                    </GroupExpressions>
                  </Group>
                  <SortExpressions>
                    <SortExpression>
                      <Value>=Fields!ExpenseCode_GLEntry.Value</Value>
                    </SortExpression>
                  </SortExpressions>
                  <TablixMembers>
                    <TablixMember>
                      <KeepWithGroup>After</KeepWithGroup>
                    </TablixMember>
                    <TablixMember>
                      <Group Name="Details" />
                    </TablixMember>
                    <TablixMember>
                      <KeepWithGroup>Before</KeepWithGroup>
                    </TablixMember>
                    <TablixMember>
                      <KeepWithGroup>Before</KeepWithGroup>
                    </TablixMember>
                  </TablixMembers>
                </TablixMember>
              </TablixMembers>
            </TablixRowHierarchy>
            <DataSetName>DataSet_Result</DataSetName>
            <Top>0in</Top>
            <Left>0in</Left>
            <Height>1.06667in</Height>
            <Width>8.30417in</Width>
            <Style>
              <Border>
                <Style>None</Style>
              </Border>
            </Style>
          </Tablix>
        </ReportItems>
        <Height>2.794cm</Height>
        <Style />
      </Body>
      <Width>21.1455cm</Width>
      <Page>
        <PageHeader>
          <Height>1.397cm</Height>
          <PrintOnFirstPage>true</PrintOnFirstPage>
          <PrintOnLastPage>true</PrintOnLastPage>
          <ReportItems>
            <Textbox Name="Textbox1">
              <KeepTogether>true</KeepTogether>
              <Paragraphs>
                <Paragraph>
                  <TextRuns>
                    <TextRun>
                      <Value EvaluationMode="Auto">=User!UserID</Value>
                      <Style>
                        <FontWeight>Bold</FontWeight>
                      </Style>
                    </TextRun>
                  </TextRuns>
                  <Style>
                    <TextAlign>Right</TextAlign>
                  </Style>
                </Paragraph>
              </Paragraphs>
              <rd:DefaultName>Textbox1</rd:DefaultName>
              <Top>0in</Top>
              <Left>6.425in</Left>
              <Height>0.25in</Height>
              <Width>1.85in</Width>
              <Style>
                <Border>
                  <Style>None</Style>
                </Border>
                <PaddingLeft>2pt</PaddingLeft>
                <PaddingRight>2pt</PaddingRight>
                <PaddingTop>2pt</PaddingTop>
                <PaddingBottom>2pt</PaddingBottom>
              </Style>
            </Textbox>
            <Textbox Name="Textbox2">
              <KeepTogether>true</KeepTogether>
              <Paragraphs>
                <Paragraph>
                  <TextRuns>
                    <TextRun>
                      <Value EvaluationMode="Auto">=First(Fields!ExecutionDate.Value, "DataSet_Result")</Value>
                      <Style>
                        <FontWeight>Bold</FontWeight>
                      </Style>
                    </TextRun>
                  </TextRuns>
                  <Style>
                    <TextAlign>Right</TextAlign>
                  </Style>
                </Paragraph>
              </Paragraphs>
              <rd:DefaultName>Textbox1</rd:DefaultName>
              <Top>0.25in</Top>
              <Left>6.425in</Left>
              <Height>0.25in</Height>
              <Width>1.85in</Width>
              <ZIndex>1</ZIndex>
              <Style>
                <Border>
                  <Style>None</Style>
                </Border>
                <PaddingLeft>2pt</PaddingLeft>
                <PaddingRight>2pt</PaddingRight>
                <PaddingTop>2pt</PaddingTop>
                <PaddingBottom>2pt</PaddingBottom>
              </Style>
            </Textbox>
            <Textbox Name="Textbox3">
              <KeepTogether>true</KeepTogether>
              <Paragraphs>
                <Paragraph>
                  <TextRuns>
                    <TextRun>
                      <Value EvaluationMode="Auto">=Parameters!ReportCaption.Value</Value>
                      <Style>
                        <FontWeight>Bold</FontWeight>
                      </Style>
                    </TextRun>
                  </TextRuns>
                  <Style />
                </Paragraph>
              </Paragraphs>
              <rd:DefaultName>Textbox1</rd:DefaultName>
              <Top>0in</Top>
              <Left>0in</Left>
              <Height>0.25in</Height>
              <Width>3.825in</Width>
              <ZIndex>2</ZIndex>
              <Style>
                <Border>
                  <Style>None</Style>
                </Border>
                <PaddingLeft>2pt</PaddingLeft>
                <PaddingRight>2pt</PaddingRight>
                <PaddingTop>2pt</PaddingTop>
                <PaddingBottom>2pt</PaddingBottom>
              </Style>
            </Textbox>
          </ReportItems>
          <Style>
            <Border>
              <Style>None</Style>
            </Border>
          </Style>
        </PageHeader>
        <PageHeight>27.94cm</PageHeight>
        <PageWidth>21.59cm</PageWidth>
        <ColumnSpacing>1.27cm</ColumnSpacing>
        <Style />
      </Page>
    </ReportSection>
  </ReportSections>
  <ReportParameters>
    <ReportParameter Name="GLAccountNo_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>GLAccountNo_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>GLAccountNo_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="PostingDate_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>PostingDate_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>PostingDate_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="DocumentType_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>DocumentType_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>DocumentType_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="DocumentNo_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>DocumentNo_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>DocumentNo_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="Amount_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>Amount_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>Amount_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="GlobalDimension1Code_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>GlobalDimension1Code_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>GlobalDimension1Code_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="GlobalDimension2Code_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>GlobalDimension2Code_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>GlobalDimension2Code_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="GLAccountName_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>GLAccountName_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>GLAccountName_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="ExpenseCode_GLEntryCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>ExpenseCode_GLEntryCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>ExpenseCode_GLEntryCaption</Prompt>
    </ReportParameter>
    <ReportParameter Name="ReportCaption">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>ReportCaption</Value>
        </Values>
      </DefaultValue>
      <Prompt>ReportCaption</Prompt>
    </ReportParameter>
  </ReportParameters>
  <ReportParametersLayout>
    <GridLayoutDefinition>
      <NumberOfColumns>1</NumberOfColumns>
      <NumberOfRows>10</NumberOfRows>
      <CellDefinitions>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>0</RowIndex>
          <ParameterName>GLAccountNo_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>1</RowIndex>
          <ParameterName>PostingDate_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>2</RowIndex>
          <ParameterName>DocumentType_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>3</RowIndex>
          <ParameterName>DocumentNo_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>4</RowIndex>
          <ParameterName>Amount_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>5</RowIndex>
          <ParameterName>GlobalDimension1Code_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>6</RowIndex>
          <ParameterName>GlobalDimension2Code_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>7</RowIndex>
          <ParameterName>GLAccountName_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>8</RowIndex>
          <ParameterName>ExpenseCode_GLEntryCaption</ParameterName>
        </CellDefinition>
        <CellDefinition>
          <ColumnIndex>0</ColumnIndex>
          <RowIndex>9</RowIndex>
          <ParameterName>ReportCaption</ParameterName>
        </CellDefinition>
      </CellDefinitions>
    </GridLayoutDefinition>
  </ReportParametersLayout>
  <Code>Public Function BlankZero(ByVal Value As Decimal)
    if Value = 0 then
        Return ""
    end if
    Return Value
End Function

Public Function BlankPos(ByVal Value As Decimal)
    if Value &gt; 0 then
        Return ""
    end if
    Return Value
End Function

Public Function BlankZeroAndPos(ByVal Value As Decimal)
    if Value &gt;= 0 then
        Return ""
    end if
    Return Value
End Function

Public Function BlankNeg(ByVal Value As Decimal)
    if Value &lt; 0 then
        Return ""
    end if
    Return Value
End Function

Public Function BlankNegAndZero(ByVal Value As Decimal)
    if Value &lt;= 0 then
        Return ""
    end if
    Return Value
End Function
</Code>
  <Language>=User!Language</Language>
  <ConsumeContainerWhitespace>true</ConsumeContainerWhitespace>
  <rd:ReportUnitType>Cm</rd:ReportUnitType>
  <rd:ReportID>0eeb6585-38ae-40f1-885b-8d50088d51b4</rd:ReportID>
</Report>
    END_OF_RDLDATA
  }
}

OBJECT Codeunit 50000 Expense Subscribers
{
  OBJECT-PROPERTIES
  {
    Date=02/25/19;
    Time=18:57:15;
    Modified=Yes;
    Version List=FuturisticCAL;
  }
  PROPERTIES
  {
    OnRun=BEGIN
          END;

  }
  CODE
  {

    [EventSubscriber(Table,39,OnAfterAssignGLAccountValues)]
    LOCAL PROCEDURE TransferExpenseCodeToPurchLineFromGL@1240060000(VAR PurchLine@1240060000 : Record 39;GLAccount@1240060001 : Record 15);
    BEGIN
      WITH PurchLine DO BEGIN
        "Expense Code" := GLAccount."Expense Code";
      END;
    END;

    [EventSubscriber(Table,39,OnAfterValidateEvent,Quantity)]
    LOCAL PROCEDURE OnAfterValidatePOQuantity@1240060001(VAR Rec@1240060000 : Record 39;VAR xRec@1240060001 : Record 39;CurrFieldNo@1240060002 : Integer);
    BEGIN
      IF (xRec.Quantity <> 0) AND (Rec.Quantity <> xRec.Quantity) THEN
        Rec.VALIDATE("Expense Code",'');
    END;

    [EventSubscriber(Codeunit,90,OnBeforePostLines)]
    LOCAL PROCEDURE OnBeforePurchaseOrderPostLines@1240060002(VAR PurchLine@1240060000 : Record 39;PurchHeader@1240060001 : Record 38;PreviewMode@1240060002 : Boolean;CommitIsSupressed@1240060003 : Boolean);
    VAR
      Expense@1240060004 : Record 50000;
      DisabledExpense@1240060005 : TextConst 'ENU=Expense Code %1 is Disabled. Please Update Expense Code in Line No %2.';
    BEGIN
      IF PurchLine.FINDFIRST THEN REPEAT
        IF PurchLine.Type = PurchLine.Type::"G/L Account" THEN BEGIN
          PurchLine.TESTFIELD("Expense Code");
          Expense.GET(PurchLine."Expense Code");
          IF Expense.Disabled THEN
            ERROR(STRSUBSTNO(DisabledExpense,Expense.Code,PurchLine."Line No."));
        END;
      UNTIL(PurchLine.NEXT=0);
    END;

    [EventSubscriber(Table,81,OnAfterCopyGenJnlLineFromInvPostBuffer)]
    LOCAL PROCEDURE ExpenseCodeOnAfterCopyGenJnlLineFromInvPostBuffer@1240060005(InvoicePostBuffer@1240060000 : Record 49;VAR GenJournalLine@1240060001 : Record 81);
    BEGIN
      GenJournalLine."Expense Code" := InvoicePostBuffer."Expense Code";
    END;

    [EventSubscriber(Table,49,OnAfterInvPostBufferPreparePurchase)]
    LOCAL PROCEDURE ExpenseCodeOnAfterInvPostBufferPreparePurchase@1240060004(VAR PurchaseLine@1240060000 : Record 39;VAR InvoicePostBuffer@1240060001 : Record 49);
    BEGIN
      InvoicePostBuffer."Expense Code" := PurchaseLine."Expense Code";
    END;

    [EventSubscriber(Table,17,OnAfterCopyGLEntryFromGenJnlLine)]
    LOCAL PROCEDURE ExpenseCodeOnAfterCopyGLEntryFromGenJnlLine@1240060003(VAR GLEntry@1240060000 : Record 17;VAR GenJournalLine@1240060001 : Record 81);
    BEGIN
      GLEntry."Expense Code" := GenJournalLine."Expense Code";
    END;

    BEGIN
    END.
  }
}

OBJECT Page 17 G/L Account Card
{
  OBJECT-PROPERTIES
  {
    Date=02/27/19;
    Time=22:59:00;
    Modified=Yes;
    Version List=NAVW113.01,NAVNA13.01,FuturisticCAL;
  }
  PROPERTIES
  {
    CaptionML=[ENU=G/L Account Card;
               ESM=Ficha cuenta;
               FRC=Fiche compte GL;
               ENC=G/L Account Card];
    SourceTable=Table15;
    PageType=Card;
    RefreshOnActivate=Yes;
    PromotedActionCategoriesML=[ENU=New,Process,Report,Account,Balance;
                                ESM=Nuevo,Procesar,Informe,Cuenta,Saldo;
                                FRC=Nouveau,Traiter,Rapport,Compte,Solde;
                                ENC=New,Process,Report,Account,Balance];
    OnAfterGetRecord=BEGIN
                       UpdateAccountSubcategoryDescription;
                     END;

    OnNewRecord=BEGIN
                  SetupNewGLAcc(xRec,BelowxRec);
                END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 36      ;1   ;ActionGroup;
                      CaptionML=[ENU=A&ccount;
                                 ESM=&Cuenta;
                                 FRC=&Compte;
                                 ENC=A&ccount];
                      Image=ChartOfAccounts }
      { 41      ;2   ;Action    ;
                      ShortCutKey=Ctrl+F7;
                      CaptionML=[ENU=Ledger E&ntries;
                                 ESM=&Movimientos;
                                 FRC=ê&critures comptables;
                                 ENC=Ledger E&ntries];
                      ToolTipML=[ENU=View the history of transactions that have been posted for the selected record.;
                                 ESM=Permite ver el historial de transacciones que se han registrado para el registro seleccionado.;
                                 FRC=Affichez l'historique des transactions qui ont ÇtÇ reportÇes pour l'enregistrement sÇlectionnÇ.;
                                 ENC=View the history of transactions that have been posted for the selected record.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 20;
                      RunPageView=SORTING(G/L Account No.)
                                  ORDER(Descending);
                      RunPageLink=G/L Account No.=FIELD(No.);
                      Promoted=Yes;
                      Image=GLRegisters;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 1240060000;2 ;Action    ;
                      CaptionML=ENU=Expenses;
                      ApplicationArea=#All;
                      RunObject=Page 50000;
                      Promoted=Yes;
                      Image=Receipt;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 38      ;2   ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 ESM=C&omentarios;
                                 FRC=Co&mmentaires;
                                 ENC=Co&mments];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 ESM=Permite ver o agregar comentarios para el registro.;
                                 FRC=Affichez ou ajoutez des commentaires pour l'enregistrement.;
                                 ENC=View or add comments for the record.];
                      ApplicationArea=#Comments;
                      RunObject=Page 124;
                      RunPageLink=Table Name=CONST(G/L Account),
                                  No.=FIELD(No.);
                      Promoted=Yes;
                      Image=ViewComments;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 84      ;2   ;Action    ;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 ESM=Dimensiones;
                                 FRC=Dimensions;
                                 ENC=Dimensions];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 ESM=Permite ver o editar dimensiones, como el †rea, el proyecto o el departamento, que pueden asignarse a los documentos de venta y compra para distribuir costos y analizar el historial de transacciones.;
                                 FRC=Affichez ou modifiez les dimensions, telles que la zone, le projet ou le dÇpartement que vous pouvez affecter aux documents vente et achat afin de distribuer les coñts et analyser l'historique des transactions.;
                                 ENC=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyse transaction history.];
                      ApplicationArea=#Dimensions;
                      RunObject=Page 540;
                      RunPageLink=Table ID=CONST(15),
                                  No.=FIELD(No.);
                      Promoted=Yes;
                      Image=Dimensions;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 166     ;2   ;Action    ;
                      CaptionML=[ENU=E&xtended Text;
                                 ESM=Te&xtos adicionales;
                                 FRC=&Textes Çtendus;
                                 ENC=E&xtended Text];
                      ToolTipML=[ENU=View additional information about a general ledger account, this supplements the Description field.;
                                 ESM=Permite ver informaci¢n adicional sobre una cuenta de contabilidad. Esta informaci¢n es un complemento del campo Descripci¢n.;
                                 FRC=Affichez des informations supplÇmentaires sur un compte GL, cela compläte le champ Description.;
                                 ENC=View additional information about a general ledger account, this supplements the Description field.];
                      ApplicationArea=#Suite;
                      RunObject=Page 391;
                      RunPageView=SORTING(Table Name,No.,Language Code,All Language Codes,Starting Date,Ending Date);
                      RunPageLink=Table Name=CONST(G/L Account),
                                  No.=FIELD(No.);
                      Promoted=Yes;
                      Image=Text;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 40      ;2   ;Action    ;
                      CaptionML=[ENU=Receivables-Payables;
                                 ESM=Cobros y pagos;
                                 FRC=∑ recevoir - Ö payer;
                                 ENC=Receivables-Payables];
                      ToolTipML=[ENU=View a summary of the receivables and payables for the account, including customer and vendor balance due amounts.;
                                 ESM=Permite ver un resumen de los cobros y los pagos de la cuenta, incluidos los importes de saldo pendiente de clientes y proveedores.;
                                 FRC=Affichez un rÇsumÇ des clients et des fournisseurs pour le compte, dont les montants dus du solde client et fournisseur.;
                                 ENC=View a summary of the receivables and payables for the account, including customer and vendor balance due amounts.];
                      ApplicationArea=#Suite;
                      RunObject=Page 159;
                      Promoted=Yes;
                      Image=ReceivablesPayables;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes }
      { 47      ;2   ;Action    ;
                      CaptionML=[ENU=Where-Used List;
                                 ESM=Lista punto uso;
                                 FRC=Liste des cas d'emploi;
                                 ENC=Where-Used List];
                      ToolTipML=[ENU=View setup tables where a general ledger account is used.;
                                 ESM=Permite ver las tablas de configuraci¢n donde se utiliza una cuenta de contabilidad.;
                                 FRC=Affichez les tables de configuration dans lesquelles un compte GL est utilisÇ.;
                                 ENC=View setup tables where a general ledger account is used.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=Track;
                      PromotedCategory=Category4;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 CalcGLAccWhereUsed@1000 : Codeunit 100;
                               BEGIN
                                 CalcGLAccWhereUsed.CheckGLAcc("No.");
                               END;
                                }
      { 136     ;1   ;ActionGroup;
                      CaptionML=[ENU=&Balance;
                                 ESM=&Saldo;
                                 FRC=&Solde;
                                 ENC=&Balance];
                      Image=Balance }
      { 46      ;2   ;Action    ;
                      CaptionML=[ENU=G/L &Account Balance;
                                 ESM=S&aldo cuenta C/G;
                                 FRC=Solde de &compte du grand livre;
                                 ENC=G/L &Account Balance];
                      ToolTipML=[ENU=View a summary of the debit and credit balances for different time periods, for the account that you select in the chart of accounts.;
                                 ESM=Permite ver un resumen de los saldos de debe y haber para distintos periodos correspondiente a la cuenta seleccionada en el cat†logo de cuentas.;
                                 FRC=Affichez un rÇsumÇ des soldes dÇbiteurs et crÇditeurs pour diffÇrentes pÇriodes, pour le compte que vous sÇlectionnez dans le plan comptable.;
                                 ENC=View a summary of the debit and credit balances for different time periods, for the account that you select in the chart of accounts.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 415;
                      RunPageLink=No.=FIELD(No.),
                                  Global Dimension 1 Filter=FIELD(Global Dimension 1 Filter),
                                  Global Dimension 2 Filter=FIELD(Global Dimension 2 Filter),
                                  Business Unit Filter=FIELD(Business Unit Filter);
                      Promoted=Yes;
                      Image=GLAccountBalance;
                      PromotedCategory=Category5;
                      PromotedOnly=Yes }
      { 154     ;2   ;Action    ;
                      CaptionML=[ENU=G/L &Balance;
                                 ESM=&Saldo C/G;
                                 FRC=&Solde du grand livre;
                                 ENC=G/L &Balance];
                      ToolTipML=[ENU=View a summary of the debit and credit balances for all the accounts in the chart of accounts, for the time period that you select.;
                                 ESM=Permite ver un resumen de los saldos de dÇbito y crÇdito para todas las cuentas del cat†logo de cuentas y para el periodo seleccionado.;
                                 FRC=Afficher un rÇsumÇ des soldes dÇbiteurs et crÇditeurs pour tous les comptes dans le plan comptable, pour la pÇriode que vous sÇlectionnez.;
                                 ENC=View a summary of the debit and credit balances for all the accounts in the chart of accounts, for the time period that you select.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 414;
                      RunPageOnRec=Yes;
                      Promoted=Yes;
                      Image=GLBalance;
                      PromotedCategory=Category5;
                      PromotedOnly=Yes }
      { 138     ;2   ;Action    ;
                      CaptionML=[ENU=G/L Balance by &Dimension;
                                 ESM=Saldo C/G &por dimensi¢n;
                                 FRC=Solde de gr&and livre par dimension;
                                 ENC=G/L Balance by &Dimension];
                      ToolTipML=[ENU=View a summary of the debit and credit balances by dimensions for the current account.;
                                 ESM=Permite ver un resumen de los saldos de dÇbito y crÇdito por dimensiones para la cuenta actual.;
                                 FRC=Affichez un rÇsumÇ des soldes dÇbit et crÇdit par axe pour le compte actuel.;
                                 ENC=View a summary of the debit and credit balances by dimensions for the current account.];
                      ApplicationArea=#Dimensions;
                      RunObject=Page 408;
                      Promoted=Yes;
                      Image=GLBalanceDimension;
                      PromotedCategory=Category5;
                      PromotedOnly=Yes }
      { 1906497203;1 ;Action    ;
                      CaptionML=[ENU=General Posting Setup;
                                 ESM=Configuraci¢n de registro general;
                                 FRC=Config. paramätres report;
                                 ENC=General Posting Setup];
                      ToolTipML=[ENU=View or edit how you want to set up combinations of general business and general product posting groups.;
                                 ESM=Permite ver o editar c¢mo desea configurar las combinaciones de grupos de registro de negocio general y de producto general.;
                                 FRC=Affichez ou modifiez la maniäre dont vous souhaitez configurer des combinaisons de groupes de report marchÇ et produit.;
                                 ENC=View or edit how you want to set up combinations of general business and general product posting groups.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 314;
                      Promoted=Yes;
                      Image=GeneralPostingSetup;
                      PromotedCategory=Process;
                      PromotedOnly=Yes }
      { 1900660103;1 ;Action    ;
                      CaptionML=[ENU=Tax Posting Setup;
                                 ESM=Config. grupos registro IVA;
                                 FRC=Configuration report de taxe;
                                 ENC=Tax Posting Setup];
                      ToolTipML=[ENU=View or edit combinations of Tax business posting groups and Tax product posting groups.;
                                 ESM=Permite ver o editar combinaciones de Grupos registro IVA negocio y Grupos registro IVA producto.;
                                 FRC=Affichez ou modifiez des combinaisons de groupes de report marchÇ fiscal et de groupes de report produit fiscal.;
                                 ENC=View or edit combinations of Tax business posting groups and Tax product posting groups.];
                      RunObject=Page 472;
                      Promoted=Yes;
                      Image=VATPostingSetup;
                      PromotedCategory=Process;
                      PromotedOnly=Yes }
      { 1900210203;1 ;Action    ;
                      CaptionML=[ENU=G/L Register;
                                 ESM=Registro movs. contabilidad;
                                 FRC=Registre GL;
                                 ENC=G/L Register];
                      ToolTipML=[ENU=View posted G/L entries.;
                                 ESM=Permite ver movimientos contables registrados.;
                                 FRC=Affichez les Çcritures GL reportÇes.;
                                 ENC=View posted G/L entries.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Page 116;
                      Promoted=Yes;
                      Image=GLRegisters;
                      PromotedCategory=Process;
                      PromotedOnly=Yes }
      { 15      ;1   ;Action    ;
                      Name=DocsWithoutIC;
                      CaptionML=[ENU=Posted Documents without Incoming Document;
                                 ESM=Documentos registrados sin documento entrante;
                                 FRC=Documents reportÇs sans document entrant;
                                 ENC=Posted Documents without Incoming Document];
                      ToolTipML=[ENU=Show a list of posted purchase and sales documents under the G/L account that do not have related incoming document records.;
                                 ESM=Muestra una lista de documentos de compra y venta registrados en la cuenta contable que no tienen registros de documento entrantes relacionados.;
                                 FRC=Affichez une liste des documents ventes et achats reportÇs sous le compte du grand livre qui n'a pas d'enregistrement de document entrant associÇ.;
                                 ENC=Show a list of posted purchase and sales documents under the G/L account that do not have related incoming document records.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      PromotedIsBig=Yes;
                      Image=Documents;
                      PromotedCategory=Process;
                      PromotedOnly=Yes;
                      OnAction=VAR
                                 PostedDocsWithNoIncBuf@1001 : Record 134;
                               BEGIN
                                 IF "Account Type" = "Account Type"::Posting THEN
                                   PostedDocsWithNoIncBuf.SETRANGE("G/L Account No. Filter","No.")
                                 ELSE
                                   IF Totaling <> '' THEN
                                     PostedDocsWithNoIncBuf.SETFILTER("G/L Account No. Filter",Totaling)
                                   ELSE
                                     EXIT;
                                 PAGE.RUN(PAGE::"Posted Docs. With No Inc. Doc.",PostedDocsWithNoIncBuf);
                               END;
                                }
      { 1900000006;0 ;ActionContainer;
                      ActionContainerType=Reports }
      { 1904257206;1 ;Action    ;
                      CaptionML=[ENU=Chart of Accounts;
                                 ESM=Cat†logo de cuentas;
                                 FRC=Plan comptable;
                                 ENC=Chart of Accounts];
                      ToolTipML=[ENU=View the chart of accounts.;
                                 ESM=Permite ver el cat†logo de cuentas.;
                                 FRC=Affichez le plan comptable.;
                                 ENC=View the chart of accounts.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Report 10002;
                      Promoted=No;
                      Image=Report;
                      PromotedCategory=Report }
      { 1904842106;1 ;Action    ;
                      CaptionML=[ENU=Export GIFI Info. to Excel;
                                 ESM=Exportar info. GIFI a Excel;
                                 FRC=Exporter donnÇes IGRF vers fichier Excel;
                                 ENC=Export GIFI Info. to Excel];
                      ToolTipML=[ENU=Export balance information using General Index of Financial Information (GIFI) codes and save the exported file in Excel. You can use the file to transfer information to your tax preparation software.;
                                 ESM=Permite exportar la informaci¢n de saldos usando los c¢digos del ÷ndice general de informaci¢n financiera (GIFI) y guardar el archivo exportado en Excel. Puede usar el archivo para transferir informaci¢n a su software de preparaci¢n de impuestos.;
                                 FRC=Exportez les renseignements relatifs aux soldes Ö l'aide des codes IGRF (Index gÇnÇral des renseignements financiers) et sauvegardez le fichier exportÇ dans Excel. Vous pouvez utiliser ce fichier pour transfÇrer des renseignements vers votre logiciel de prÇparation de dÇclarations de revenus.;
                                 ENC=Export balance information using General Index of Financial Information (GIFI) codes and save the exported file in Excel. You can use the file to transfer information to your tax preparation software.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Report 10005;
                      Promoted=No;
                      Image=ExportToExcel;
                      PromotedCategory=Report }
      { 1901958806;1 ;Action    ;
                      CaptionML=[ENU=Consol. Trial Balance;
                                 ESM=Balance comprobaci¢n consol.;
                                 FRC=Balance de vÇrification consol.;
                                 ENC=Consol. Trial Balance];
                      ToolTipML=[ENU=View the trial balance for a consolidated company.;
                                 ESM=Permite ver el balance de comprobaci¢n de una empresa consolidada.;
                                 FRC=Affichez la balance de vÇrification pour une compagnie consolidÇe.;
                                 ENC=View the trial balance for a consolidated company.];
                      RunObject=Report 10007;
                      Promoted=No;
                      Image=Report;
                      PromotedCategory=Report }
      { 1900210206;1 ;Action    ;
                      CaptionML=[ENU=G/L Register;
                                 ESM=Registro movs. contabilidad;
                                 FRC=Registre GL;
                                 ENC=G/L Register];
                      ToolTipML=[ENU=View posted G/L entries.;
                                 ESM=Permite ver movimientos contables registrados.;
                                 FRC=Affichez les Çcritures GL reportÇes.;
                                 ENC=View posted G/L entries.];
                      ApplicationArea=#Suite;
                      RunObject=Report 10019;
                      Image=GLRegisters;
                      PromotedCategory=Report }
      { 1905760806;1 ;Action    ;
                      CaptionML=[ENU=Trial Balance Detail/Summary;
                                 ESM=Balance compr./resumen;
                                 FRC=Balance vÇrif. dÇtail/sommaire;
                                 ENC=Trial Balance Detail/Summary];
                      ToolTipML=[ENU=View general ledger account balances and activities for all the selected accounts, one transaction per line. You can include general ledger accounts which have a balance and including the closing entries within the period.;
                                 ESM=Permite ver los saldos y actividades de contabilidad de todas las cuentas seleccionadas, una transacci¢n por l°nea. Puede incluir cuentas con saldo y los movimientos de cierre para el per°odo.;
                                 FRC=Affichez les activitÇs et les soldes des comptes du grand livre pour tous les comptes sÇlectionnÇs, une transaction par ligne. Vous pouvez inclure les comptes du grand livre qui disposent d'un solde et les Çcritures de fermeture comprises dans la pÇriode.;
                                 ENC=View general ledger account balances and activities for all the selected accounts, one transaction per line. You can include general ledger accounts which have a balance and including the closing entries within the period.];
                      ApplicationArea=#Basic,#Suite;
                      RunObject=Report 10021;
                      Promoted=No;
                      Image=Report;
                      PromotedCategory=Report }
      { 1902292006;1 ;Action    ;
                      CaptionML=[ENU=Trial Balance, per Global Dim.;
                                 ESM=Balance comprobaci¢n, por Dim. global;
                                 FRC=Balance de vÇrification, par dimension globale;
                                 ENC=Trial Balance, per Global Dim.];
                      ToolTipML=[ENU=View three types of departmental trial balances: current trial balance and trial balances which compare current amounts to either the prior year or to the current budget. Each department selected will have a separate trial balance generated.;
                                 ESM=Permite ver tres tipos de balances de comprobaci¢n departamentales: el balance de comprobaci¢n actual y los balances de comprobaci¢n que comparan los importes actuales con el a§o anterior o con el presupuesto actual. Por cada departamento seleccionado, se generar† un balance de comprobaci¢n independiente.;
                                 FRC=Affichez trois types de balances de vÇrification par dÇpartementˇ: une balance de vÇrification actuelle et des balances de vÇrification qui comparent les montants par rapport Ö l'annÇe prÇcÇdente ou au budget actuel. Une balance de vÇrification distincte est gÇnÇrÇe pour chaque dÇpartement sÇlectionnÇ.;
                                 ENC=View three types of departmental trial balances: current trial balance and trial balances which compare current amounts to either the prior year or to the current budget. Each department selected will have a separate trial balance generated.];
                      ApplicationArea=#Suite;
                      RunObject=Report 10023;
                      Promoted=No;
                      Image=Report;
                      PromotedCategory=Report }
      { 1907277506;1 ;Action    ;
                      CaptionML=[ENU=Trial Balance, Spread G. Dim.;
                                 ESM=Balance comprob., dimen. global extendida;
                                 FRC=Balance vÇrif., dim. globale Çtendue;
                                 ENC=Trial Balance, Spread G. Dim.];
                      ToolTipML=[ENU=View the chart of accounts with balances or net changes, with each department in a separate column. This report can be used at the close of an accounting period or fiscal year.;
                                 ESM=Permite ver el cat†logo de cuentas con balances o cambios netos, donde cada departamento se ubica en una columna aparte. Este informe puede usarse al cierre de un per°odo o ejercicio contables.;
                                 FRC=Affichez le plan comptable avec soldes ou variations nettes, avec chaque dÇpartement dans une colonne distincte. Ce rapport peut àtre utilisÇ Ö la clìture d'une pÇriode comptable ou d'un exercice financier.;
                                 ENC=View the chart of accounts with balances or net changes, with each department in a separate column. This report can be used at the close of an accounting period or fiscal year.];
                      ApplicationArea=#Suite;
                      RunObject=Report 10025;
                      Promoted=No;
                      Image=Report;
                      PromotedCategory=Report }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 61      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 ESM=Acci&ones;
                                 FRC=F&onctions;
                                 ENC=F&unctions];
                      Image=Action }
      { 62      ;2   ;Action    ;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Apply Template;
                                 ESM=Aplicar plantilla;
                                 FRC=Appliquer le modäle;
                                 ENC=Apply Template];
                      ToolTipML=[ENU=Select a configuration template to quickly create a general ledger account.;
                                 ESM=Permite seleccionar una plantilla de configuraci¢n para crear r†pidamente una cuenta de contabilidad.;
                                 FRC=SÇlectionnez un modäle de configuration pour crÇer rapidement un compte GL.;
                                 ENC=Select a configuration template to quickly create a general ledger account.];
                      ApplicationArea=#Basic,#Suite;
                      Image=ApplyTemplate;
                      OnAction=VAR
                                 ConfigTemplateMgt@1000 : Codeunit 8612;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 ConfigTemplateMgt.UpdateFromTemplateSelection(RecRef);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                CaptionML=[ENU=General;
                           ESM=General;
                           FRC=GÇnÇral;
                           ENC=General] }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the involved entry or record, according to the specified number series.;
                           ESM=Especifica el n£mero de la entrada o el registro relacionado, seg£n la serie numÇrica especificada.;
                           FRC=SpÇcifie le numÇro de l'Çcriture ou de l'enregistrement concernÇ, en fonction de la sÇrie de numÇros spÇcifiÇe.;
                           ENC=Specifies the number of the involved entry or record, according to the specified number series.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="No.";
                Importance=Promoted }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the name of the general ledger account.;
                           ESM=Especifica el nombre de la cuenta contable.;
                           FRC=SpÇcifie le nom du compte GL.;
                           ENC=Specifies the name of the general ledger account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Name;
                Importance=Promoted }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether a general ledger account is an income statement account or a balance sheet account.;
                           ESM=Especifica si la cuenta contable es una cuenta de ingresos o de balance.;
                           FRC=SpÇcifie si un compte GL est un compte d'Çtat des rÇsultats ou un compte de bilan.;
                           ENC=Specifies whether a general ledger account is an income statement account or a balance sheet account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Income/Balance";
                Importance=Promoted }

    { 11  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the category of the G/L account.;
                           ESM=Especifica la categor°a de la cuenta contable.;
                           FRC=SpÇcifie la catÇgorie du compte du grand livre.;
                           ENC=Specifies the category of the G/L account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Account Category";
                OnLookup=BEGIN
                           UpdateAccountSubcategoryDescription;
                         END;
                          }

    { 13  ;2   ;Field     ;
                Name=SubCategoryDescription;
                CaptionML=[ENU=Account Subcategory;
                           ESM=Subcategor°a de cuenta;
                           FRC=Sous-catÇgorie du compte;
                           ENC=Account Subcategory];
                ToolTipML=[ENU=Specifies the subcategory of the account category of the G/L account.;
                           ESM=Especifica la subcategor°a de la cuenta contable.;
                           FRC=SpÇcifie la sous-catÇgorie de la catÇgorie compte du compte du grand livre.;
                           ENC=Specifies the subcategory of the account category of the G/L account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=SubCategoryDescription;
                OnValidate=BEGIN
                             ValidateAccountSubCategory(SubCategoryDescription);
                             UpdateAccountSubcategoryDescription;
                           END;

                OnLookup=BEGIN
                           LookupAccountSubCategory;
                           UpdateAccountSubcategoryDescription;
                         END;
                          }

    { 1480000;2;Field     ;
                ToolTipML=[ENU=Specifies a General Index of Financial Information (GIFI) code for the account.;
                           ESM=Especifica un c¢digo ÷ndice general de informaci¢n financiera (GIFI) para la cuenta.;
                           FRC=SpÇcifie un code IGRF (Index gÇnÇral des renseignements financiers) pour le compte.;
                           ENC=Specifies a General Index of Financial Information (GIFI) code for the account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="GIFI Code" }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of entries that will normally be posted to this general ledger account.;
                           ESM=Especifica el tipo de movimientos que se registrar† normalmente en la cuenta contable.;
                           FRC=SpÇcifie le type d'Çcriture qui est normalement reportÇe sur ce compte GL.;
                           ENC=Specifies the type of entries that will normally be posted to this general ledger account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Debit/Credit" }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the purpose of the account. Total: Used to total a series of balances on accounts from many different account groupings. To use Total, leave this field blank. Begin-Total: A marker for the beginning of a series of accounts to be totaled that ends with an End-Total account. End-Total: A total of a series of accounts that starts with the preceding Begin-Total account. The total is defined in the Totaling field.;
                           ESM=Especifica el prop¢sito de la cuenta. Total: se utiliza para calcular el total de una serie de saldos de las cuentas de muchos grupos de cuentas distintos. Para usar Total, deje en blanco este campo. Inicio-tot: marcador para el principio de una serie de cuentas que se van a sumar y que finaliza con una cuenta Fin-tot. Fin-total: total de una serie de cuentas que comienza con la cuenta de Inicio-tot anterior. El total se define en el campo Sumatorio.;
                           FRC=SpÇcifie l'objet du compte. Totalˇ: utilisÇ pour totaliser une sÇrie de soldes sur des comptes issus de nombreux groupes de comptes diffÇrents. Pour utiliser Total, laissez ce champ vide. DÇbut Totalˇ: un marqueur de dÇbut d'une sÇrie de comptes Ö totaliser, se terminant par un compte Fin Total. Fin Totalˇ: le total d'une sÇrie de comptes qui commence par le compte DÇbut Total prÇcÇdent. Le total est dÇfini dans le champ Totalisation.;
                           ENC=Specifies the purpose of the account. Total: Used to total a series of balances on accounts from many different account groupings. To use Total, leave this field blank. Begin-Total: A marker for the beginning of a series of accounts to be totalled that ends with an End-Total account. End-Total: A total of a series of accounts that starts with the preceding Begin-Total account. The total is defined in the Totalling field.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Account Type" }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies an account interval or a list of account numbers. The entries of the account will be totaled to give a total balance. How entries are totaled depends on the value in the Account Type field.;
                           ESM=Especifica un intervalo de cuentas o una lista de n£meros de cuenta. Los movimientos de la cuenta se sumar†n para proporcionar el saldo total. C¢mo se suman los movimientos depende del valor del campo Tipo de cuenta.;
                           FRC=SpÇcifie un intervalle de comptes ou une liste de numÇros de compte. Les Çcritures du compte sont totalisÇes en solde total. La maniäre dont les Çcritures sont totalisÇes dÇpend de la valeur dans le champ Type de compte.;
                           ENC=Specifies an account interval or a list of account numbers. The entries of the account will be totalled to give a total balance. How entries are totalled depends on the value in the Account Type field.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Totaling;
                OnLookup=VAR
                           GLAccountList@1000 : Page 18;
                           OldText@1002 : Text;
                         BEGIN
                           OldText := Text;
                           GLAccountList.LOOKUPMODE(TRUE);
                           IF NOT (GLAccountList.RUNMODAL = ACTION::LookupOK) THEN
                             EXIT(FALSE);

                           Text := OldText + GLAccountList.GetSelectionFilter;
                           EXIT(TRUE);
                         END;
                          }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of blank lines that you want inserted before this account in the chart of accounts.;
                           ESM=Especifica el n£mero de l°neas en blanco que desea insertar delante de esta cuenta en el cat†logo de cuentas.;
                           FRC=SpÇcifie le nombre de lignes blanches que vous souhaitez insÇrer avant ce compte dans le plan comptable.;
                           ENC=Specifies the number of blank lines that you want inserted before this account in the chart of accounts.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="No. of Blank Lines";
                Importance=Additional }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether you want a new page to start immediately after this general ledger account when you print the chart of accounts. Select this field toˇstart a new page after thisˇgeneral ledgerˇaccount.;
                           ESM=Especifica si desea comenzar una p†gina nueva inmediatamente despuÇs de esta cuenta contable cuando imprima el cat†logo de cuentas. Seleccione este campo para comenzar una p†gina nueva despuÇs de esta cuenta contable.;
                           FRC=SpÇcifie si vous souhaitez qu'une nouvelle page commence immÇdiatement apräs ce compte GL lorsque vous imprimez le plan comptable. SÇlectionnez ce champ pour commencer une nouvelle page apräs ce compte GL.;
                           ENC=Specifies whether you want a new page to start immediately after this general ledger account when you print the chart of accounts. Select this field toˇstart a new page after thisˇgeneral ledgerˇaccount.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="New Page";
                Importance=Additional }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies an alternate name that you can use to search for the record in question when you cannot remember the value in the Name field.;
                           ESM=Especifica un nombre alternativo que puede usar para buscar el registro en cuesti¢n cuando no logra recordar el valor del campo Nombre.;
                           FRC=SpÇcifie un autre nom que vous pouvez utiliser pour rechercher l'enregistrement concernÇ lorsque vous ne vous souvenez plus de la valeur dans le champ Nom.;
                           ENC=Specifies an alternate name that you can use to search for the record in question when you cannot remember the value in the Name field.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Search Name";
                Importance=Additional }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the balance on this account.;
                           ESM=Especifica el saldo de esta cuenta.;
                           FRC=SpÇcifie le solde du compte.;
                           ENC=Specifies the balance on this account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Balance;
                Importance=Promoted }

    { 1240060001;2;Field  ;
                SourceExpr="Expense Code" }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether this general ledger account will be included in the Reconciliation window in the general journal. To have the G/L account included in the window, place a check mark in the check box. You can find the Reconciliation window by clicking Actions, Posting in the General Journal window.;
                           ESM=Especifica si esta cuenta contable se va a incluir en la ventana Control saldos del diario general. Para incluir la cuenta contable en la ventana, active la casilla correspondiente. Para acceder a la ventana Control saldos, haga clic en Acciones y Registro en la ventana Diario general.;
                           FRC=SpÇcifie si ce compte du grand livre sera inclus dans la fenàtre Rapprochement du journal gÇnÇral. Pour inclure le compte du grand livre dans la fenàtre, cochez la case. Pour accÇder Ö la fenàtre Rapprochement, cliquez sur Actions, puis sur Report dans la fenàtre Journal gÇnÇral.;
                           ENC=Specifies whether this general ledger account will be included in the Reconciliation window in the general journal. To have the G/L account included in the window, place a check mark in the check box. You can find the Reconciliation window by clicking Actions, Posting in the General Journal window.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reconciliation Account" }

    { 57  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that an extended text will be added automatically to the account.;
                           ESM=Especifica que un texto adicional se agregar† autom†ticamente a la cuenta.;
                           FRC=SpÇcifie qu'un texte Çtendu est automatiquement ajoutÇ au compte.;
                           ENC=Specifies that an extended text will be added automatically to the account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Automatic Ext. Texts" }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether you will be able to post directly or only indirectly to this general ledger account. To allow Direct Posting to the G/L account, place a check mark in the check box.;
                           ESM=Especifica si desea registrar en esta cuenta contable directamente o solo indirectamente. Para permitir Entrada directa en la cuenta contable, active la casilla correspondiente.;
                           FRC=SpÇcifie si vous pourrez effectuer un report direct ou uniquement indirect sur ce compte du grand livre. Pour autoriser un report direct, cochez la case.;
                           ENC=Specifies whether you will be able to post directly or only indirectly to this general ledger account. To allow Direct Posting to the G/L account, place a check mark in the check box.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Direct Posting" }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that the related record is blocked from being posted in transactions, for example a customer that is declared insolvent or an item that is placed in quarantine.;
                           ESM=Especifica que se ha bloqueado el registro relacionado para que no se registre en transacciones, por ejemplo, en el caso de un cliente que ha sido declarado insolvente o de un elemento que se encuentra en cuarentena.;
                           FRC=SpÇcifie que la validation de l'enregistrement associÇ dans les transactions est bloquÇe, par exemple un client est dÇclarÇ insolvable ou un article est placÇ en quarantaine.;
                           ENC=Specifies that the related record is blocked from being posted in transactions, for example a customer that is declared insolvent or an item that is placed in quarantine.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Blocked }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies when the G/L account was last modified.;
                           ESM=Especifica cu†ndo se modific¢ la cuenta de contabilidad general por £ltima vez.;
                           FRC=SpÇcifie la date de la derniäre modification du compte du grand livre.;
                           ENC=Specifies when the G/L account was last modified.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Last Date Modified" }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the default description is automatically inserted in the Description field on journal lines created for this general ledger account.;
                           ESM=Especifica si la descripci¢n predeterminada se inserta autom†ticamente en el campo Descripci¢n en las l°neas del diario creadas para esta cuenta de contabilidad.;
                           FRC=SpÇcifie si la description par dÇfaut est automatiquement insÇrÇe dans le champ Description sur les lignes journal crÇÇes pour ce compte GL.;
                           ENC=Specifies if the default description is automatically inserted in the Description field on journal lines created for this general ledger account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Omit Default Descr. in Jnl." }

    { 1020000;2;Field     ;
                ToolTipML=[ENU=Specifies the account for electronic documents to the tax authorities.;
                           ESM=Especifica la cuenta para los documentos electr¢nicos a las autoridades fiscales.;
                           FRC=SpÇcifie le compte pour les documents Çlectroniques destinÇs aux autoritÇs fiscales.;
                           ENC=Specifies the account for electronic documents to the tax authorities.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="SAT Account Code";
                TableRelation="SAT Account Code" }

    { 1904784501;1;Group  ;
                CaptionML=[ENU=Posting;
                           ESM=Registro;
                           FRC=Report;
                           ENC=Posting] }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general posting type to use when posting to this account.;
                           ESM=Especifica el tipo de registro general que se usar† al registrar en esta cuenta.;
                           FRC=SpÇcifie le type de report Ö utiliser lors du report sur ce compte.;
                           ENC=Specifies the general posting type to use when posting to this account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Posting Type" }

    { 55  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                           ESM=Especifica el tipo de comercio del cliente o el proveedor para vincular las transacciones realizadas para este socio comercial con la cuenta de contabilidad general correspondiente seg£n la configuraci¢n de registro general.;
                           FRC=SpÇcifie le type commercial du fournisseur ou du client pour lier les transactions effectuÇes pour ce partenaire commercial au compte GL appropriÇ en fonction de la configuration gÇnÇrale du report.;
                           ENC=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Bus. Posting Group";
                Importance=Promoted }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                           ESM=Especifica el tipo de producto del art°culo para vincular las transacciones realizadas para este art°culo con la cuenta de contabilidad general correspondiente seg£n la configuraci¢n de registro general.;
                           FRC=SpÇcifie le type de produit de l'article pour lier les transactions effectuÇes pour cet article au compte GL appropriÇ en fonction de la configuration de report gÇnÇrale.;
                           ENC=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Prod. Posting Group";
                Importance=Promoted }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Tax specification of the involved customer or vendor to link transactions made for this record with the appropriate general ledger account according to the Tax posting setup.;
                           ESM=Indica la especificaci¢n de IVA del cliente o el proveedor relacionado para vincular las transacciones realizadas para este registro con la cuenta de contabilidad general correspondiente de acuerdo con la configuraci¢n de registro de IVA.;
                           FRC=SpÇcifie le dÇtail TVA du client ou du fournisseur concernÇ pour lier les transactions effectuÇes pour cet enregistrement au compte GL appropriÇ en fonction de la configuration de report TVA.;
                           ENC=Specifies the Tax specification of the involved customer or vendor to link transactions made for this record with the appropriate general ledger account according to the Tax posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Bus. Posting Group";
                Importance=Promoted }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Tax specification of the involved item or resource to link transactions made for this record with the appropriate general ledger account according to the Tax posting setup.;
                           ESM=Indica la especificaci¢n de IVA del elemento o el recurso relacionado para vincular las transacciones realizadas para este registro con la cuenta de contabilidad general correspondiente de acuerdo con la configuraci¢n de registro de IVA.;
                           FRC=SpÇcifie le dÇtail TVA de l'article ou de la ressource concernÇe pour lier les transactions effectuÇes pour cet enregistrement au compte GL appropriÇ en fonction de la configuration de report TVA.;
                           ENC=Specifies the Tax specification of the involved item or resource to link transactions made for this record with the appropriate general ledger account according to the Tax posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Prod. Posting Group";
                Importance=Promoted }

    { 1020002;2;Field     ;
                ToolTipML=[ENU=Specifies the tax group that is used to calculate and post sales tax.;
                           ESM=Especifica el grupo impositivo que se usa para calcular y registrar el impuesto sobre las ventas.;
                           FRC=SpÇcifie le groupe fiscal utilisÇ pour calculer et reporter la taxe de vente.;
                           ENC=Specifies the tax group that is used to calculate and post sales tax.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Tax Group Code" }

    { 59  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies accounts that you often enter in the Bal. Account No. field on intercompany journal or document lines.;
                           ESM=Especifica las cuentas que se introduce a menudo en el campo Cta. contrapartida en l°neas de documento o diario de empresas vinculadas.;
                           FRC=SpÇcifie des comptes que vous entrez rÇguliärement dans le champ N¯ compte contrepartie du journal intercompagnie ou des lignes de document.;
                           ENC=Specifies accounts that you often enter in the Bal. Account No. field on intercompany journal or document lines.];
                ApplicationArea=#Intercompany;
                SourceExpr="Default IC Partner G/L Acc. No" }

    { 9   ;2   ;Field     ;
                CaptionML=[ENU=Default Deferral Template;
                           ESM=Plantilla de fraccionamiento predeterminada;
                           FRC=Modäle Çchelonnement par dÇfaut;
                           ENC=Default Deferral Template];
                ToolTipML=[ENU=Specifies the default deferral template that governs how to defer revenues and expenses to the periods when they occurred.;
                           ESM=Especifica la plantilla de fraccionamiento predeterminada que administra c¢mo fraccionar ingresos y gastos en los periodos en que se hayan producido.;
                           FRC=SpÇcifie le modäle d'Çchelonnement par dÇfaut qui rÇgit la maniäre de reporter les revenus et les dÇpenses aux pÇriodes auxquelles ils se sont produits.;
                           ENC=Specifies the default deferral template that governs how to defer revenues and expenses to the periods when they occurred.];
                ApplicationArea=#Suite;
                SourceExpr="Default Deferral Template Code" }

    { 1904602201;1;Group  ;
                CaptionML=[ENU=Consolidation;
                           ESM=Consolidaci¢n;
                           FRC=Consolidation;
                           ENC=Consolidation] }

    { 50  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the account in a consolidated company to which to transfer debit balances on this account.;
                           ESM=Especifica el n£mero de cuenta de una empresa consolidada a la que se desean transferir los saldos negativos de dicha cuenta.;
                           FRC=SpÇcifie le numÇro de compte d'une compagnie consolidÇe vers laquelle transfÇrer tous les soldes dÇbit de ce compte.;
                           ENC=Specifies the number of the account in a consolidated company to which to transfer debit balances on this account.];
                ApplicationArea=#Suite;
                SourceExpr="Consol. Debit Acc.";
                Importance=Promoted }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the account in a consolidated company to which to transfer credit balances on this account.;
                           ESM=Especifica el n£mero de cuenta de una empresa consolidada a la que se desean transferir los saldos positivos de dicha cuenta.;
                           FRC=SpÇcifie le numÇro de compte d'une compagnie consolidÇe vers laquelle transfÇrer tous les soldes crÇdit de ce compte.;
                           ENC=Specifies the number of the account in a consolidated company to which to transfer credit balances on this account.];
                ApplicationArea=#Suite;
                SourceExpr="Consol. Credit Acc.";
                Importance=Promoted }

    { 48  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the account's consolidation translation method, which identifies the currency translation rate to be applied to the account.;
                           ESM=Especifica el mÇtodo de conversi¢n de consolidaci¢n de la cuenta, que identifica el tipo de conversi¢n de divisa que se ha de aplicar a la cuenta.;
                           FRC=SpÇcifie la mÇthode de traduction de consolidation qui identifie le taux de conversion de devise Ö appliquer au compte.;
                           ENC=Specifies the account's consolidation translation method, which identifies the currency translation rate to be applied to the account.];
                ApplicationArea=#Suite;
                SourceExpr="Consol. Translation Method";
                Importance=Promoted }

    { 1904488501;1;Group  ;
                CaptionML=[ENU=Reporting;
                           ESM=Notificaci¢n;
                           FRC=Rapport;
                           ENC=Reporting] }

    { 64  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how general ledger accounts will be adjusted for exchange rate fluctuations between $ and the additional reporting currency.;
                           ESM=Especifica c¢mo se ajustar†n las cuentas contables para las fluctuaciones del tipo de cambio entre la divisa local y la divisa adicional de informe.;
                           FRC=SpÇcifie comment les comptes GL seront ajustÇs pour les fluctuations de taux de change entre $ et la devise de report additionnelle.;
                           ENC=Specifies how general ledger accounts will be adjusted for exchange rate fluctuations between $ and the additional reporting currency.];
                ApplicationArea=#Suite;
                SourceExpr="Exchange Rate Adjustment";
                Importance=Promoted }

    { 3   ;1   ;Group     ;
                CaptionML=[ENU=Cost Accounting;
                           ESM=Contabilidad de costos;
                           FRC=ComptabilitÇ analytique;
                           ENC=Cost Accounting];
                GroupType=Group }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a cost type number to establish which cost type a general ledger account belongs to.;
                           ESM=Especifica un n£mero de tipo de costo para establecer a quÇ tipo de costo pertenece una cuenta contable.;
                           FRC=SpÇcifie un numÇro de type de coñt pour connaåtre le type de coñt auquel appartient un compte GL.;
                           ENC=Specifies a cost type number to establish which cost type a general ledger account belongs to.];
                ApplicationArea=#CostAccounting;
                SourceExpr="Cost Type No.";
                Importance=Promoted }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 1905532107;1;Part   ;
                ApplicationArea=#Dimensions;
                SubPageLink=Table ID=CONST(15),
                            No.=FIELD(No.);
                PagePartID=Page9083;
                Visible=FALSE;
                PartType=Page }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=TRUE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      SubCategoryDescription@1000 : Text[80];

    LOCAL PROCEDURE UpdateAccountSubcategoryDescription@1();
    BEGIN
      CALCFIELDS("Account Subcategory Descript.");
      SubCategoryDescription := "Account Subcategory Descript.";
    END;

    BEGIN
    END.
  }
}

OBJECT Page 20 General Ledger Entries
{
  OBJECT-PROPERTIES
  {
    Date=02/24/19;
    Time=22:10:38;
    Modified=Yes;
    Version List=NAVW113.03,FuturisticCAL;
  }
  PROPERTIES
  {
    Editable=No;
    CaptionML=[ENU=General Ledger Entries;
               ESM=Movs. contabilidad;
               FRC=êcritures journal gÇnÇral;
               ENC=General Ledger Entries];
    ApplicationArea=#Basic,#Suite;
    SourceTable=Table17;
    DataCaptionExpr=GetCaption;
    SourceTableView=SORTING(G/L Account No.,Posting Date)
                    ORDER(Descending);
    PageType=List;
    UsageCategory=History;
    OnInit=BEGIN
             AmountVisible := TRUE;
           END;

    OnOpenPage=BEGIN
                 SetConrolVisibility;

                 IF GETFILTERS <> '' THEN
                   IF FINDFIRST THEN;
               END;

    OnAfterGetCurrRecord=VAR
                           IncomingDocument@1000 : Record 130;
                         BEGIN
                           HasIncomingDocument := IncomingDocument.PostedDocExists("Document No.","Posting Date");
                           CurrPage.IncomingDocAttachFactBox.PAGE.LoadDataFromRecord(Rec);
                         END;

    ActionList=ACTIONS
    {
      { 1900000003;0 ;ActionContainer;
                      ActionContainerType=RelatedInformation }
      { 48      ;1   ;ActionGroup;
                      CaptionML=[ENU=Ent&ry;
                                 ESM=&Movimiento;
                                 FRC=ê&criture;
                                 ENC=Ent&ry];
                      Image=Entry }
      { 49      ;2   ;Action    ;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 ESM=Dimensiones;
                                 FRC=Dimensions;
                                 ENC=Dimensions];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 ESM=Permite ver o editar dimensiones, como el †rea, el proyecto o el departamento, que pueden asignarse a los documentos de venta y compra para distribuir costos y analizar el historial de transacciones.;
                                 FRC=Affichez ou modifiez les dimensions, telles que la zone, le projet ou le dÇpartement que vous pouvez affecter aux documents vente et achat afin de distribuer les coñts et analyser l'historique des transactions.;
                                 ENC=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyse transaction history.];
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowDimensions;
                                 CurrPage.SAVERECORD;
                               END;
                                }
      { 27      ;2   ;Action    ;
                      Name=SetDimensionFilter;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Set Dimension Filter;
                                 ESM=Establecer filtro de dimensi¢n;
                                 FRC=DÇfinir le filtre dimension;
                                 ENC=Set Dimension Filter];
                      ToolTipML=[ENU=Limit the entries according to the dimension filters that you specify. NOTE: If you use a high number of dimension combinations, this function may not work and can result in a message that the SQL server only supports a maximum of 2100 parameters.;
                                 ESM=Limitar los movimientos seg£n los filtros de dimensi¢n que especifique. Nota: Si utiliza un n£mero alto de combinaciones dimensi¢n, esta funci¢n no funcionen y puede provocar un mensaje de que el servidor SQL server s¢lo admite un m†ximo de par†metros de 2100.;
                                 FRC=Limitez les Çcritures en fonction des filtres dimension que vous spÇcifiez. Remarqueˇ: si vous utilisez un grand nombre de combinaisons de dimensions, cette fonction risque de ne pas fonctionner et peut gÇnÇrer un message informant que le serveur SQL Server ne prend en charge que 2ˇ100ˇparamätres au maximum.;
                                 ENC=Limit the entries according to the dimension filters that you specify. NOTE: If you use a high number of dimension combinations, this function may not work and can result in a message that the SQL server only supports a maximum of 2100 parameters.];
                      ApplicationArea=#Dimensions;
                      Image=Filter;
                      OnAction=BEGIN
                                 SETFILTER("Dimension Set ID",DimensionSetIDFilter.LookupFilter);
                               END;
                                }
      { 50      ;2   ;Action    ;
                      Name=GLDimensionOverview;
                      AccessByPermission=TableData 348=R;
                      CaptionML=[ENU=G/L Dimension Overview;
                                 ESM=Panorama dimensiones;
                                 FRC=Aperáu grand livre par dimension;
                                 ENC=G/L Dimension Overview];
                      ToolTipML=[ENU=View an overview of general ledger entries and dimensions.;
                                 ESM=Permite ver una visi¢n general de todos los movimientos y las dimensiones contables.;
                                 FRC=Affichez un aperáu des dimensions et Çcritures.;
                                 ENC=View an overview of general ledger entries and dimensions.];
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      OnAction=VAR
                                 GLEntriesDimensionOverview@1000 : Page 563;
                               BEGIN
                                 IF ISTEMPORARY THEN BEGIN
                                   GLEntriesDimensionOverview.SetTempGLEntry(Rec);
                                   GLEntriesDimensionOverview.RUN;
                                 END ELSE
                                   PAGE.RUN(PAGE::"G/L Entries Dimension Overview",Rec);
                               END;
                                }
      { 65      ;2   ;Action    ;
                      AccessByPermission=TableData 27=R;
                      CaptionML=[ENU=Value Entries;
                                 ESM=Movs. valor;
                                 FRC=êcritures de valeur;
                                 ENC=Value Entries];
                      ToolTipML=[ENU=View all amounts relating to an item.;
                                 ESM=Ver todos los importes asociados a un producto.;
                                 FRC=Affichez tous les montants associÇs Ö un article.;
                                 ENC=View all amounts relating to an item.];
                      ApplicationArea=#Basic,#Suite;
                      Image=ValueLedger;
                      Scope=Repeater;
                      OnAction=BEGIN
                                 ShowValueEntries;
                               END;
                                }
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 57      ;1   ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 ESM=Acci&ones;
                                 FRC=F&onctions;
                                 ENC=F&unctions];
                      Image=Action }
      { 63      ;2   ;Action    ;
                      Name=ReverseTransaction;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Reverse Transaction;
                                 ESM=Revertir transacci¢n;
                                 FRC=Inverser la transaction;
                                 ENC=Reverse Transaction];
                      ToolTipML=[ENU=Reverse a posted general ledger entry.;
                                 ESM=Revertir un movimiento de contabilidad registrado.;
                                 FRC=Inversez une Çcriture reportÇe.;
                                 ENC=Reverse a posted general ledger entry.];
                      ApplicationArea=#Basic,#Suite;
                      Image=ReverseRegister;
                      Scope=Repeater;
                      OnAction=VAR
                                 ReversalEntry@1000 : Record 179;
                               BEGIN
                                 CLEAR(ReversalEntry);
                                 IF Reversed THEN
                                   ReversalEntry.AlreadyReversedEntry(TABLECAPTION,"Entry No.");
                                 IF "Journal Batch Name" = '' THEN
                                   ReversalEntry.TestFieldError;
                                 TESTFIELD("Transaction No.");
                                 ReversalEntry.ReverseTransaction("Transaction No.")
                               END;
                                }
      { 15      ;2   ;ActionGroup;
                      Name=IncomingDocument;
                      CaptionML=[ENU=Incoming Document;
                                 ESM=Documento entrante;
                                 FRC=Document entrant;
                                 ENC=Incoming Document];
                      ActionContainerType=NewDocumentItems;
                      Image=Documents }
      { 13      ;3   ;Action    ;
                      Name=IncomingDocCard;
                      CaptionML=[ENU=View Incoming Document;
                                 ESM=Ver documento entrante;
                                 FRC=Afficher le document entrant;
                                 ENC=View Incoming Document];
                      ToolTipML=[ENU=View any incoming document records and file attachments that exist for the entry or document.;
                                 ESM=Permite ver los registros de documentos entrantes y archivos adjuntos que existen para el movimiento o el documento.;
                                 FRC=Affichez tout enregistrement et fichier joint de document entrant qui existe pour l'Çcriture ou le document.;
                                 ENC=View any incoming document records and file attachments that exist for the entry or document.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=HasIncomingDocument;
                      Image=ViewOrder;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.ShowCard("Document No.","Posting Date");
                               END;
                                }
      { 9       ;3   ;Action    ;
                      Name=SelectIncomingDoc;
                      AccessByPermission=TableData 130=R;
                      CaptionML=[ENU=Select Incoming Document;
                                 ESM=Seleccionar documento entrante;
                                 FRC=SÇlectionner le document entrant;
                                 ENC=Select Incoming Document];
                      ToolTipML=[ENU=Select an incoming document record and file attachment that you want to link to the entry or document.;
                                 ESM=Permite seleccionar un registro de documentos entrantes y un archivo adjunto que desee vincular al movimiento o al documento.;
                                 FRC=SÇlectionnez un fichier joint ou un enregistrement de document entrant que vous voulez associer Ö l'Çcriture ou au document.;
                                 ENC=Select an incoming document record and file attachment that you want to link to the entry or document.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=NOT HasIncomingDocument;
                      Image=SelectLineToApply;
                      OnAction=VAR
                                 IncomingDocument@1000 : Record 130;
                               BEGIN
                                 IncomingDocument.SelectIncomingDocumentForPostedDocument("Document No.","Posting Date",RECORDID);
                               END;
                                }
      { 3       ;3   ;Action    ;
                      Name=IncomingDocAttachFile;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Create Incoming Document from File;
                                 ESM=Crear documento entrante desde archivo;
                                 FRC=CrÇer un document entrant Ö partir d'un fichier;
                                 ENC=Create Incoming Document from File];
                      ToolTipML=[ENU=Create an incoming document record by selecting a file to attach, and then link the incoming document record to the entry or document.;
                                 ESM=Permite crear un registro de documentos entrantes al seleccionar un archivo que se ha de adjuntar y luego vincular el registro de documentos entrantes al movimiento o al documento.;
                                 FRC=CrÇez un enregistrement de document entrant en sÇlectionnant un fichier Ö joindre, puis associez l'enregistrement de document entrant Ö l'Çcriture ou au document.;
                                 ENC=Create an incoming document record by selecting a file to attach, and then link the incoming document record to the entry or document.];
                      ApplicationArea=#Basic,#Suite;
                      Enabled=NOT HasIncomingDocument;
                      Image=Attach;
                      OnAction=VAR
                                 IncomingDocumentAttachment@1000 : Record 133;
                               BEGIN
                                 IncomingDocumentAttachment.NewAttachmentFromPostedDocument("Document No.","Posting Date");
                               END;
                                }
      { 24      ;1   ;Action    ;
                      CaptionML=[ENU=&Navigate;
                                 ESM=&Navegar;
                                 FRC=&Naviguer;
                                 ENC=&Navigate];
                      ToolTipML=[ENU=Find all entries and documents that exist for the document number and posting date on the selected entry or document.;
                                 ESM=Permite buscar todos los movimientos y los documentos que existen para el n£mero de documento y la fecha de registro que constan en el movimiento o el documento seleccionado.;
                                 FRC=Recherchez toutes les Çcritures et tous les documents qui existent pour le numÇro de document et la date de report sur l'Çcriture ou le document sÇlectionnÇ.;
                                 ENC=Find all entries and documents that exist for the document number and posting date on the selected entry or document.];
                      ApplicationArea=#Basic,#Suite;
                      Promoted=Yes;
                      Image=Navigate;
                      PromotedCategory=Process;
                      OnAction=VAR
                                 Navigate@1000 : Page 344;
                               BEGIN
                                 Navigate.SetDoc("Posting Date","Document No.");
                                 Navigate.RUN;
                               END;
                                }
      { 11      ;1   ;Action    ;
                      Name=DocsWithoutIC;
                      CaptionML=[ENU=Posted Documents without Incoming Document;
                                 ESM=Documentos registrados sin documento entrante;
                                 FRC=Documents reportÇs sans document entrant;
                                 ENC=Posted Documents without Incoming Document];
                      ToolTipML=[ENU=View posted purchase and sales documents under the G/L account that do not have related incoming document records.;
                                 ESM=Permite ver documentos de compra y venta registrados en la cuenta contable que no tienen registros de documento entrantes relacionados.;
                                 FRC=Affichez les documents ventes et achats reportÇs sous le compte GL qui n'ont pas d'enregistrements de document entrant correspondants.;
                                 ENC=View posted purchase and sales documents under the G/L account that do not have related incoming document records.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Documents;
                      OnAction=VAR
                                 PostedDocsWithNoIncBuf@1001 : Record 134;
                               BEGIN
                                 COPYFILTER("G/L Account No.",PostedDocsWithNoIncBuf."G/L Account No. Filter");
                                 PAGE.RUN(PAGE::"Posted Docs. With No Inc. Doc.",PostedDocsWithNoIncBuf);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's posting date.;
                           ESM=Especifica la fecha de registro del movimiento.;
                           FRC=SpÇcifie la date de report de l'Çcriture.;
                           ENC=Specifies the entry's posting date.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Posting Date" }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Document Type that the entry belongs to.;
                           ESM=Especifica el tipo de documento al que pertenece el movimiento.;
                           FRC=SpÇcifie le type de document auquel appartient l'Çcriture.;
                           ENC=Specifies the Document Type that the entry belongs to.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document Type" }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's Document No.;
                           ESM=Especifica el n.ß de documento del movimiento.;
                           FRC=SpÇcifie le numÇro de document de l'Çcriture.;
                           ENC=Specifies the entry's Document No.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Document No." }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the account that the entry has been posted to.;
                           ESM=Especifica el n£mero de la cuenta en la que se ha registrado el movimiento.;
                           FRC=SpÇcifie le numÇro du compte sur lequel l'Çcriture a ÇtÇ reportÇe.;
                           ENC=Specifies the number of the account that the entry has been posted to.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="G/L Account No." }

    { 40  ;2   ;Field     ;
                DrillDown=No;
                ToolTipML=[ENU=Specifies the name of the account that the entry has been posted to.;
                           ESM=Especifica el nombre de la cuenta en la que se ha registrado el movimiento.;
                           FRC=SpÇcifie le nom du compte sur lequel l'Çcriture a ÇtÇ reportÇe.;
                           ENC=Specifies the name of the account that the entry has been posted to.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="G/L Account Name";
                Visible=FALSE }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the entry.;
                           ESM=Especifica una descripci¢n del movimiento.;
                           FRC=SpÇcifie une description de l'Çcriture.;
                           ENC=Specifies a description of the entry.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Description }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job.;
                           ESM=Especifica el n£mero del proyecto relacionado.;
                           FRC=SpÇcifie le numÇro du projet concernÇ.;
                           ENC=Specifies the number of the related job.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                Visible=FALSE }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                           ESM=Especifica el c¢digo de la dimensi¢n global que est† vinculada al registro o al movimiento para fines de an†lisis. Hay dos dimensiones globales, normalmente para las actividades m†s importantes de la empresa, disponibles en todas las fichas, documentos, informes y listas.;
                           FRC=SpÇcifie le code de la dimension globale liÇe Ö l'enregistrement ou Ö l'Çcriture Ö des fins d'analyse. Deux dimensions principales, gÇnÇralement pour les activitÇs les plus importantes de la compagnie, sont disponibles sur l'ensemble des fiches, documents, rapports et listes.;
                           ENC=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.];
                ApplicationArea=#Dimensions;
                SourceExpr="Global Dimension 1 Code";
                Visible=FALSE }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.;
                           ESM=Especifica el c¢digo de la dimensi¢n global que est† vinculada al registro o al movimiento para fines de an†lisis. Hay dos dimensiones globales, normalmente para las actividades m†s importantes de la empresa, disponibles en todas las fichas, documentos, informes y listas.;
                           FRC=SpÇcifie le code de la dimension globale liÇe Ö l'enregistrement ou Ö l'Çcriture Ö des fins d'analyse. Deux dimensions principales, gÇnÇralement pour les activitÇs les plus importantes de la compagnie, sont disponibles sur l'ensemble des fiches, documents, rapports et listes.;
                           ENC=Specifies the code for the global dimension that is linked to the record or entry for analysis purposes. Two global dimensions, typically for the company's most important activities, are available on all cards, documents, reports, and lists.];
                ApplicationArea=#Dimensions;
                SourceExpr="Global Dimension 2 Code";
                Visible=FALSE }

    { 51  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.;
                           ESM=Especifica el c¢digo del socio de empresas vinculadas relacionado con la transacci¢n si el movimiento se ha creado a partir de una transacci¢n entre empresas vinculadas.;
                           FRC=SpÇcifie le code du partenaire intercompagnie concernÇ si l'Çcriture est crÇÇe Ö partir d'une transaction intersociÇtÇ.;
                           ENC=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Code";
                Visible=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of transaction.;
                           ESM=Especifica el tipo de transacci¢n.;
                           FRC=SpÇcifie le type de transaction.;
                           ENC=Specifies the type of transaction.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Posting Type" }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.;
                           ESM=Especifica el tipo de comercio del cliente o el proveedor para vincular las transacciones realizadas para este socio comercial con la cuenta de contabilidad general correspondiente seg£n la configuraci¢n de registro general.;
                           FRC=SpÇcifie le type commercial du fournisseur ou du client pour lier les transactions effectuÇes pour ce partenaire commercial au compte GL appropriÇ en fonction de la configuration gÇnÇrale du report.;
                           ENC=Specifies the vendor's or customer's trade type to link transactions made for this business partner with the appropriate general ledger account according to the general posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Bus. Posting Group" }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.;
                           ESM=Especifica el tipo de producto del art°culo para vincular las transacciones realizadas para este art°culo con la cuenta de contabilidad general correspondiente seg£n la configuraci¢n de registro general.;
                           FRC=SpÇcifie le type de produit de l'article pour lier les transactions effectuÇes pour cet article au compte GL appropriÇ en fonction de la configuration de report gÇnÇrale.;
                           ENC=Specifies the item's product type to link transactions made for this item with the appropriate general ledger account according to the general posting setup.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Gen. Prod. Posting Group" }

    { 5   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that was posted on the entry.;
                           ESM=Especifica la cantidad que se ha registrado en el movimiento.;
                           FRC=SpÇcifie la quantitÇ qui a ÇtÇ reportÇe sur l'Çcriture.;
                           ENC=Specifies the quantity that was posted on the entry.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Quantity;
                Visible=False }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Amount of the entry.;
                           ESM=Especifica el importe del movimiento.;
                           FRC=SpÇcifie le montant de l'Çcriture.;
                           ENC=Specifies the Amount of the entry.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Amount;
                Visible=AmountVisible }

    { 17  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total of the ledger entries that represent debits.;
                           ESM=Especifica el total de movimientos contables que representan dÇbitos.;
                           FRC=SpÇcifie le total des Çcritures qui reprÇsentent des dÇbits.;
                           ENC=Specifies the total of the ledger entries that represent debits.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Debit Amount";
                Visible=DebitCreditVisible }

    { 19  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total of the ledger entries that represent credits.;
                           ESM=Especifica el total de movimientos contables que representan crÇditos.;
                           FRC=SpÇcifie le total des Çcritures qui reprÇsentent des crÇdits.;
                           ENC=Specifies the total of the ledger entries that represent credits.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Credit Amount";
                Visible=DebitCreditVisible }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the general ledger entry that is posted if you post in an additional reporting currency.;
                           ESM=Especifica el movimiento de contabilidad que se ha registrado si se realiza el registro en una divisa adicional de informe.;
                           FRC=SpÇcifie l'Çcriture GL reportÇe si le report est effectuÇ dans une devise de report additionnelle.;
                           ENC=Specifies the general ledger entry that is posted if you post in an additional reporting currency.];
                ApplicationArea=#Suite;
                SourceExpr="Additional-Currency Amount";
                Visible=FALSE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the amount of Tax that is included in the total amount.;
                           ESM=Especifica el importe del IVA incluido en el importe total.;
                           FRC=SpÇcifie le montant de TVA inclus dans le montant total.;
                           ENC=Specifies the amount of Tax that is included in the total amount.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Amount";
                Visible=FALSE }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of account that a balancing entry is posted to, such as BANK for a cash account.;
                           ESM="Especifica el tipo de cuenta en el que se registra un movimiento; por ejemplo BANCO para una cuenta de caja.";
                           FRC=SpÇcifie le type de compte sur lequel une Çcriture de contrepartie est reportÇe, par exemple BANQUE pour un compte caisse.;
                           ENC=Specifies the type of account that a balancing entry is posted to, such as BANK for a cash account.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bal. Account Type" }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the general ledger, customer, vendor, or bank account that the balancing entry is posted to, such as a cash account for cash purchases.;
                           ESM=Especifica el n£mero de la cuenta de contabilidad, cliente, proveedor o banco en la que se registra un movimiento de saldo, como una cuenta de caja para compras en efectivo.;
                           FRC=SpÇcifie le numÇro du compte GL, client, fournisseur ou bancaire sur lequel l'Çcriture de contrepartie est reportÇe, par exemple, un compte caisse pour les achats au comptant.;
                           ENC=Specifies the number of the general ledger, customer, vendor, or bank account that the balancing entry is posted to, such as a cash account for cash purchases.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Bal. Account No." }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the ID of the user who posted the entry, to be used, for example, in the change log.;
                           ESM=Especifica el identificador del usuario que registr¢ el movimiento, que se usar†, por ejemplo, en el registro de cambios.;
                           FRC=SpÇcifie le code de l'utilisateur qui a reportÇ l'Çcriture Ö utiliser, par exemple, dans le journal modification.;
                           ENC=Specifies the ID of the user who posted the entry, to be used, for example, in the change log.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="User ID";
                Visible=FALSE }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the source code that specifies where the entry was created.;
                           ESM=Especifica el c¢digo de origen que indica d¢nde se cre¢ el movimiento.;
                           FRC=SpÇcifie le code journal qui spÇcifie oó l'Çcriture a ÇtÇ crÇÇe.;
                           ENC=Specifies the source code that specifies where the entry was created.];
                ApplicationArea=#Suite;
                SourceExpr="Source Code";
                Visible=FALSE }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the reason code, a supplementary source code that enables you to trace the entry.;
                           ESM=Especifica el c¢digo de auditor°a, un c¢digo de origen adicional que le permite realizar un seguimiento del movimiento.;
                           FRC=SpÇcifie le code motif qui est un code journal supplÇmentaire vous permettant de suivre l'Çcriture.;
                           ENC=Specifies the reason code, a supplementary source code that enables you to trace the entry.];
                ApplicationArea=#Suite;
                SourceExpr="Reason Code";
                Visible=FALSE }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the entry has been part of a reverse transaction (correction) made by the Reverse function.;
                           ESM=Especifica si el movimiento ha formado parte en una transacci¢n de reversi¢n (correcci¢n) realizada con la funci¢n Revertir.;
                           FRC=SpÇcifie si l'Çcriture a fait partie d'une transaction contre-passÇe (correction) effectuÇe par la fonction Inverser.;
                           ENC=Specifies if the entry has been part of a reverse transaction (correction) made by the Reverse function.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=Reversed;
                Visible=FALSE }

    { 60  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the correcting entry. If the field Specifies a number, the entry cannot be reversed again.;
                           ESM=Especifica el n£mero del movimiento de correcci¢n. Si el campo indica un n£mero, el movimiento no puede revertirse otra vez.;
                           FRC=SpÇcifie le numÇro de l'Çcriture de correction. Si le champ prÇcise un numÇro, l'Çcriture ne peut pas àtre inversÇe Ö nouveau.;
                           ENC=Specifies the number of the correcting entry. If the field Specifies a number, the entry cannot be reversed again.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reversed by Entry No.";
                Visible=FALSE }

    { 62  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the original entry that was undone by the reverse transaction.;
                           ESM=Especifica el n£mero del movimiento original que se ha deshecho con la transacci¢n de reversi¢n.;
                           FRC=SpÇcifie le numÇro de l'Çcriture initiale annulÇe par la transaction contre-passÇe.;
                           ENC=Specifies the number of the original entry that was undone by the reverse transaction.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Reversed Entry No.";
                Visible=FALSE }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the fixed asset entry.;
                           ESM=Especifica el n£mero de movimiento de activo fijo.;
                           FRC=SpÇcifie le numÇro de l'Çcriture comptable immobilisation.;
                           ENC=Specifies the number of the fixed asset entry.];
                ApplicationArea=#FixedAssets;
                SourceExpr="FA Entry Type";
                Visible=FALSE }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the fixed asset entry.;
                           ESM=Especifica el n£mero de movimiento de activo fijo.;
                           FRC=SpÇcifie le numÇro de l'Çcriture comptable immobilisation.;
                           ENC=Specifies the number of the fixed asset entry.];
                ApplicationArea=#FixedAssets;
                SourceExpr="FA Entry No.";
                Visible=FALSE }

    { 1240060000;2;Field  ;
                SourceExpr="Expense Code" }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the entry, as assigned from the specified number series when the entry was created.;
                           ESM=Especifica el n£mero del movimiento, tal como se asign¢ desde la serie numÇrica especificada cuando se cre¢ el movimiento.;
                           FRC=SpÇcifie le numÇro de l'Çcriture, tel qu'il est affectÇ Ö partir de la sÇrie de numÇros spÇcifiÇe lors de la crÇation de l'Çcriture.;
                           ENC=Specifies the number of the entry, as assigned from the specified number series when the entry was created.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="Entry No." }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a reference to a combination of dimension values. The actual values are stored in the Dimension Set Entry table.;
                           ESM=Especifica una referencia a una combinaci¢n de valores de dimensi¢n. Los valores reales se almacenan en la tabla Mov. grupo dimensiones.;
                           FRC=SpÇcifie une rÇfÇrence Ö une combinaison de valeurs de dimension. Les valeurs rÇelles sont enregistrÇes dans la table êcriture ensemble de dimensions.;
                           ENC=Specifies a reference to a combination of dimension values. The actual values are stored in the Dimension Set Entry table.];
                ApplicationArea=#Dimensions;
                SourceExpr="Dimension Set ID";
                Visible=FALSE }

    { 29  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the entry's external document number, such as a vendor's invoice number.;
                           ESM=Especifica el n£mero de documento externo del movimiento, como un n£mero de factura del proveedor.;
                           FRC=SpÇcifie le numÇro de document externe de l'Çcriture, par exemple le numÇro de facture d'un fournisseur.;
                           ENC=Specifies the entry's external document number, such as a vendor's invoice number.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="External Document No." }

    { 1900000007;0;Container;
                ContainerType=FactBoxArea }

    { 7   ;1   ;Part      ;
                Name=IncomingDocAttachFactBox;
                ApplicationArea=#Basic,#Suite;
                PagePartID=Page193;
                PartType=Page;
                ShowFilter=No }

    { 1900383207;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=RecordLinks }

    { 1905767507;1;Part   ;
                Visible=FALSE;
                PartType=System;
                SystemPartID=Notes }

  }
  CODE
  {
    VAR
      GLAcc@1000 : Record 15;
      DimensionSetIDFilter@1005 : Page 481;
      HasIncomingDocument@1001 : Boolean;
      AmountVisible@1004 : Boolean;
      DebitCreditVisible@1003 : Boolean;

    LOCAL PROCEDURE GetCaption@2() : Text[250];
    BEGIN
      IF GLAcc."No." <> "G/L Account No." THEN
        IF NOT GLAcc.GET("G/L Account No.") THEN
          IF GETFILTER("G/L Account No.") <> '' THEN
            IF GLAcc.GET(GETRANGEMIN("G/L Account No.")) THEN;
      EXIT(STRSUBSTNO('%1 %2',GLAcc."No.",GLAcc.Name))
    END;

    LOCAL PROCEDURE SetConrolVisibility@8();
    VAR
      GLSetup@1000 : Record 98;
    BEGIN
      GLSetup.GET;
      AmountVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Debit/Credit Only");
      DebitCreditVisible := NOT (GLSetup."Show Amounts" = GLSetup."Show Amounts"::"Amount Only");
    END;

    BEGIN
    END.
  }
}

OBJECT Page 54 Purchase Order Subform
{
  OBJECT-PROPERTIES
  {
    Date=01/28/19;
    Time=22:24:44;
    Modified=Yes;
    Version List=NAVW113.02,NAVNA13.02,FuturisticCAL;
  }
  PROPERTIES
  {
    CaptionML=[ENU=Lines;
               ESM=L°neas;
               FRC=Lignes;
               ENC=Lines];
    MultipleNewLines=Yes;
    LinksAllowed=No;
    SourceTable=Table39;
    DelayedInsert=Yes;
    SourceTableView=WHERE(Document Type=FILTER(Order));
    PageType=ListPart;
    AutoSplitKey=Yes;
    OnInit=VAR
             ApplicationAreaMgmtFacade@1001 : Codeunit 9179;
           BEGIN
             PurchasesPayablesSetup.GET;
             TempOptionLookupBuffer.FillBuffer(TempOptionLookupBuffer."Lookup Type"::Purchases);
             IsFoundation := ApplicationAreaMgmtFacade.IsFoundationEnabled;
             Currency.InitRoundingPrecision;
           END;

    OnAfterGetRecord=BEGIN
                       ShowShortcutDimCode(ShortcutDimCode);
                       UpdateTypeText;
                       SetItemChargeFieldsStyle;
                     END;

    OnNewRecord=BEGIN
                  InitType;
                  // Default to Item for the first line and to previous line type for the others
                  IF ApplicationAreaMgmtFacade.IsFoundationEnabled THEN
                    IF xRec."Document No." = '' THEN
                      Type := Type::Item;

                  CLEAR(ShortcutDimCode);
                  UpdateTypeText;
                END;

    OnDeleteRecord=VAR
                     ReservePurchLine@1000 : Codeunit 99000834;
                   BEGIN
                     IF (Quantity <> 0) AND ItemExists("No.") THEN BEGIN
                       COMMIT;
                       IF NOT ReservePurchLine.DeleteLineConfirm(Rec) THEN
                         EXIT(FALSE);
                       ReservePurchLine.DeleteLine(Rec);
                     END;
                   END;

    OnAfterGetCurrRecord=BEGIN
                           GetTotalsPurchaseHeader;
                           CalculateTotals;
                           UpdateEditableOnRow;
                           UpdateTypeText;
                           SetItemChargeFieldsStyle;
                         END;

    ActionList=ACTIONS
    {
      { 1900000004;0 ;ActionContainer;
                      ActionContainerType=ActionItems }
      { 11      ;1   ;Action    ;
                      Name=SelectMultiItems;
                      AccessByPermission=TableData 27=R;
                      Ellipsis=Yes;
                      CaptionML=[ENU=Select items;
                                 ESM=Seleccionar productos;
                                 FRC=SÇlectionner des articles;
                                 ENC=Select items];
                      ToolTipML=[ENU=Add two or more items from the full list of your inventory items.;
                                 ESM=Agregue dos o m†s productos de la lista completa de sus productos de inventario.;
                                 FRC=Ajoutez deux ou plusieurs articles Ö partir de la liste compläte de vos articles en inventaire.;
                                 ENC=Add two or more items from the full list of your inventory items.];
                      ApplicationArea=#Basic,#Suite;
                      Image=NewItem;
                      OnAction=BEGIN
                                 SelectMultipleItems;
                               END;
                                }
      { 1907935204;1 ;ActionGroup;
                      CaptionML=[ENU=&Line;
                                 ESM=&L°nea;
                                 FRC=&Ligne;
                                 ENC=&Line];
                      Image=Line }
      { 1906421304;2 ;ActionGroup;
                      CaptionML=[ENU=Item Availability by;
                                 ESM=Disponibilidad prod. por;
                                 FRC=DisponibilitÇ d'article par;
                                 ENC=Item Availability by];
                      Image=ItemAvailability }
      { 5       ;3   ;Action    ;
                      CaptionML=[ENU=Event;
                                 ESM=Evento;
                                 FRC=êvÇnement;
                                 ENC=Event];
                      ToolTipML=[ENU=View how the actual and the projected available balance of an item will develop over time according to supply and demand events.;
                                 ESM=Permite ver c¢mo el saldo disponible real y previsto de un art°culo se desarrollar† a lo largo del tiempo seg£n la oferta y la demanda.;
                                 FRC=Affichez le dÇveloppement du niveau d'inventaire rÇel et prÇvisionnel d'un article dans le temps en fonction des ÇvÇnements de l'offre et de la demande.;
                                 ENC=View how the actual and the projected available balance of an item will develop over time according to supply and demand events.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Event;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByEvent)
                               END;
                                }
      { 1902027204;3 ;Action    ;
                      CaptionML=[ENU=Period;
                                 ESM=Periodo;
                                 FRC=PÇriode;
                                 ENC=Period];
                      ToolTipML=[ENU=Show the projected quantity of the item over time according to time periods, such as day, week, or month.;
                                 ESM=Muestra la cantidad proyectada del producto a lo largo de los periodos de tiempo, como d°as, semanas o meses.;
                                 FRC=Affichez la quantitÇ prÇvisionnelle de l'article dans le temps en fonction de pÇriodes de temps, par exemple jour, semaine ou mois.;
                                 ENC=Show the projected quantity of the item over time according to time periods, such as day, week, or month.];
                      ApplicationArea=#Basic,#Suite;
                      Image=Period;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByPeriod)
                               END;
                                }
      { 1901633104;3 ;Action    ;
                      CaptionML=[ENU=Variant;
                                 ESM=Variante;
                                 FRC=Variante;
                                 ENC=Variant];
                      ToolTipML=[ENU=View or edit the item's variants. Instead of setting up each color of an item as a separate item, you can set up the various colors as variants of the item.;
                                 ESM=Permite ver o editar las variantes del art°culo. En lugar de configurar cada color de un art°culo como un art°culo diferente, puede configurar varios colores como variantes del art°culo.;
                                 FRC=Afficher ou modifier les variantes article. Au lieu de crÇer chaque couleur pour un article en tant qu'article sÇparÇ, vous pouvez spÇcifier les diffÇrentes couleurs comme variantes de l'article.;
                                 ENC=View or edit the item's variants. Instead of setting up each colour of an item as a separate item, you can set up the various colours as variants of the item.];
                      ApplicationArea=#Planning;
                      Image=ItemVariant;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByVariant)
                               END;
                                }
      { 1902479904;3 ;Action    ;
                      AccessByPermission=TableData 14=R;
                      CaptionML=[ENU=Location;
                                 ESM=AlmacÇn;
                                 FRC=Emplacement;
                                 ENC=Location];
                      ToolTipML=[ENU=View the actual and projected quantity of the item per location.;
                                 ESM=Permite ver la cantidad real y proyectada del producto por ubicaci¢n.;
                                 FRC=Affichez la quantitÇ rÇelle et prÇvisionnelle de l'article par emplacement.;
                                 ENC=View the actual and projected quantity of the item per location.];
                      ApplicationArea=#Location;
                      Image=Warehouse;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByLocation)
                               END;
                                }
      { 3       ;3   ;Action    ;
                      AccessByPermission=TableData 5870=R;
                      CaptionML=[ENU=BOM Level;
                                 ESM=Nivel L.M.;
                                 FRC=Niveau nomenclature;
                                 ENC=BOM Level];
                      ToolTipML=[ENU=View availability figures for items on bills of materials that show how many units of a parent item you can make based on the availability of child items.;
                                 ESM=Permite ver las cifras correspondientes a los productos en listas de materiales que indican cu†ntas unidades de un producto principal puede producir seg£n la disponibilidad de productos secundarios.;
                                 FRC=Affichez les chiffres de disponibilitÇ pour les articles de nomenclature qui indiquent combien d'unitÇs d'un parent vous pouvez effectuer sur la base de la disponibilitÇ des ÇlÇments enfant.;
                                 ENC=View availability figures for items on bills of materials that show how many units of a parent item you can make based on the availability of child items.];
                      ApplicationArea=#Assembly;
                      Image=BOMLevel;
                      OnAction=BEGIN
                                 ItemAvailFormsMgt.ShowItemAvailFromPurchLine(Rec,ItemAvailFormsMgt.ByBOM)
                               END;
                                }
      { 1902085804;2 ;Action    ;
                      AccessByPermission=TableData 27=R;
                      CaptionML=[ENU=Reservation Entries;
                                 ESM=Movs. reserva;
                                 FRC=EntrÇes de rÇservation;
                                 ENC=Reservation Entries];
                      ToolTipML=[ENU=View the entries for every reservation that is made, either manually or automatically.;
                                 ESM=Permite ver los movimientos para cada reserva que se realiza, ya sea manual o autom†ticamente.;
                                 FRC=Afficher les Çcritures pour chaque rÇservation effectuÇe, soit manuellement, soit automatiquement.;
                                 ENC=View the entries for every reservation that is made, either manually or automatically.];
                      ApplicationArea=#Reservation;
                      Image=ReservationLedger;
                      OnAction=BEGIN
                                 ShowReservationEntries(TRUE);
                               END;
                                }
      { 1905987604;2 ;Action    ;
                      Name=Item Tracking Lines;
                      ShortCutKey=Shift+Ctrl+I;
                      CaptionML=[ENU=Item &Tracking Lines;
                                 ESM=L°ns. se&guim. prod.;
                                 FRC=&Lignes de traáabilitÇ d'article;
                                 ENC=Item &Tracking Lines];
                      ToolTipML=[ENU=View or edit serial numbers and lot numbers that are assigned to the item on the document or journal line.;
                                 ESM=Permite ver o editar n£meros de serie y n£meros de lote asignados al producto en el documento o la l°nea del diario.;
                                 FRC=Affichez ou modifiez des numÇros de sÇrie et de lot qui sont assignÇs Ö l'article sur la ligne document ou journal.;
                                 ENC=View or edit serial numbers and lot numbers that are assigned to the item on the document or journal line.];
                      ApplicationArea=#ItemTracking;
                      Image=ItemTrackingLines;
                      OnAction=BEGIN
                                 OpenItemTrackingLines;
                               END;
                                }
      { 1903984904;2 ;Action    ;
                      Name=Dimensions;
                      AccessByPermission=TableData 348=R;
                      ShortCutKey=Shift+Ctrl+D;
                      CaptionML=[ENU=Dimensions;
                                 ESM=Dimensiones;
                                 FRC=Dimensions;
                                 ENC=Dimensions];
                      ToolTipML=[ENU=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyze transaction history.;
                                 ESM=Permite ver o editar dimensiones, como el †rea, el proyecto o el departamento, que pueden asignarse a los documentos de venta y compra para distribuir costos y analizar el historial de transacciones.;
                                 FRC=Affichez ou modifiez les dimensions, telles que la zone, le projet ou le dÇpartement que vous pouvez affecter aux documents vente et achat afin de distribuer les coñts et analyser l'historique des transactions.;
                                 ENC=View or edit dimensions, such as area, project, or department, that you can assign to sales and purchase documents to distribute costs and analyse transaction history.];
                      ApplicationArea=#Dimensions;
                      Image=Dimensions;
                      OnAction=BEGIN
                                 ShowDimensions;
                               END;
                                }
      { 1903079404;2 ;Action    ;
                      CaptionML=[ENU=Co&mments;
                                 ESM=C&omentarios;
                                 FRC=Co&mmentaires;
                                 ENC=Co&mments];
                      ToolTipML=[ENU=View or add comments for the record.;
                                 ESM=Permite ver o agregar comentarios para el registro.;
                                 FRC=Affichez ou ajoutez des commentaires pour l'enregistrement.;
                                 ENC=View or add comments for the record.];
                      ApplicationArea=#Comments;
                      Image=ViewComments;
                      OnAction=BEGIN
                                 ShowLineComments;
                               END;
                                }
      { 1907184504;2 ;Action    ;
                      Name=ItemChargeAssignment;
                      AccessByPermission=TableData 5800=R;
                      CaptionML=[ENU=Item Charge &Assignment;
                                 ESM=&Asignaci¢n cargos prod.;
                                 FRC=&Affectation frais annexes;
                                 ENC=Item Charge &Assignment];
                      ToolTipML=[ENU=Assign additional direct costs, for example for freight, to the item on the line.;
                                 ESM=Asigna costos directos adicionales, por ejemplo para flete, al art°culo en la l°nea.;
                                 FRC=Affectez les coñts directs supplÇmentaires, par exemple pour les frais de transport, Ö l'article sur la ligne.;
                                 ENC=Assign additional direct costs, for example for freight, to the item on the line.];
                      ApplicationArea=#ItemCharges;
                      Image=ItemCosts;
                      OnAction=BEGIN
                                 ShowItemChargeAssgnt;
                                 SetItemChargeFieldsStyle;
                               END;
                                }
      { 1901542204;2 ;Action    ;
                      Name=DocumentLineTracking;
                      CaptionML=[ENU=Document &LineTracking;
                                 ESM=Seguimiento de &l°nea de documento;
                                 FRC=TraáabilitÇ &ligne document;
                                 ENC=Document &LineTracking];
                      ToolTipML=[ENU=View related open, posted, or archived documents or document lines.;
                                 ESM=Permite ver documentos abiertos, registrados o archivados relacionados, o las l°neas de documento.;
                                 FRC=Afficher les documents ou les lignes de document ouverts, reportÇs ou archivÇs associÇs.;
                                 ENC=View related open, posted, or archived documents or document lines.];
                      ApplicationArea=#Basic,#Suite;
                      OnAction=BEGIN
                                 ShowDocumentLineTracking;
                               END;
                                }
      { 23      ;2   ;Action    ;
                      Name=DeferralSchedule;
                      CaptionML=[ENU=Deferral Schedule;
                                 ESM=Previsi¢n fraccionamiento;
                                 FRC=Tableau d'Çchelonnement;
                                 ENC=Deferral Schedule];
                      ToolTipML=[ENU=View or edit the deferral schedule that governs how revenue made with this sales document is deferred to different accounting periods when the document is posted.;
                                 ESM=Permite ver o editar la previsi¢n de fraccionamiento que administra el modo de fraccionar los ingresos realizados con este documento de venta en per°odos contables diferentes cuando se registra el documento.;
                                 FRC=Affichez ou modifiez le tableau d'Çchelonnement qui rÇgit la maniäre dont les revenus rÇalisÇs Ö l'aide de ce document de vente sont ÇchelonnÇs sur diffÇrentes pÇriodes comptables lors du report du document.;
                                 ENC=View or edit the deferral schedule that governs how revenue made with this sales document is deferred to different accounting periods when the document is posted.];
                      ApplicationArea=#Suite;
                      Enabled="Deferral Code" <> '';
                      Image=PaymentPeriod;
                      OnAction=BEGIN
                                 ShowDeferralSchedule;
                               END;
                                }
      { 41      ;2   ;Action    ;
                      Name=DocAttach;
                      CaptionML=[ENU=Attachments;
                                 ESM=Datos adjuntos;
                                 FRC=Piäces jointes;
                                 ENC=Attachments];
                      ToolTipML=[ENU=Add a file as an attachment. You can attach images as well as documents.;
                                 ESM=Permite agregar un archivo como adjunto. Puede adjuntar im†genes y documentos.;
                                 FRC=Ajoutez un fichier en tant que piäce jointe. Vous pouvez joindre des images ainsi que des documents.;
                                 ENC=Add a file as an attachment. You can attach images as well as documents.];
                      ApplicationArea=#All;
                      Image=Attach;
                      OnAction=VAR
                                 DocumentAttachmentDetails@1000 : Page 1173;
                                 RecRef@1001 : RecordRef;
                               BEGIN
                                 RecRef.GETTABLE(Rec);
                                 DocumentAttachmentDetails.OpenForRecRef(RecRef);
                                 DocumentAttachmentDetails.RUNMODAL;
                               END;
                                }
      { 1906587504;1 ;ActionGroup;
                      CaptionML=[ENU=F&unctions;
                                 ESM=Acci&ones;
                                 FRC=F&onctions;
                                 ENC=F&unctions];
                      Image=Action }
      { 1901312904;2 ;Action    ;
                      AccessByPermission=TableData 90=R;
                      CaptionML=[ENU=E&xplode BOM;
                                 ESM=&Desplegar L.M.;
                                 FRC=ê&clater nomenclature;
                                 ENC=E&xplode BOM];
                      ToolTipML=[ENU=Insert new lines for the components on the bill of materials, for example to sell the parent item as a kit. CAUTION: The line for the parent item will be deleted and represented by a description only. To undo, you must delete the component lines and add a line the parent item again.;
                                 ESM=Insertar nuevas l°neas para los componentes de la lista de materiales, por ejemplo, para vender el producto principal como un kit. ATENCI‡N: La l°nea para el producto principal se eliminar† y quedar† representada tan solo por una descripci¢n. Para deshacerlo, debe eliminar las l°neas de componente y volver a agregar una l°nea de producto principal.;
                                 FRC=InsÇrez les nouvelles lignes pour les composantes de la nomenclature, par exemple pour vendre l'article parent en tant que kit. Attentionˇ: La ligne de l'article parent sera supprimÇe et reprÇsentÇe par une description uniquement. Pour annuler, vous devez supprimer les lignes composante et ajouter Ö nouveau une ligne de l'article parent.;
                                 ENC=Insert new lines for the components on the bill of materials, for example to sell the parent item as a kit. CAUTION: The line for the parent item will be deleted and represented by a description only. To undo, you must delete the component lines and add a line the parent item again.];
                      ApplicationArea=#Suite;
                      Image=ExplodeBOM;
                      OnAction=BEGIN
                                 ExplodeBOM;
                               END;
                                }
      { 1901313304;2 ;Action    ;
                      Name=Insert Ext. Texts;
                      AccessByPermission=TableData 279=R;
                      CaptionML=[ENU=Insert &Ext. Text;
                                 ESM=Insertar t&extos adicionales;
                                 FRC=InsÇrer te&xtes Çtendus;
                                 ENC=Insert &Ext. Text];
                      ToolTipML=[ENU=Insert the extended item description that is set up for the item that is being processed on the line.;
                                 ESM=Insertar la descripci¢n de producto ampliada que se configur¢ para el producto que se est† procesando en la l°nea.;
                                 FRC=InsÇrer la description plus longue qui est paramÇtrÇe pour l'article en cours de traitement sur la ligne.;
                                 ENC=Insert the extended item description that is set up for the item that is being processed on the line.];
                      ApplicationArea=#Suite;
                      Image=Text;
                      OnAction=BEGIN
                                 InsertExtendedText(TRUE);
                               END;
                                }
      { 1906391504;2 ;Action    ;
                      Name=Reserve;
                      Ellipsis=Yes;
                      CaptionML=[ENU=&Reserve;
                                 ESM=&Reserva;
                                 FRC=&RÇserver;
                                 ENC=&Reserve];
                      ToolTipML=[ENU=Reserve the quantity that is required on the document line that you opened this window for.;
                                 ESM=Reservar la cantidad necesaria en la l°nea de documento para la que abri¢ esta ventana.;
                                 FRC=RÇserver la quantitÇ qui est requise sur la ligne document pour laquelle vous avez ouvert cette fenàtre.;
                                 ENC=Reserve the quantity that is required on the document line that you opened this window for.];
                      ApplicationArea=#Reservation;
                      Image=Reserve;
                      OnAction=BEGIN
                                 FIND;
                                 ShowReservation;
                               END;
                                }
      { 1903502504;2 ;Action    ;
                      Name=OrderTracking;
                      CaptionML=[ENU=Order &Tracking;
                                 ESM=&Seguimiento pedido;
                                 FRC=&Suivi de commande;
                                 ENC=Order &Tracking];
                      ToolTipML=[ENU=Tracks the connection of a supply to its corresponding demand. This can help you find the original demand that created a specific production order or purchase order.;
                                 ESM=Realiza un seguimiento de la conexi¢n de una oferta hasta su demanda correspondiente. Esto puede ayudarle a encontrar la demanda original que cre¢ un pedido de producci¢n o un pedido de compra determinados.;
                                 FRC=Suit la connexion d'un approvisionnement selon sa demande correspondante. Ceci peut vous aider Ö trouver la demande d'origine qui a crÇÇ un ordre de production ou un bon de commande spÇcifique.;
                                 ENC=Tracks the connection of a supply to its corresponding demand. This can help you find the original demand that created a specific production order or purchase order.];
                      ApplicationArea=#Suite;
                      Image=OrderTracking;
                      OnAction=BEGIN
                                 ShowTracking;
                               END;
                                }
      { 1905926804;1 ;ActionGroup;
                      CaptionML=[ENU=O&rder;
                                 ESM=&Pedido;
                                 FRC=&Commande;
                                 ENC=O&rder];
                      Image=Order }
      { 1903621804;2 ;ActionGroup;
                      CaptionML=[ENU=Dr&op Shipment;
                                 ESM=Env°&o directo;
                                 FRC=&Livraison directe;
                                 ENC=Dr&op Shipment];
                      Image=Delivery }
      { 1903563204;3 ;Action    ;
                      AccessByPermission=TableData 110=R;
                      CaptionML=[ENU=Sales &Order;
                                 ESM=Pedido &venta;
                                 FRC=D&ocument de vente;
                                 ENC=Sales &Order];
                      ToolTipML=[ENU=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.;
                                 ESM=Cree un nuevo pedido de venta para un producto que se env°a directamente del proveedor al cliente. Debe seleccionarse la casilla de env°o directo en la l°nea de pedido de venta y el campo de n£mero de proveedor debe completarse en la ficha de producto.;
                                 FRC=CrÇez un document de vente pour un article qui est livrÇ directement du fournisseur au client. La case Ö cocher Livraison directe doit àtre sÇlectionnÇe sur la ligne document de vente et le champ N¯ fournisseur doit àtre renseignÇ sur la fiche article.;
                                 ENC=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.];
                      ApplicationArea=#Suite;
                      Image=Document;
                      OnAction=BEGIN
                                 OpenSalesOrderForm;
                               END;
                                }
      { 1903169104;2 ;ActionGroup;
                      CaptionML=[ENU=Speci&al Order;
                                 ESM=&Pedido especial;
                                 FRC=Commande spÇci&ale;
                                 ENC=Speci&al Order];
                      Image=SpecialOrder }
      { 1901038504;3 ;Action    ;
                      AccessByPermission=TableData 110=R;
                      CaptionML=[ENU=Sales &Order;
                                 ESM=Pedido &venta;
                                 FRC=D&ocument de vente;
                                 ENC=Sales &Order];
                      ToolTipML=[ENU=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.;
                                 ESM=Permite crear un nuevo pedido de venta para un art°culo que se env°a directamente del proveedor al cliente. Debe seleccionarse la casilla Env°o directo en la l°nea de pedido de venta, y debe completarse el campo N.ß de proveedor en la ficha de producto.;
                                 FRC=CrÇez un document de vente pour un article qui est livrÇ directement du fournisseur au client. La case Ö cocher Livraison directe doit àtre sÇlectionnÇe sur la ligne document de vente et le champ N¯ fournisseur doit àtre renseignÇ sur la fiche article.;
                                 ENC=Create a new sales order for an item that is shipped directly from the vendor to the customer. The Drop Shipment check box must be selected on the sales order line, and the Vendor No. field must be filled on the item card.];
                      ApplicationArea=#Suite;
                      Image=Document;
                      OnAction=BEGIN
                                 OpenSpecOrderSalesOrderForm;
                               END;
                                }
      { 29      ;2   ;Action    ;
                      Name=BlanketOrder;
                      CaptionML=[ENU=Blanket Order;
                                 ESM=Pedido abierto;
                                 FRC=Commande ouverte;
                                 ENC=Blanket Order];
                      ToolTipML=[ENU=View the blanket purchase order.;
                                 ESM=Permite ver el pedido de compra abierto.;
                                 FRC=Affichez la commande ouverte achat.;
                                 ENC=View the blanket purchase order.];
                      ApplicationArea=#Suite;
                      Image=BlanketOrder;
                      OnAction=VAR
                                 PurchaseHeader@1000 : Record 38;
                                 BlanketPurchaseOrder@1001 : Page 509;
                               BEGIN
                                 TESTFIELD("Blanket Order No.");
                                 PurchaseHeader.SETRANGE("No.","Blanket Order No.");
                                 IF NOT PurchaseHeader.ISEMPTY THEN BEGIN
                                   BlanketPurchaseOrder.SETTABLEVIEW(PurchaseHeader);
                                   BlanketPurchaseOrder.EDITABLE := FALSE;
                                   BlanketPurchaseOrder.RUN;
                                 END;
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1900000001;0;Container;
                ContainerType=ContentArea }

    { 1   ;1   ;Group     ;
                GroupType=Repeater }

    { 2   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line type.;
                           ESM=Especifica el tipo de l°nea.;
                           FRC=SpÇcifie le type de ligne.;
                           ENC=Specifies the line type.];
                ApplicationArea=#Advanced;
                SourceExpr=Type;
                OnValidate=BEGIN
                             NoOnAfterValidate;

                             UpdateEditableOnRow;
                             UpdateTypeText;
                           END;
                            }

    { 31  ;2   ;Field     ;
                Name=FilteredTypeField;
                CaptionML=[ENU=Type;
                           ESM=Tipo;
                           FRC=Type;
                           ENC=Type];
                ToolTipML=[ENU="Specifies the type of transaction that will be posted with the document line. If you select Comment, then you can enter any text in the Description field, such as a message to a customer. ";
                           ESM="Especifica el tipo de transacci¢n que se registrar† con la l°nea del documento. Si selecciona Comentario, puede escribir cualquier texto en el campo Descripci¢n; por ejemplo, un mensaje a un cliente. ";
                           FRC="SpÇcifie le type de transaction qui sera reportÇe avec la ligne document. Si vous sÇlectionnez Commentaire, vous pouvez entrer du texte dans le champ Description, par exemple un message Ö un client. ";
                           ENC="Specifies the type of transaction that will be posted with the document line. If you select Comment, then you can enter any text in the Description field, such as a message to a customer. "];
                ApplicationArea=#Basic,#Suite;
                SourceExpr=TypeAsText;
                TableRelation="Option Lookup Buffer"."Option Caption" WHERE (Lookup Type=CONST(Purchases));
                Visible=IsFoundation;
                Editable=CurrPageIsEditable;
                LookupPageID=Option Lookup List;
                OnValidate=BEGIN
                             TempOptionLookupBuffer.SetCurrentType(Type);
                             IF TempOptionLookupBuffer.AutoCompleteOption(TypeAsText,TempOptionLookupBuffer."Lookup Type"::Purchases) THEN
                               VALIDATE(Type,TempOptionLookupBuffer.ID);
                             TempOptionLookupBuffer.ValidateOption(TypeAsText);
                             UpdateEditableOnRow;
                             UpdateTypeText;
                           END;
                            }

    { 4   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of a general ledger account, item, additional cost, or fixed asset, depending on what you selected in the Type field.;
                           ESM=Permite especificar el n£mero de una cuenta contable, un producto, un costo adicional o un activo fijo, seg£n lo que se haya seleccionado en el campo Tipo.;
                           FRC=SpÇcifie le numÇro d'un compte GL, d'un article, d'un coñt supplÇmentaire ou d'une immobilisation, selon la sÇlection effectuÇe dans le champ Type.;
                           ENC=Specifies the number of a general ledger account, item, additional cost, or fixed asset, depending on what you selected in the Type field.];
                ApplicationArea=#Suite;
                SourceExpr="No.";
                OnValidate=BEGIN
                             ShowShortcutDimCode(ShortcutDimCode);
                             NoOnAfterValidate;

                             UpdateTypeText;
                           END;

                ShowMandatory=NOT IsCommentLine }

    { 1240060000;2;Field  ;
                SourceExpr="Expense Code" }

    { 62  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cross-referenced item number. If you enter a cross reference between yours and your vendor's or customer's item number, then this number will override the standard item number when you enter the cross-reference number on a sales or purchase document.;
                           ESM=Especifica el n£mero de producto de la referencia cruzada. Si introduce una referencia cruzada entre su n£mero de producto y el del proveedor o el cliente, sobrescribir† el n£mero de producto est†ndar cuando introduzca el n£mero de referencia cruzada en un documento de venta o de compra.;
                           FRC=SpÇcifie le numÇro d'article Ö rÇfÇrence externe. Si vous saisissez une rÇfÇrence externe entre votre numÇro d'article et celui de votre fournisseur ou client, ce numÇro remplace le numÇro d'article standard lorsque vous saisissez le numÇro de rÇfÇrence externe sur un document vente ou achat.;
                           ENC=Specifies the cross-referenced item number. If you enter a cross reference between yours and your vendor's or customer's item number, then this number will override the standard item number when you enter the cross-reference number on a sales or purchase document.];
                ApplicationArea=#Suite;
                SourceExpr="Cross-Reference No.";
                Visible=FALSE;
                OnValidate=BEGIN
                             CrossReferenceNoOnAfterValidat;
                             NoOnAfterValidate;
                           END;

                OnLookup=BEGIN
                           CrossReferenceNoLookUp;
                           InsertExtendedText(FALSE);
                           NoOnAfterValidate;
                           OnCrossReferenceNoOnLookup(Rec);
                         END;
                          }

    { 1108;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.;
                           ESM=Especifica el c¢digo del socio de empresas vinculadas relacionado con la transacci¢n si el movimiento se ha creado a partir de una transacci¢n entre empresas vinculadas.;
                           FRC=SpÇcifie le code du partenaire intercompagnie concernÇ si l'Çcriture est crÇÇe Ö partir d'une transaction intersociÇtÇ.;
                           ENC=Specifies the code of the intercompany partner that the transaction is related to if the entry was created from an intercompany transaction.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Code";
                Visible=FALSE }

    { 104 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the item or account in your IC partner's company that corresponds to the item or account on the line.;
                           ESM=Especifica el art°culo o la cuenta de la empresa del socio IC que corresponde al art°culo o la cuenta que consta en la l°nea.;
                           FRC=SpÇcifie l'article ou le compte de la compagnie de votre partenaireˇIC correspondant Ö l'article ou au compte de la ligne.;
                           ENC=Specifies the item or account in your IC partner's company that corresponds to the item or account on the line.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Ref. Type";
                Visible=FALSE }

    { 106 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the IC partner. If the line is being sent to one of your intercompany partners, this field is used together with the IC Partner Ref. Type field to indicate the item or account in your partner's company that corresponds to the line.;
                           ESM=Especifica el socio IC. Si la l°nea se est† enviando a uno de los socios de empresas vinculadas, este campo se usa junto con el campo Tipo referencia socio IC para indicar el art°culo o la cuenta de la empresa del socio que corresponde a la l°nea.;
                           FRC=SpÇcifie le partenaire IC. Si la ligne est en cours d'envoi Ö l'un de vos partenaires intercompagnie, ce champ, associÇ au champ Type de rÇf. du partenaire IC, permet d'indiquer l'article ou le compte qui correspond Ö la ligne dans la compagnie de votre partenaire.;
                           ENC=Specifies the IC partner. If the line is being sent to one of your intercompany partners, this field is used together with the IC Partner Ref. Type field to indicate the item or account in your partner's company that corresponds to the line.];
                ApplicationArea=#Intercompany;
                SourceExpr="IC Partner Reference";
                Visible=FALSE }

    { 32  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the variant of the item on the line.;
                           ESM=Especifica la variante del producto que figura en la l°nea.;
                           FRC=Indique la variante de l'article sur la ligne.;
                           ENC=Specifies the variant of the item on the line.];
                ApplicationArea=#Planning;
                SourceExpr="Variant Code";
                Visible=FALSE }

    { 82  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that this item is a catalog item.;
                           ESM=Especifica que este es un producto del cat†logo.;
                           FRC=SpÇcifie que cet article est un article de catalogue.;
                           ENC=Specifies that this item is a catalogue item.];
                ApplicationArea=#Suite;
                SourceExpr=Nonstock;
                Visible=FALSE }

    { 1030000;2;Field     ;
                ToolTipML=[ENU=Specifies the type of goods and services tax (GST) for the purchase line. You can select Acquisition, Self-Assessment, Rebate, New Housing Rebates, or Pension Rebate for the GST tax.;
                           ESM=Especifica el tipo de impuesto sobre bienes y servicios (GST) de la l°nea de compra. Puede seleccionar los campos Costo, Autoevaluaci¢n, Devoluci¢n, Nuevas devoluciones sobre el alojamiento o Devoluciones sobre pensiones para el GST.;
                           FRC=SpÇcifie le type de taxe sur les produits et services (TPS) de la ligne achat. Vous pouvez sÇlectionner Acquisition, Auto-Çvaluation, Remise, Remises pour habitation neuve ou Remise pour retraite pour la taxe TPS.;
                           ENC=Specifies the type of goods and services tax (GST) for the purchase line. You can select Acquisition, Self-Assessment, Rebate, New Housing Rebates, or Pension Rebate for the GST tax.];
                SourceExpr="GST/HST" }

    { 14  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the Tax product posting group. Links business transactions made for the item, resource, or G/L account with the general ledger, to account for Tax amounts resulting from trade with that record.;
                           ESM=Especifica el grupo de registro de IVA de producto. Vincula las transacciones empresariales realizadas para el producto, el recurso o la cuenta C/G con el fin de contabilizar los importes de IVA que derivan de la comercializaci¢n de ese registro.;
                           FRC=SpÇcifie le groupe de report produit TVA. Lie les transactions commerciales effectuÇes pour l'article, la ressource ou le compte du grand livre avec le grand livre pour reprÇsenter les montants de TVA dÇcoulant de la nÇgociation de cet enregistrement.;
                           ENC=Specifies the tax product posting group. Links business transactions made for the item, resource, or G/L account with the general ledger, to account for tax amounts resulting from trade with that record.];
                ApplicationArea=#Basic,#Suite;
                SourceExpr="VAT Prod. Posting Group";
                Visible=FALSE }

    { 6   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a description of the entry of the product to be purchased. To add a non-transactional text line, fill in the Description field only.;
                           ESM=Especifica una descripci¢n del movimiento del producto que va a comprar. Para agregar una l°nea de texto no transaccional, rellenar solo el campo de Descripci¢n.;
                           FRC=SpÇcifie une description de l'Çcriture du produit Ö acheter. Pour ajouter une ligne de texte non transactionnelle, renseignez le champ Description uniquement.;
                           ENC=Specifies a description of the entry of the product to be purchased. To add a non-transactional text line, fill in the Description field only.];
                ApplicationArea=#Suite;
                SourceExpr=Description }

    { 80  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if your vendor ships the items directly to your customer.;
                           ESM=Especifica si el proveedor env°a directamente los productos al cliente.;
                           FRC=SpÇcifie si vous souhaitez que votre fournisseur livre les articles directement Ö votre client.;
                           ENC=Specifies if your vendor ships the items directly to your customer.];
                ApplicationArea=#Suite;
                SourceExpr="Drop Shipment";
                Visible=FALSE }

    { 88  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code explaining why the item was returned.;
                           ESM=Especifica el c¢digo que explica el motivo de la devoluci¢n del producto.;
                           FRC=SpÇcifie le code expliquant la raison du retour de l'article.;
                           ENC=Specifies the code explaining why the item was returned.];
                ApplicationArea=#Suite;
                SourceExpr="Return Reason Code";
                Visible=FALSE }

    { 74  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a code for the location where you want the items to be placed when they are received.;
                           ESM=Especifica el c¢digo de almacÇn donde quiere que se guarden los productos recibidos.;
                           FRC=SpÇcifie un code pour l'emplacement dans lequel vous souhaitez que les articles soient stockÇs lorsqu'ils sont rÇceptionnÇs.;
                           ENC=Specifies a code for the location where you want the items to be placed when they are received.];
                ApplicationArea=#Location;
                SourceExpr="Location Code";
                Enabled=NOT IsCommentLine;
                Editable=NOT IsCommentLine }

    { 102 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the bin where the items are picked or put away.;
                           ESM=Especifica la ubicaci¢n donde se recogen o se dejan los productos.;
                           FRC=SpÇcifie la zone dans laquelle les articles sont prÇlevÇs ou rangÇs.;
                           ENC=Specifies the bin where the items are picked or put away.];
                ApplicationArea=#Warehouse;
                SourceExpr="Bin Code";
                Visible=FALSE }

    { 8   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of units of the item specified on the line.;
                           ESM=Indica el n£mero de unidades del producto especificado en la l°nea.;
                           FRC=SpÇcifie le nombre d'unitÇs de l'article sur la ligne spÇcifiÇe.;
                           ENC=Specifies the number of units of the item specified on the line.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr=Quantity;
                Enabled=NOT IsCommentLine;
                Editable=NOT IsCommentLine;
                ShowMandatory=(NOT IsCommentLine) AND ("No." <> '') }

    { 42  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many item units on this line have been reserved.;
                           ESM=Especifica cu†ntas unidades del producto de esta l°nea se han reservado.;
                           FRC=SpÇcifie le nombre d'unitÇs de l'article sur cette ligne qui ont ÇtÇ rÇservÇes.;
                           ENC=Specifies how many item units on this line have been reserved.];
                ApplicationArea=#Reservation;
                BlankZero=Yes;
                SourceExpr="Reserved Quantity" }

    { 9   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that remains to complete a job.;
                           ESM=Especifica la cantidad restante para completar un proyecto.;
                           FRC=Indique la quantitÇ restante pour rÇaliser un projet.;
                           ENC=Specifies the quantity that remains to complete a job.];
                ApplicationArea=#Jobs;
                BlankZero=Yes;
                SourceExpr="Job Remaining Qty.";
                Visible=FALSE }

    { 36  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.;
                           ESM=Especifica c¢mo se mide cada unidad del producto o el recurso, por ejemplo, en piezas u horas. De forma predeterminada, se inserta el valor en el campo Unidad de medida base de la ficha de producto o recurso.;
                           FRC=SpÇcifie la maniäre dont chaque unitÇ de mesure de l'article ou de la ressource est mesurÇe, par exemple en unitÇ de mesures ou en heures. Par dÇfaut, la valeur du champ unitÇ de mesure de base de la fiche article ou la ressource est insÇrÇe.;
                           ENC=Specifies how each unit of the item or resource is measured, such as in pieces or hours. By default, the value in the Base Unit of Measure field on the item or resource card is inserted.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure Code";
                Visible=FALSE;
                Enabled=UnitofMeasureCodeIsChangeable;
                Editable=UnitofMeasureCodeIsChangeable }

    { 10  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit of measure.;
                           ESM=Especifica la unidad de medida.;
                           FRC=SpÇcifie l'unitÇ de mesure.;
                           ENC=Specifies the unit of measure.];
                ApplicationArea=#Suite;
                SourceExpr="Unit of Measure";
                Visible=FALSE }

    { 12  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the cost of one unit of the selected item or resource.;
                           ESM=Especifica el costo unitario del producto o el recurso seleccionado.;
                           FRC=SpÇcifie le coñt unitaire d'une ressource ou d'un article sÇlectionnÇ.;
                           ENC=Specifies the cost of one unit of the selected item or resource.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Direct Unit Cost";
                Enabled=NOT IsCommentLine;
                Editable=NOT IsCommentLine;
                ShowMandatory=(NOT IsCommentLine) AND ("No." <> '') }

    { 28  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the percentage of the item's last purchase cost that includes indirect costs, such as freight that is associated with the purchase of the item.;
                           ESM=Especifica el porcentaje del £ltimo costo de compra del art°culo, que incluye los costos indirectos, como el flete asociado con la compra del art°culo.;
                           FRC=SpÇcifie le pourcentage du dernier coñt d'achat de l'article qui inclut les coñts indirects comme la gestion du fret et des entrepìts associÇs Ö l'achat de l'article.;
                           ENC=Specifies the percentage of the item's last purchase cost that includes indirect costs, such as freight that is associated with the purchase of the item.];
                ApplicationArea=#Suite;
                SourceExpr="Indirect Cost %";
                Visible=FALSE }

    { 68  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the unit cost of the item on the line.;
                           ESM=Especifica el costo unitario del producto que figura en la l°nea.;
                           FRC=SpÇcifie le coñt unitaire de l'article sur la ligne.;
                           ENC=Specifies the unit cost of the item on the line.];
                ApplicationArea=#Suite;
                SourceExpr="Unit Cost (LCY)";
                Visible=FALSE }

    { 30  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the price, in $, for one unit of the item.;
                           ESM=Especifica el precio unitario del art°culo, en la divisa local.;
                           FRC=SpÇcifie le prix unitaire, en $, de l'article.;
                           ENC=Specifies the price, in $, for one unit of the item.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Unit Price (LCY)";
                Visible=FALSE }

    { 1480000;2;Field     ;
                ToolTipML=[ENU=Specifies if this vendor charges you sales tax for purchases.;
                           ESM=Especifica si este proveedor le cobra el impuesto sobre las ventas por las compras.;
                           FRC=SpÇcifie si le fournisseur vous facture la taxe de vente pour vos achats.;
                           ENC=Specifies if this vendor charges you sales tax for purchases.];
                ApplicationArea=#Suite;
                SourceExpr="Tax Liable";
                Visible=FALSE;
                Editable=FALSE }

    { 1480002;2;Field     ;
                ToolTipML=[ENU=Specifies the tax area that is used to calculate and post sales tax.;
                           ESM=Especifica el †rea fiscal que se usa para calcular y registrar el impuesto sobre las ventas.;
                           FRC=SpÇcifie la rÇgion fiscale utilisÇe pour calculer et reporter la taxe de vente.;
                           ENC=Specifies the tax area that is used to calculate and post sales tax.];
                ApplicationArea=#Suite;
                SourceExpr="Tax Area Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             RedistributeTotalsOnAfterValidate;
                           END;
                            }

    { 1400000;2;Field     ;
                ToolTipML=[ENU=Specifies the tax area code for self assessed Provincial Sales Tax for the company.;
                           ESM=Especifica el c¢digo del †rea fiscal del impuesto sobre las ventas provincial autoevaluado de la empresa.;
                           FRC=SpÇcifie le code de rÇgion fiscale pour la taxe de vente provinciale auto-ÇvaluÇe de la compagnie.;
                           ENC=Specifies the tax area code for self assessed Provincial Sales Tax for the company.];
                SourceExpr="Provincial Tax Area Code";
                Visible=FALSE }

    { 1480004;2;Field     ;
                ToolTipML=[ENU=Specifies the tax group that is used to calculate and post sales tax.;
                           ESM=Especifica el grupo impositivo que se usa para calcular y registrar el impuesto sobre las ventas.;
                           FRC=SpÇcifie le groupe fiscal utilisÇ pour calculer et reporter la taxe de vente.;
                           ENC=Specifies the tax group that is used to calculate and post sales tax.];
                ApplicationArea=#Suite;
                SourceExpr="Tax Group Code";
                Visible=FALSE;
                OnValidate=BEGIN
                             RedistributeTotalsOnAfterValidate;
                           END;

                ShowMandatory=TRUE }

    { 1480006;2;Field     ;
                ToolTipML=[ENU=Specifies a U.S. sales tax that is paid on items purchased by a company that are used by the company, instead of being sold to a customer.;
                           ESM=Especifica un impuesto sobre las ventas de EE.ˇUU. que se paga por los productos que una empresa compra y usa para s° misma, en lugar de venderlos a un cliente.;
                           FRC=SpÇcifie une taxe de vente amÇricaine payÇe sur les articles achetÇs par une compagnie pour son propre usage plutìt que pour la vente Ö un client.;
                           ENC=Specifies a U.S. sales tax that is paid on items purchased by a company that are used by the company, instead of being sold to a customer.];
                ApplicationArea=#Suite;
                SourceExpr="Use Tax";
                Visible=FALSE }

    { 16  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount percentage that is granted for the item on the line.;
                           ESM=Especifica el porcentaje de descuento aplicable al producto de la l°nea.;
                           FRC=SpÇcifie le pourcentage d'escompte octroyÇ pour l'article de la ligne.;
                           ENC=Specifies the discount percentage that is granted for the item on the line.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Discount %";
                Visible=FALSE;
                Enabled=NOT IsCommentLine;
                Editable=NOT IsCommentLine }

    { 44  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the net amount, excluding any invoice discount amount, that must be paid for products on the line.;
                           ESM=Especifica el importe neto, menos cualquier importe de descuento en factura, que se debe pagar por los productos de la l°nea.;
                           FRC=SpÇcifie le montant net, hors montant d'escompte de la facture, Ö payer pour les produits sur la ligne.;
                           ENC=Specifies the net amount, excluding any invoice discount amount, that must be paid for products on the line.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Line Amount";
                Enabled=NOT IsCommentLine;
                Editable=NOT IsCommentLine }

    { 60  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the discount amount that is granted for the item on the line.;
                           ESM=Especifica la cantidad de descuento aplicable al producto de la l°nea.;
                           FRC=SpÇcifie le montant de l'escompte octroyÇ pour l'article de la ligne.;
                           ENC=Specifies the discount amount that is granted for the item on the line.];
                ApplicationArea=#Suite;
                SourceExpr="Line Discount Amount";
                Visible=FALSE }

    { 108 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment percentage to use to calculate the prepayment for purchases.;
                           ESM=Especifica el porcentaje de anticipo que se debe usar para calcular el anticipo de las compras.;
                           FRC=SpÇcifie le pourcentage de paiement anticipÇ Ö utiliser pour calculer le paiement anticipÇ pour les achats.;
                           ENC=Specifies the prepayment percentage to use to calculate the prepayment for purchases.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepayment %";
                Visible=FALSE }

    { 110 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount of the line in the currency of the purchase document if a prepayment percentage is specified for the purchase line.;
                           ESM=Especifica el importe de anticipo de la l°nea, en la divisa del documento de compra, si se especific¢ un porcentaje de anticipo para la l°nea de compra.;
                           FRC=SpÇcifie le montant du paiement anticipÇ de la ligne dans la devise du document d'achat si un pourcentage de paiement anticipÇ est spÇcifiÇ pour la ligne achat.;
                           ENC=Specifies the prepayment amount of the line in the currency of the purchase document if a prepayment percentage is specified for the purchase line.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt. Line Amount";
                Visible=FALSE }

    { 112 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been invoiced to the customer for this purchase line.;
                           ESM=Especifica el Importe anticipo que ya se ha facturado al cliente para esta l°nea de compra.;
                           FRC=SpÇcifie le montant du paiement anticipÇ qui a dÇjÖ ÇtÇ facturÇ au client pour cette ligne achat.;
                           ENC=Specifies the prepayment amount that has already been invoiced to the customer for this purchase line.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt. Amt. Inv.";
                Visible=FALSE }

    { 58  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies if the invoice line is included when the invoice discount is calculated.;
                           ESM=Especifica si la l°nea de factura se incluye cuando se calcula el descuento en la factura.;
                           FRC=SpÇcifie si la ligne facture est incluse lors du calcul de l'escompte facture.;
                           ENC=Specifies if the invoice line is included when the invoice discount is calculated.];
                ApplicationArea=#Suite;
                SourceExpr="Allow Invoice Disc.";
                Visible=FALSE }

    { 26  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the total calculated invoice discount amount for the line.;
                           ESM=Especifica el importe total de descuento en factura calculado para la l°nea.;
                           FRC=SpÇcifie le montant d'escompte de la facture total calculÇe pour la ligne.;
                           ENC=Specifies the total calculated invoice discount amount for the line.];
                ApplicationArea=#Suite;
                SourceExpr="Inv. Discount Amount";
                Visible=FALSE }

    { 39  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the actual invoice discount amount that will be posted for the line on the invoice.;
                           ESM=Especifica el importe de descuento en factura real que se registrar† para la l°nea en la factura.;
                           FRC=SpÇcifie le montant d'escompte de la facture effectif qui sera reportÇ sur la facture pour cette ligne.;
                           ENC=Specifies the actual invoice discount amount that will be posted for the line on the invoice.];
                ApplicationArea=#Suite;
                SourceExpr="Inv. Disc. Amount to Invoice";
                Visible=FALSE }

    { 18  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity of items that remains to be received.;
                           ESM=Especifica la cantidad de productos que queda por recibir.;
                           FRC=Indique la quantitÇ d'articles restant Ö recevoir.;
                           ENC=Specifies the quantity of items that remains to be received.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Qty. to Receive" }

    { 20  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as received.;
                           ESM=Especifica cu†ntas unidades del producto que figura en la l°nea se han registrado como recibidas.;
                           FRC=SpÇcifie le nombre d'unitÇs de l'article sur la ligne qui ont dÇjÖ ÇtÇ reportÇes comme reáues.;
                           ENC=Specifies how many units of the item on the line have been posted as received.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Received" }

    { 22  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the quantity that remains to be invoiced. It is calculated as Quantity - Qty. Invoiced.;
                           ESM=Permite especificar la cantidad que queda por facturar. Se calcula como Cantidad menos Cdad. facturada.;
                           FRC=SpÇcifie la quantitÇ restante Ö facturer. Le calcul est effectuÇ comme suitˇ: QuantitÇ - QtÇ facturÇe.;
                           ENC=Specifies the quantity that remains to be invoiced. It is calculated as Quantity - Qty. Invoiced.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Qty. to Invoice" }

    { 24  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item on the line have been posted as invoiced.;
                           ESM=Especifica cu†ntas unidades del producto que figura en la l°nea se han registrado como facturadas.;
                           FRC=SpÇcifie le nombre d'unitÇs de l'article sur la ligne qui ont dÇjÖ ÇtÇ reportÇes comme facturÇes.;
                           ENC=Specifies how many units of the item on the line have been posted as invoiced.];
                ApplicationArea=#Suite;
                BlankZero=Yes;
                SourceExpr="Quantity Invoiced" }

    { 114 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.;
                           ESM=Especifica el Importe anticipo que ya se descont¢ de las facturas normales registradas para esta l°nea de pedido de compra.;
                           FRC=SpÇcifie le montant de paiement anticipÇ qui a dÇjÖ ÇtÇ dÇduit des factures ordinaires reportÇes pour cette ligne bon de commande.;
                           ENC=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt Amt to Deduct";
                Visible=FALSE }

    { 116 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.;
                           ESM=Especifica el Importe anticipo que ya se descont¢ de las facturas normales registradas para esta l°nea de pedido de compra.;
                           FRC=SpÇcifie le montant de paiement anticipÇ qui a dÇjÖ ÇtÇ dÇduit des factures ordinaires reportÇes pour cette ligne bon de commande.;
                           ENC=Specifies the prepayment amount that has already been deducted from ordinary invoices posted for this purchase order line.];
                ApplicationArea=#Prepayments;
                SourceExpr="Prepmt Amt Deducted";
                Visible=FALSE }

    { 56  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that you can assign item charges to this line.;
                           ESM=Especifica que es posible asignar cargos de producto a esta l°nea.;
                           FRC=SpÇcifie que vous pouvez affecter des frais annexes Ö cette ligne.;
                           ENC=Specifies that you can assign item charges to this line.];
                ApplicationArea=#ItemCharges;
                SourceExpr="Allow Item Charge Assignment";
                Visible=FALSE }

    { 66  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units of the item charge will be assigned to the line.;
                           ESM=Especifica cu†ntas unidades del cargo de producto se asignar†n a la l°nea.;
                           FRC=SpÇcifie le nombre d'unitÇs de frais annexes qui seront affectÇs Ö la ligne.;
                           ENC=Specifies how many units of the item charge will be assigned to the line.];
                ApplicationArea=#ItemCharges;
                SourceExpr="Qty. to Assign";
                StyleExpr=ItemChargeStyleExpression;
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 54  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how much of the item charge that has been assigned.;
                           ESM=Especifica la cantidad del cargo de producto que se ha asignado.;
                           FRC=SpÇcifie les frais annexes qui ont ÇtÇ affectÇs.;
                           ENC=Specifies how much of the item charge that has been assigned.];
                ApplicationArea=#ItemCharges;
                BlankZero=Yes;
                SourceExpr="Qty. Assigned";
                OnDrillDown=BEGIN
                              CurrPage.SAVERECORD;
                              ShowItemChargeAssgnt;
                              UpdateForm(FALSE);
                            END;
                             }

    { 126 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job. If you fill in this field and the Job Task No. field, then a job ledger entry will be posted together with the purchase line.;
                           ESM=Especifica el n£mero del proyecto relacionado. Si rellena este campo y el campo N.ß tarea proyecto, se registrar† un movimiento de proyecto junto con la l°nea de compra.;
                           FRC=SpÇcifie le numÇro du projet concernÇ. Si vous renseignez ce champ et le champ N¯ tÉche projet, une Çcriture de grand livre projet sera reportÇe avec la ligne achat.;
                           ENC=Specifies the number of the related job. If you fill in this field and the Job Task No. field, then a job ledger entry will be posted together with the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job No.";
                Visible=FALSE }

    { 128 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related job task.;
                           ESM=Especifica el n£mero de tarea del proyecto relacionada.;
                           FRC=SpÇcifie le numÇro de la tÉche projet concernÇe.;
                           ENC=Specifies the number of the related job task.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Task No.";
                Visible=FALSE }

    { 7   ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the job planning line number to which the usage should be linked when the Job Journal is posted. You can only link to Job Planning Lines that have the Apply Usage Link option enabled.;
                           ESM=Especifica el n£mero de la l°nea de planificaci¢n de proyecto al que se deber† vincular el uso cuando se registre el diario de proyectos. Solo se puede vincular a las l°neas de planificaci¢n de proyecto que tengan habilitada la opci¢n Aplicar v°nculo uso.;
                           FRC=SpÇcifie le numÇro de la ligne planification projet Ö laquelle l'utilisation doit àtre liÇe lorsque le journal de projet est reportÇ. Vous pouvez uniquement Çtablir une liaison avec des lignes planification projet dont l'option Appliquer le lien d'utilisation est activÇe.;
                           ENC=Specifies the job planning line number to which the usage should be linked when the Job Journal is posted. You can only link to Job Planning Lines that have the Apply Usage Link option enabled.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Planning Line No.";
                Visible=FALSE }

    { 130 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the type of planning line that was created when the job ledger entry is posted from the purchase line. If the field is empty, no planning lines were created for this entry.;
                           ESM=Especifica el tipo de l°nea de planificaci¢n que se cre¢ cuando se registr¢ el movimiento de proyecto desde la l°nea de pedido. Si el campo est† en blanco, significa que no se crearon l°neas de planificaci¢n para este movimiento.;
                           FRC=SpÇcifie le type de ligne planification qui a ÇtÇ crÇÇe lors du report de l'Çcriture de grand livre projet depuis la ligne achat. Si le champ est vide, aucune ligne planification n'a ÇtÇ crÇÇe pour cette Çcriture.;
                           ENC=Specifies the type of planning line that was created when the job ledger entry is posted from the purchase line. If the field is empty, no planning lines were created for this entry.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Type";
                Visible=FALSE }

    { 132 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.;
                           ESM=Especifica el precio de venta por unidad que se aplica al producto o al gasto de contabilidad que se registrar†.;
                           FRC=SpÇcifie le prix de vente unitaire qui s'applique Ö l'article ou la dÇpense gÇnÇrale qui sera reportÇe.;
                           ENC=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price";
                Visible=FALSE }

    { 134 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that is related to the purchase line.;
                           ESM=Especifica el importe de la l°nea del movimiento de proyecto relacionado con la l°nea de compra.;
                           FRC=SpÇcifie le montant ligne de l'Çcriture de grand livre projet associÇe Ö la ligne achat.;
                           ENC=Specifies the line amount of the job ledger entry that is related to the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount";
                Visible=FALSE }

    { 136 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount amount of the job ledger entry that is related to the purchase line.;
                           ESM=Especifica el importe de descuento de la l°nea del movimiento de proyecto relacionado con la l°nea de compra.;
                           FRC=SpÇcifie le montant escompte ligne de l'Çcriture de grand livre projet associÇe Ö la ligne achat.;
                           ENC=Specifies the line discount amount of the job ledger entry that is related to the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount Amount";
                Visible=FALSE }

    { 138 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount percentage of the job ledger entry that is related to the purchase line.;
                           ESM=Especifica el porcentaje de descuento de la l°nea del movimiento de proyecto relacionado con la l°nea de compra.;
                           FRC=SpÇcifie le pourcentage escompte ligne de l'Çcriture de grand livre projet associÇe Ö la ligne achat.;
                           ENC=Specifies the line discount percentage of the job ledger entry that is related to the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Discount %";
                Visible=FALSE }

    { 140 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the gross amount of the line that the purchase line applies to.;
                           ESM=Especifica el importe bruto de la l°nea a la que corresponde la l°nea de compra.;
                           FRC=SpÇcifie le montant brut de la ligne Ö laquelle la ligne achat s'applique.;
                           ENC=Specifies the gross amount of the line that the purchase line applies to.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price";
                Visible=FALSE }

    { 142 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.;
                           ESM=Especifica el precio de venta por unidad que se aplica al producto o al gasto de contabilidad que se registrar†.;
                           FRC=SpÇcifie le prix de vente unitaire qui s'applique Ö l'article ou la dÇpense gÇnÇrale qui sera reportÇe.;
                           ENC=Specifies the sales price per unit that applies to the item or general ledger expense that will be posted.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Unit Price (LCY)";
                Visible=FALSE }

    { 144 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the gross amount of the line, in the local currency.;
                           ESM=Especifica el importe bruto de la l°nea en la divisa local.;
                           FRC=SpÇcifie le montant brut de la ligne dans la devise locale.;
                           ENC=Specifies the gross amount of the line, in the local currency.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Total Price (LCY)";
                Visible=FALSE }

    { 146 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line amount of the job ledger entry that is related to the purchase line.;
                           ESM=Especifica el importe de la l°nea del movimiento de proyecto relacionado con la l°nea de compra.;
                           FRC=SpÇcifie le montant ligne de l'Çcriture de grand livre projet associÇe Ö la ligne achat.;
                           ENC=Specifies the line amount of the job ledger entry that is related to the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Amount (LCY)";
                Visible=FALSE }

    { 148 ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the line discount amount of the job ledger entry that is related to the purchase line.;
                           ESM=Especifica el importe de descuento de la l°nea del movimiento de proyecto relacionado con la l°nea de compra.;
                           FRC=SpÇcifie le montant escompte ligne de l'Çcriture de grand livre projet associÇe Ö la ligne achat.;
                           ENC=Specifies the line discount amount of the job ledger entry that is related to the purchase line.];
                ApplicationArea=#Jobs;
                SourceExpr="Job Line Disc. Amount (LCY)";
                Visible=FALSE }

    { 34  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date that you want the vendor to deliver to the ship-to address. The value in the field is used to calculate the latest date you can order the items to have them delivered on the requested receipt date. If you do not need delivery on a specific date, you can leave the field blank.;
                           ESM=Permite especificar la fecha en la desea que el proveedor env°e el pedido a la direcci¢n de env°o. El valor del campo se usa para calcular la £ltima fecha en la que puede solicitar los productos de forma que se env°en en la fecha de recepci¢n solicitada. Si no necesita que se produzca el env°o en una fecha espec°fica, puede dejar el campo en blanco.;
                           FRC=SpÇcifie la date Ö laquelle vous souhaitez que le fournisseur livre les articles Ö l'adresse de livraison destinataire. La valeur du champ est utilisÇe pour calculer la date limite de commande garantissant la livraison des articles Ö la date de rÇception demandÇe. Si vous ne souhaitez pas indiquer une date de livraison, vous pouvez laisser ce champ vide.;
                           ENC=Specifies the date that you want the vendor to deliver to the ship-to address. The value in the field is used to calculate the latest date you can order the items to have them delivered on the requested receipt date. If you do not need delivery on a specific date, you can leave the field blank.];
                ApplicationArea=#Suite;
                SourceExpr="Requested Receipt Date";
                Visible=FALSE }

    { 90  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date that the vendor has promised to deliver the order.;
                           ESM=Especifica la fecha en la que el cliente se ha comprometido a entregar el pedido.;
                           FRC=SpÇcifie la date Ö laquelle le fournisseur a promis de livrer la commande.;
                           ENC=Specifies the date that the vendor has promised to deliver the order.];
                ApplicationArea=#OrderPromising;
                SourceExpr="Promised Receipt Date";
                Visible=FALSE }

    { 92  ;2   ;Field     ;
                ToolTipML=[ENU="Specifies the date when the item is planned to arrive in inventory. Forward calculation: planned receipt date = order date + vendor lead time (per the vendor calendar and rounded to the next working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: planned receipt date = order date + vendor lead time (per the location calendar). Backward calculation: order date = planned receipt date - vendor lead time (per the vendor calendar and rounded to the previous working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: order date = planned receipt date - vendor lead time (per the location calendar).";
                           ESM="Especifica la fecha en que se prevÇ que el producto llegar† al inventario. C†lculo a plazo: fecha de recepci¢n planificada = fecha de pedido + plazo de entrega del proveedor (seg£n el calendario del proveedor y redondeado al siguiente d°a laborable, primero en el calendario del proveedor y, despuÇs, en el calendario de la ubicaci¢n). Si no hay calendarios del proveedor: fecha de recepci¢n planificada = fecha pedido + plazo de entrega del proveedor (seg£n el calendario de la ubicaci¢n). C†lculo retrospectivo: fecha de pedido = fecha de recepci¢n planificada - plazo de entrega del proveedor (seg£n el calendario del proveedor y redondeado al d°a laborable anterior, primero en el calendario del proveedor y, despuÇs, en el calendario de la ubicaci¢n). Si no hay calendarios del proveedor: fecha de pedido = fecha de recepci¢n planificada - plazo de entrega del proveedor (seg£n el calendario de la ubicaci¢n).";
                           FRC="SpÇcifie la date Ö laquelle l'article doit entrer dans l'inventaire. Calcul en avalˇ: Date planifiÇe de rÇception = date commande + dÇlai fournisseur (selon le calendrier du fournisseur et arrondie au jour ouvrÇ suivant dans le calendrier du fournisseur, puis dans le calendrier de l'emplacement). Si aucun calendrier fournisseur n'existeˇ: Date planifiÇe de rÇception = date commande + dÇlai fournisseur (selon le calendrier de l'emplacement). Calcul en amontˇ: Date de commande = date planifiÇe de rÇception - dÇlai fournisseur (selon le calendrier du fournisseur et arrondie au jour ouvrÇ prÇcÇdent dans le calendrier du fournisseur, puis dans le calendrier de l'emplacement). Si aucun calendrier fournisseur n'existeˇ: Date de commande = date planifiÇe de rÇception - dÇlai fournisseur (selon le calendrier de l'emplacement).";
                           ENC="Specifies the date when the item is planned to arrive in inventory. Forward calculation: planned receipt date = order date + vendor lead time (per the vendor calendar and rounded to the next working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: planned receipt date = order date + vendor lead time (per the location calendar). Backward calculation: order date = planned receipt date - vendor lead time (per the vendor calendar and rounded to the previous working day in first the vendor calendar and then the location calendar). If no vendor calendar exists, then: order date = planned receipt date - vendor lead time (per the location calendar)."];
                ApplicationArea=#Suite;
                SourceExpr="Planned Receipt Date" }

    { 100 ;2   ;Field     ;
                ToolTipML=[ENU="Specifies the date you expect the items to be available in your warehouse. If you leave the field blank, it will be calculated as follows: Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date.";
                           ESM="Permite especificar la fecha en que se espera que los productos estÇn disponibles en su almacÇn. Si deja el campo vac°o, se calcular† de la siguiente manera: Fecha de recepci¢n planificada + Plazo de seguridad + Tiempo de manipulaci¢n en almacÇn de entrada = Fecha de recepci¢n esperada.";
                           FRC=SpÇcifie la date Ö laquelle les articles doivent àtre disponibles dans l'entrepìt. Si vous laissez ce champ vide, le calcul est effectuÇ comme suitˇ: Date planifiÇe de rÇception + DÇlai de sÇcuritÇ + DÇlai enlogement + Date rÇception prÇvue.;
                           ENC="Specifies the date you expect the items to be available in your warehouse. If you leave the field blank, it will be calculated as follows: Planned Receipt Date + Safety Lead Time + Inbound Warehouse Handling Time = Expected Receipt Date."];
                ApplicationArea=#Suite;
                SourceExpr="Expected Receipt Date" }

    { 94  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the date when the order was created.;
                           ESM=Especifica la fecha en la que se cre¢ el pedido.;
                           FRC=SpÇcifie la date Ö laquelle la commande a ÇtÇ crÇÇe.;
                           ENC=Specifies the date when the order was created.];
                ApplicationArea=#Suite;
                SourceExpr="Order Date";
                Visible=FALSE }

    { 96  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies a date formula for the amount of time it takes to replenish the item.;
                           ESM=Especifica una f¢rmula de fecha con la cantidad de tiempo que se tarda en reponer el producto.;
                           FRC=SpÇcifie une formule de date pour le dÇlai nÇcessaire au rÇapprovisionnement de l'article.;
                           ENC=Specifies a date formula for the amount of time it takes to replenish the item.];
                ApplicationArea=#Suite;
                SourceExpr="Lead Time Calculation";
                Visible=FALSE }

    { 84  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies whether the supply represented by this line is considered by the planning system when calculating action messages.;
                           ESM=Especifica si el sistema de planificaci¢n tiene en cuenta el suministro representado por esta l°nea al calcular los mensajes de acci¢n.;
                           FRC=SpÇcifie si l'approvisionnement reprÇsentÇ par cette ligne est pris en compte par le systäme de planification lors du calcul des messages d'action.;
                           ENC=Specifies whether the supply represented by this line is considered by the planning system when calculating action messages.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Planning Flexibility";
                Visible=FALSE }

    { 40  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production order.;
                           ESM=Especifica el n£mero de la orden de producci¢n relacionada.;
                           FRC=SpÇcifie le numÇro du bon de production associÇ.;
                           ENC=Specifies the number of the related production order.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Prod. Order No.";
                Visible=FALSE }

    { 86  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production order line.;
                           ESM=Especifica el n£mero de l°nea la l°nea de la orden de producci¢n relacionada.;
                           FRC=SpÇcifie le numÇro de la ligne du bon de production associÇ.;
                           ENC=Specifies the number of the related production order line.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Prod. Order Line No.";
                Visible=FALSE }

    { 64  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the related production operation.;
                           ESM=Especifica el n£mero de la operaci¢n de producci¢n relacionada.;
                           FRC=SpÇcifie le numÇro de l'opÇration de production associÇe.;
                           ENC=Specifies the number of the related production operation.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Operation No.";
                Visible=FALSE }

    { 70  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the work center number of the journal line.;
                           ESM=Especifica el n£mero de centro de trabajo correspondiente a la l°nea del diario.;
                           FRC=SpÇcifie le numÇro de l'atelier de la ligne journal.;
                           ENC=Specifies the work centre number of the journal line.];
                ApplicationArea=#Manufacturing;
                SourceExpr="Work Center No.";
                Visible=FALSE }

    { 72  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies that any related service or operation is finished.;
                           ESM=Especifica que ha finalizado cualquier operaci¢n o servicio relacionados.;
                           FRC=SpÇcifie qu'une opÇration ou un service associÇ est terminÇ.;
                           ENC=Specifies that any related service or operation is finished.];
                ApplicationArea=#Manufacturing;
                SourceExpr=Finished;
                Visible=FALSE }

    { 38  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies how many units on the purchase order line remain to be handled in warehouse documents.;
                           ESM=Especifica cu†ntas unidades de la l°nea de pedido de compra faltan controlar en los documentos de almacÇn.;
                           FRC=SpÇcifie le nombre d'unitÇs sur la ligne bon de commande qui restent Ö traiter dans les documents entrepìt.;
                           ENC=Specifies how many units on the purchase order line remain to be handled in warehouse documents.];
                ApplicationArea=#Warehouse;
                SourceExpr="Whse. Outstanding Qty. (Base)";
                Visible=FALSE }

    { 98  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the time it takes to make items part of available inventory, after the items have been posted as received.;
                           ESM=Especifica el tiempo necesario para que los art°culos formen parte del inventario disponible tras haberlos registrado como recibidos.;
                           FRC=SpÇcifie le temps nÇcessaire pour que les articles soient inclus dans l'inventaire disponible, une fois les articles reportÇs comme reáus.;
                           ENC=Specifies the time it takes to make items part of available inventory, after the items have been posted as received.];
                ApplicationArea=#Warehouse;
                SourceExpr="Inbound Whse. Handling Time";
                Visible=FALSE }

    { 46  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the blanket order that the record originates from.;
                           ESM=Especifica el n£mero del pedido abierto a partir del cual se origina el registro.;
                           FRC=SpÇcifie le numÇro de la commande ouverte d'oó provient l'enregistrement.;
                           ENC=Specifies the number of the blanket order that the record originates from.];
                ApplicationArea=#Suite;
                SourceExpr="Blanket Order No.";
                Visible=FALSE }

    { 48  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the blanket order line that the record originates from.;
                           ESM=Especifica el n£mero de la l°nea de pedido abierto a partir de la cual se origina el registro.;
                           FRC=SpÇcifie le numÇro de la ligne de la commande ouverte d'oó provient l'enregistrement.;
                           ENC=Specifies the number of the blanket order line that the record originates from.];
                ApplicationArea=#Suite;
                SourceExpr="Blanket Order Line No.";
                Visible=FALSE }

    { 52  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of the item ledger entry that the document or journal line is applied -to.;
                           ESM=Especifica el n£mero del movimiento de producto en el que se liquida la l°nea de documento o diario.;
                           FRC=SpÇcifie le numÇro de l'Çcriture du grand livre d'articles Ö laquelle la ligne journal ou le document est affectÇ.;
                           ENC=Specifies the number of the item ledger entry that the document or journal line is applied -to.];
                ApplicationArea=#Suite;
                SourceExpr="Appl.-to Item Entry";
                Visible=FALSE }

    { 21  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the deferral template that governs how expenses paid with this purchase document are deferred to the different accounting periods when the expenses were incurred.;
                           ESM=Especifica la plantilla de fraccionamiento que administra el modo de fraccionar los gastos pagados con este documento de compra en los diferentes periodos contables cuando se contraen gastos.;
                           FRC=SpÇcifie le modäle Çchelonnement qui rÇgit la maniäre dont les dÇpenses payÇes avec ce document achat sont ÇchelonnÇes sur les diffÇrentes pÇriodes de comptabilitÇ lorsque les dÇpenses sont encourues.;
                           ENC=Specifies the deferral template that governs how expenses paid with this purchase document are deferred to the different accounting periods when the expenses were incurred.];
                ApplicationArea=#Suite;
                SourceExpr="Deferral Code";
                TableRelation="Deferral Template"."Deferral Code";
                Visible=FALSE;
                Enabled=(Type <> Type::"Fixed Asset") AND (Type <> Type::" ");
                OnAssistEdit=BEGIN
                               ShowDeferralSchedule;
                             END;
                              }

    { 78  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           ESM=Especifica el c¢digo de dimensi¢n del acceso directo 1, que es uno de los dos c¢digos de dimensi¢n globales que se configuran en la ventana Configuraci¢n de contabilidad.;
                           FRC=SpÇcifie le code du raccourci dimensionˇ1 qui est l'un des codes de dimension principaux que vous configurez dans la fenàtre configuration du grand livre.;
                           ENC=Specifies the code for Shortcut Dimension 1, which is one of two global dimension codes that you set up in the General Ledger Setup window.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 1 Code";
                Visible=FALSE }

    { 76  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.;
                           ESM=Especifica el c¢digo de dimensi¢n del acceso directo 2, que es uno de los dos c¢digos de dimensi¢n globales que se configuran en la ventana Configuraci¢n de contabilidad.;
                           FRC=SpÇcifie le code du raccourci dimensionˇ2 qui est l'un des codes de dimension principaux que vous configurez dans la fenàtre configuration du grand livre.;
                           ENC=Specifies the code for Shortcut Dimension 2, which is one of two global dimension codes that you set up in the General Ledger Setup window.];
                ApplicationArea=#Dimensions;
                SourceExpr="Shortcut Dimension 2 Code";
                Visible=FALSE }

    { 300 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[3];
                CaptionClass='1,2,3';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(3),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(3,ShortcutDimCode[3]);
                           END;
                            }

    { 302 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[4];
                CaptionClass='1,2,4';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(4),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(4,ShortcutDimCode[4]);
                           END;
                            }

    { 304 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[5];
                CaptionClass='1,2,5';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(5),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(5,ShortcutDimCode[5]);
                           END;
                            }

    { 306 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[6];
                CaptionClass='1,2,6';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(6),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(6,ShortcutDimCode[6]);
                           END;
                            }

    { 308 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[7];
                CaptionClass='1,2,7';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(7),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(7,ShortcutDimCode[7]);
                           END;
                            }

    { 310 ;2   ;Field     ;
                ApplicationArea=#Suite;
                SourceExpr=ShortcutDimCode[8];
                CaptionClass='1,2,8';
                TableRelation="Dimension Value".Code WHERE (Global Dimension No.=CONST(8),
                                                            Dimension Value Type=CONST(Standard),
                                                            Blocked=CONST(No));
                Visible=FALSE;
                OnValidate=BEGIN
                             ValidateShortcutDimCode(8,ShortcutDimCode[8]);
                           END;
                            }

    { 1480008;2;Field     ;
                ToolTipML=[ENU=Specifies if the amount is to be a 1099 amount.;
                           ESM=Especifica si el importe debe ser un importe de tipo formulario 1099.;
                           FRC=SpÇcifie s'il doit s'agir d'un montant 1099.;
                           ENC=Specifies if the amount is to be a 1099 amount.];
                ApplicationArea=#Suite;
                SourceExpr="IRS 1099 Liable";
                Visible=FALSE }

    { 25  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the document number.;
                           ESM=Especifica el n£mero de documento.;
                           FRC=SpÇcifie le numÇro du document.;
                           ENC=Specifies the document number.];
                ApplicationArea=#Suite;
                SourceExpr="Document No.";
                Visible=FALSE;
                Editable=FALSE }

    { 27  ;2   ;Field     ;
                ToolTipML=[ENU=Specifies the number of this line.;
                           ESM=Especifica el n£mero de esta l°nea.;
                           FRC=SpÇcifie le numÇro de cette ligne.;
                           ENC=Specifies the number of this line.];
                ApplicationArea=#Suite;
                SourceExpr="Line No.";
                Visible=FALSE;
                Editable=FALSE }

    { 43  ;1   ;Group     ;
                GroupType=Group }

    { 37  ;2   ;Group     ;
                GroupType=Group }

    { 35  ;3   ;Field     ;
                Name=Invoice Discount Amount;
                CaptionML=[ENU=Invoice Discount Amount;
                           ESM=Importe descuento factura;
                           FRC=Montant d'escompte de la facture;
                           ENC=Invoice Discount Amount];
                ToolTipML=[ENU=Specifies the amount that is calculated and shown in the Invoice Discount Amount field. The invoice discount amount is deducted from the value shown in the Total Amount Incl. Tax field.;
                           ESM=Especifica el importe que se calcula y se muestra en el campo Importe descuento en factura. El importe de descuento en factura se deduce del valor que se muestra en el campo Importe total incl. IVA.;
                           FRC=SpÇcifie le montant calculÇ et affichÇ dans le champ Montant d'escompte de la facture. Le montant d'escompte de la facture est dÇduit de la valeur indiquÇe dans le champ Montant total TTC.;
                           ENC=Specifies the amount that is calculated and shown in the Invoice Discount Amount field. The invoice discount amount is deducted from the value shown in the Total Amount Incl. Tax field.];
                ApplicationArea=#Suite;
                SourceExpr=InvoiceDiscountAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetInvoiceDiscAmountWithVATAndCurrencyCaption(FIELDCAPTION("Inv. Discount Amount"),Currency.Code);
                Editable=InvDiscAmountEditable;
                OnValidate=BEGIN
                             ValidateInvoiceDiscountAmount;
                           END;
                            }

    { 33  ;3   ;Field     ;
                Name=Invoice Disc. Pct.;
                CaptionML=[ENU=Invoice Discount %;
                           ESM=% descuento en factura;
                           FRC=% escompte facture;
                           ENC=Invoice Discount %];
                ToolTipML=[ENU=Specifies a discount percentage that is granted if criteria that you have set up for the customer are met. The calculated discount amount is inserted in the Invoice Discount Amount field, but you can change it manually.;
                           ESM=Especifica un porcentaje de descuento que se concede si se cumplen los criterios que configur¢ para el cliente. El importe de descuento calculado se inserta en el campo Importe descuento en factura, pero lo puede cambiar de forma manual.;
                           FRC=SpÇcifie le pourcentage d'escompte accordÇ si les critäres que vous avez dÇfinis pour le client sont remplis. Le montant calculÇ de l'escompte est insÇrÇ dans le champ Montant d'escompte de la facture, mais vous pouvez le modifier manuellement.;
                           ENC=Specifies a discount percentage that is granted if criteria that you have set up for the customer are met. The calculated discount amount is inserted in the Invoice Discount Amount field, but you can change it manually.];
                ApplicationArea=#Suite;
                DecimalPlaces=0:3;
                SourceExpr=InvoiceDiscountPct;
                Editable=FALSE;
                OnValidate=BEGIN
                             AmountWithDiscountAllowed := DocumentTotals.CalcTotalPurchAmountOnlyDiscountAllowed(Rec);
                             InvoiceDiscountAmount := ROUND(AmountWithDiscountAllowed * InvoiceDiscountPct / 100,Currency."Amount Rounding Precision");
                             ValidateInvoiceDiscountAmount;
                           END;
                            }

    { 19  ;2   ;Group     ;
                GroupType=Group }

    { 17  ;3   ;Field     ;
                Name=Total Amount Excl. VAT;
                DrillDown=No;
                CaptionML=[ENU=Total Amount Excl. Tax;
                           ESM=Importe total sin IVA;
                           FRC=Montant total HT;
                           ENC=Total Amount Excl. Tax];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Excl. Tax field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           ESM=Especifica la suma del valor del campo Importe l°n. IVA exc. en todas las l°neas del documento menos cualquier importe de descuento en el campo Importe descuento en factura.;
                           FRC=SpÇcifie la somme de la valeur du champ Montant ligne HT sur toutes les lignes du document, moins l'Çventuel montant escompte indiquÇ dans le champ Montant d'escompte de la facture.;
                           ENC=Specifies the sum of the value in the Line Amount Excl. Tax field on all lines in the document minus any discount amount in the Invoice Discount Amount field.];
                ApplicationArea=#Suite;
                SourceExpr=TotalPurchaseLine.Amount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalExclVATCaption(Currency.Code);
                Editable=FALSE }

    { 15  ;3   ;Field     ;
                Name=Total VAT Amount;
                CaptionML=[ENU=Total Tax;
                           ESM=IVA total;
                           FRC=Total TVA;
                           ENC=Total Tax];
                ToolTipML=[ENU=Specifies the sum of Tax amounts on all lines in the document.;
                           ESM=Especifica la suma de los importes de IVA en todas las l°neas del documento.;
                           FRC=SpÇcifie la somme des montants de TVA sur toutes les lignes du document.;
                           ENC=Specifies the sum of Tax amounts on all lines in the document.];
                ApplicationArea=#Suite;
                SourceExpr=VATAmount;
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalVATCaption(Currency.Code);
                Editable=FALSE }

    { 13  ;3   ;Field     ;
                Name=Total Amount Incl. VAT;
                CaptionML=[ENU=Total Amount Incl. Tax;
                           ESM=Importe total con IVA;
                           FRC=Montant total TTC;
                           ENC=Total Amount Incl. Tax];
                ToolTipML=[ENU=Specifies the sum of the value in the Line Amount Incl. Tax field on all lines in the document minus any discount amount in the Invoice Discount Amount field.;
                           ESM=Especifica la suma del valor del campo Importe de l°nea con IVA en todas las l°neas del documento menos cualquier importe de descuento en el campo Importe descuento en factura.;
                           FRC=SpÇcifie la somme de la valeur du champ Montant TTC sur toutes les lignes du document, moins l'Çventuel montant escompte indiquÇ dans le champ Montant d'escompte de la facture.;
                           ENC=Specifies the sum of the value in the Line Amount Incl. Tax field on all lines in the document minus any discount amount in the Invoice Discount Amount field.];
                ApplicationArea=#Suite;
                SourceExpr=TotalPurchaseLine."Amount Including VAT";
                AutoFormatType=1;
                AutoFormatExpr="Currency Code";
                CaptionClass=DocumentTotals.GetTotalInclVATCaption(Currency.Code);
                Editable=FALSE }

    { 47  ;1   ;Group     ;
                Visible=FALSE;
                GroupType=Group }

    { 49  ;2   ;Field     ;
                Name=UpdateTotalsMessage;
                ApplicationArea=#Basic,#Suite;
                Editable=False;
                ShowCaption=No }

    { 53  ;2   ;Field     ;
                Name=UpdateTotals;
                ApplicationArea=#Basic,#Suite;
                Editable=FALSE;
                ShowCaption=No }

  }
  CODE
  {
    VAR
      TotalPurchaseHeader@1009 : Record 38;
      TotalPurchaseLine@1008 : Record 39;
      PurchaseHeader@1005 : Record 38;
      Currency@1022 : Record 4;
      PurchasesPayablesSetup@1038 : Record 312;
      TempOptionLookupBuffer@1001 : TEMPORARY Record 1670;
      ApplicationAreaMgmtFacade@1000 : Codeunit 9179;
      TransferExtendedText@1002 : Codeunit 378;
      ItemAvailFormsMgt@1006 : Codeunit 353;
      Text001@1007 : TextConst 'ENU=You cannot use the Explode BOM function because a prepayment of the purchase order has been invoiced.;ESM=No puede usar la funci¢n Desplegar L.M. puesto que se ha facturado un anticipo del pedido de compra.;FRC=Vous ne pouvez pas utiliser la fonction êclater nomenclature car un paiement anticipÇ du bon de commande a ÇtÇ facturÇ.;ENC=You cannot use the Explode BOM function because a prepayment of the purchase order has been invoiced.';
      PurchCalcDiscByType@1010 : Codeunit 66;
      DocumentTotals@1017 : Codeunit 57;
      ShortcutDimCode@1003 : ARRAY [8] OF Code[20];
      VATAmount@1018 : Decimal;
      InvoiceDiscountAmount@1036 : Decimal;
      InvoiceDiscountPct@1037 : Decimal;
      AmountWithDiscountAllowed@1039 : Decimal;
      TypeAsText@1020 : Text[30];
      ItemChargeStyleExpression@1016 : Text;
      InvDiscAmountEditable@1012 : Boolean;
      IsCommentLine@1019 : Boolean;
      IsFoundation@1021 : Boolean;
      UnitofMeasureCodeIsChangeable@1011 : Boolean;
      UpdateInvDiscountQst@1014 : TextConst 'ENU=One or more lines have been invoiced. The discount distributed to invoiced lines will not be taken into account.\\Do you want to update the invoice discount?;ESM=Se han facturado una o varias l°neas. No se tendr† en cuenta el descuento distribuido entre las l°neas facturadas.\\®Desea actualizar el descuento en factura?;FRC=Une ou plusieurs lignes ont ÇtÇ facturÇes. L''escompte rÇparti sur les lignes facturÇes n''est pas pris en compte.\\Voulez-vous mettre Ö jour l''escompte factureˇ?;ENC=One or more lines have been invoiced. The discount distributed to invoiced lines will not be taken into account.\\Do you want to update the invoice discount?';
      CurrPageIsEditable@1023 : Boolean;

    [External]
    PROCEDURE ApproveCalcInvDisc@7();
    BEGIN
      CODEUNIT.RUN(CODEUNIT::"Purch.-Disc. (Yes/No)",Rec);
    END;

    LOCAL PROCEDURE ValidateInvoiceDiscountAmount@30();
    BEGIN
      PurchaseHeader.GET("Document Type","Document No.");
      IF PurchaseHeader.InvoicedLineExists THEN
        IF NOT CONFIRM(UpdateInvDiscountQst,FALSE) THEN
          EXIT;

      PurchCalcDiscByType.ApplyInvDiscBasedOnAmt(InvoiceDiscountAmount,PurchaseHeader);
      CurrPage.UPDATE(FALSE);
    END;

    LOCAL PROCEDURE ExplodeBOM@3();
    BEGIN
      IF "Prepmt. Amt. Inv." <> 0 THEN
        ERROR(Text001);
      CODEUNIT.RUN(CODEUNIT::"Purch.-Explode BOM",Rec);
    END;

    LOCAL PROCEDURE OpenSalesOrderForm@5();
    VAR
      SalesHeader@1000 : Record 36;
      SalesOrder@1001 : Page 42;
    BEGIN
      TESTFIELD("Sales Order No.");
      SalesHeader.SETRANGE("No.","Sales Order No.");
      SalesOrder.SETTABLEVIEW(SalesHeader);
      SalesOrder.EDITABLE := FALSE;
      SalesOrder.RUN;
    END;

    LOCAL PROCEDURE InsertExtendedText@6(Unconditionally@1000 : Boolean);
    BEGIN
      OnBeforeInsertExtendedText(Rec);
      IF TransferExtendedText.PurchCheckIfAnyExtText(Rec,Unconditionally) THEN BEGIN
        CurrPage.SAVERECORD;
        TransferExtendedText.InsertPurchExtText(Rec);
      END;
      IF TransferExtendedText.MakeUpdate THEN
        UpdateForm(TRUE);
    END;

    [External]
    PROCEDURE ShowTracking@10();
    VAR
      TrackingForm@1000 : Page 99000822;
    BEGIN
      TrackingForm.SetPurchLine(Rec);
      TrackingForm.RUNMODAL;
    END;

    LOCAL PROCEDURE OpenSpecOrderSalesOrderForm@12();
    VAR
      SalesHeader@1000 : Record 36;
      SalesOrder@1001 : Page 42;
    BEGIN
      TESTFIELD("Special Order Sales No.");
      SalesHeader.SETRANGE("No.","Special Order Sales No.");
      SalesOrder.SETTABLEVIEW(SalesHeader);
      SalesOrder.EDITABLE := FALSE;
      SalesOrder.RUN;
    END;

    [External]
    PROCEDURE UpdateForm@13(SetSaveRecord@1000 : Boolean);
    BEGIN
      CurrPage.UPDATE(SetSaveRecord);
    END;

    LOCAL PROCEDURE NoOnAfterValidate@409();
    BEGIN
      UpdateEditableOnRow;
      InsertExtendedText(FALSE);
      IF (Type = Type::"Charge (Item)") AND ("No." <> xRec."No.") AND
         (xRec."No." <> '')
      THEN
        CurrPage.SAVERECORD;
    END;

    LOCAL PROCEDURE CrossReferenceNoOnAfterValidat@2059();
    BEGIN
      InsertExtendedText(FALSE);
    END;

    [External]
    PROCEDURE ShowDocumentLineTracking@24();
    VAR
      DocumentLineTracking@1000 : Page 6560;
    BEGIN
      CLEAR(DocumentLineTracking);
      DocumentLineTracking.SetDoc(1,"Document No.","Line No.","Blanket Order No.","Blanket Order Line No.",'',0);
      DocumentLineTracking.RUNMODAL;
    END;

    PROCEDURE RedistributeTotalsOnAfterValidate@1020000();
    BEGIN
      CurrPage.SAVERECORD;

      DocumentTotals.PurchaseRedistributeInvoiceDiscountAmounts(Rec,VATAmount,TotalPurchaseLine);
    END;

    LOCAL PROCEDURE GetTotalsPurchaseHeader@15();
    BEGIN
      DocumentTotals.GetTotalPurchaseHeaderAndCurrency(Rec,TotalPurchaseHeader,Currency);
    END;

    LOCAL PROCEDURE CalculateTotals@16();
    BEGIN
      DocumentTotals.CalculatePurchaseSubPageTotals(
        TotalPurchaseHeader,TotalPurchaseLine,VATAmount,InvoiceDiscountAmount,InvoiceDiscountPct);
    END;

    LOCAL PROCEDURE UpdateEditableOnRow@8();
    BEGIN
      UnitofMeasureCodeIsChangeable := CanEditUnitOfMeasureCode;
      IsCommentLine := Type = Type::" ";
      CurrPageIsEditable := CurrPage.EDITABLE;
      InvDiscAmountEditable := CurrPageIsEditable AND NOT PurchasesPayablesSetup."Calc. Inv. Discount";
    END;

    LOCAL PROCEDURE UpdateTypeText@14();
    VAR
      RecRef@1000 : RecordRef;
    BEGIN
      IF NOT IsFoundation THEN
        EXIT;

      RecRef.GETTABLE(Rec);
      TypeAsText := TempOptionLookupBuffer.FormatOption(RecRef.FIELD(FIELDNO(Type)));
    END;

    LOCAL PROCEDURE SetItemChargeFieldsStyle@77();
    BEGIN
      ItemChargeStyleExpression := '';
      IF AssignedItemCharge AND ("Qty. Assigned" <> Quantity) THEN
        ItemChargeStyleExpression := 'Unfavorable';
    END;

    [Integration]
    LOCAL PROCEDURE OnBeforeInsertExtendedText@9(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    [Integration]
    LOCAL PROCEDURE OnCrossReferenceNoOnLookup@4(VAR PurchaseLine@1000 : Record 39);
    BEGIN
    END;

    BEGIN
    END.
  }
}

OBJECT Page 50000 Expenses
{
  OBJECT-PROPERTIES
  {
    Date=01/30/19;
    Time=14:37:35;
    Modified=Yes;
    Version List=FuturisticCAL;
  }
  PROPERTIES
  {
    SourceTable=Table50000;
    PageType=List;
    ActionList=ACTIONS
    {
      { 1240060005;  ;ActionContainer;
                      CaptionML=ENU=ActionContainer;
                      ActionContainerType=NewDocumentItems }
      { 1240060006;1 ;Action    ;
                      Name=WhereUsed;
                      CaptionML=ENU=Where Used;
                      Promoted=Yes;
                      Image=Track;
                      PromotedCategory=Process;
                      OnAction=BEGIN
                                 CheckExpenseUsed(Rec.Code);
                               END;
                                }
    }
  }
  CONTROLS
  {
    { 1240060000;0;Container;
                ContainerType=ContentArea }

    { 1240060001;1;Group  ;
                Name=Group;
                GroupType=Repeater }

    { 1240060002;2;Field  ;
                SourceExpr=Code }

    { 1240060003;2;Field  ;
                SourceExpr=Description }

    { 1240060004;2;Field  ;
                SourceExpr=Disabled }

  }
  CODE
  {

    BEGIN
    END.
  }
}

